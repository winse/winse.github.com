<!DOCTYPE html>
<html>
<body onkeydown="myFunction(event)" >

<h1>The Document Object</h1>
<h2>The execCommand() Method</h2>

<p>The executeCommand() method executes a specified command on selected text.</p>
<p>Select some text in this page, and press SHIFT to make the selected text toggle between bold and normal.</p>

<p>
  <ul>
    <li>1</li>
    <li>222<hr/>222</li>
    <li>3</li>
  </ul>
</p>

<script>
document.designMode = "on";

// https://developer.mozilla.org/en-US/docs/Web/API/Document/execCommand
// https://www.w3schools.com/jsref/met_document_execcommand.asp

// https://github.com/jzaefferer/undo/blob/master/demos/contenteditable.html
function myFunction(e) {
  if (e.ctrlKey) {
  console.log(e.key);
    switch(e.key) {
      case 'b': {
      document.execCommand("bold");
      break;
      }
      case 'i': {
      document.execCommand("italic");
      break;
      }
      case 'u': {
      document.execCommand("underline");
      break;
      }
      case 's': {
      document.execCommand("strikeThrough");
      break;
	  }
      case 'r': {
      const range = window.getSelection().getRangeAt(0);
	  const fragment = range.cloneContents()//extractContents();
	  console.log(fragment);
      break;
      }
	  
    }
	
	e.preventDefault();
  }
}
</script>

</body>
</html>
