
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Winse Blog</title>
  <meta name="author" content="Winse Liu">

  
  <meta name="description" content="å‰é¢ä¸€æ®µæ—¶åˆ»ï¼Œé€šè¿‡ https://github.com/zhayujie/bot-on-anything å¯¹æ¥è¿‡ä¸ªäººå¾®ä¿¡çš„ç¾¤ï¼Œä½†æ˜¯æ²¡è¿‡å¤šä¹…å¾®ä¿¡å°±è¢«è­¦å‘Šä¸èƒ½æ‰«ç äº†ï¼Œå‰å‡ å¤©æ›´æ–°äº†é’‰é’‰æœºå™¨äººçš„å¯¹æ¥æ–¹æ³•ï¼Œå°è¯•äº†ä¸€ä¸‹æ„Ÿè§‰è¿˜è¡Œé©¬é©¬è™è™ã€‚ å½“ç„¶è¿‡ç¨‹æ˜¯æªå¿ƒçš„ï¼šé’‰é’‰æ–‡æ¡£åœ¨æ›´æ–°å‡çº§ï¼Œbotè¿™è¾¹çš„æ–‡æ¡£å¤ªç®€å•ï¼Œ &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://winse.github.io">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="/atom.xml" rel="alternate" title="Winse Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//cdn.bootcss.com/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/libs/jquery.toc.min.js" type="text/javascript"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<!--
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
-->

<script src="/javascripts/generate-toc.js" type="text/javascript"></script>


  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-43198550-1', 'auto');
  ga('send', 'pageview');

</script>



</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Winse Blog</a></h1>
  
    <h2>èµ°èµ°åœåœ, ç†™ç†™æ”˜æ”˜, å¿™å¿™ç¢Œç¢Œ, ä¸çŸ¥ä½•ç•.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:winse.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="ç«™å†…æœç´¢"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/blog/archives/updated.html">Updated</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2023/04/09/dingtalk-with-openai/">é’‰é’‰ç¾¤æœºå™¨äººå¯¹æ¥ChatGPT</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2023-04-09T19:25:42+08:00" pubdate data-updated="true">Sun 2023-04-09 19:25</time>
		
        
		
      </p>
    
  </header>


  <div class="entry-content"><p>å‰é¢ä¸€æ®µæ—¶åˆ»ï¼Œé€šè¿‡ <a href="https://github.com/zhayujie/bot-on-anything">https://github.com/zhayujie/bot-on-anything</a> å¯¹æ¥è¿‡ä¸ªäººå¾®ä¿¡çš„ç¾¤ï¼Œä½†æ˜¯æ²¡è¿‡å¤šä¹…å¾®ä¿¡å°±è¢«è­¦å‘Šä¸èƒ½æ‰«ç äº†ï¼Œå‰å‡ å¤©æ›´æ–°äº†é’‰é’‰æœºå™¨äººçš„å¯¹æ¥æ–¹æ³•ï¼Œå°è¯•äº†ä¸€ä¸‹æ„Ÿè§‰è¿˜è¡Œé©¬é©¬è™è™ã€‚</p>

<p>å½“ç„¶è¿‡ç¨‹æ˜¯æªå¿ƒçš„ï¼šé’‰é’‰æ–‡æ¡£åœ¨æ›´æ–°å‡çº§ï¼Œbotè¿™è¾¹çš„æ–‡æ¡£å¤ªç®€å•ï¼Œéœ€è¦å¯¹ç€ä»£ç ï¼Œç„¶åå¯¹ç€dingtalkå®˜æ–¹çš„æ–‡æ¡£å¯¹ç…§ç€å»æ’æŸ¥ã€‚</p>

<h2>ç¬¬ä¸€æ­¥ é¦–å…ˆæ˜¯åˆ›å»ºä¼ä¸šå†…éƒ¨æœºå™¨äººï¼Œè·å–Secret</h2>

<p>å¹³æ—¶å¯¹æ¥çš„å‘Šè­¦æœºå™¨äººæ˜¯åªèƒ½å‘æ¶ˆæ¯çš„ï¼Œä¸èƒ½æ¥æ”¶æ¶ˆæ¯ã€‚</p>

<p>åœ¨é’‰é’‰APPä¸­åˆ›å»ºä¸€ä¸ªç»„ç»‡ï¼Œç„¶ååœ¨ä»¥è¿™ä¸ªç»„ç»‡ç™»å½• <a href="https://open-dev.dingtalk.com/v1/fe/old#/corprobot">https://open-dev.dingtalk.com/v1/fe/old#/corprobot</a> ç„¶åå†ç‚¹å‡» åˆ›å»ºæœºå™¨äººï¼š</p>

<p>å…¶ä¸­åŸºç¡€ä¿¡æ¯ä¸­çš„AppSecretåé¢ä¼šç”¨åˆ°ï¼Œå¯¹åº”dingtalk_secretï¼š</p>

<p><img src="/images/blogs/openai/dingtalk1.png" alt="æœºå™¨äººåŸºç¡€ä¿¡æ¯" /></p>

<p>ç„¶åé…ç½®æ¥å—æ¶ˆæ¯çš„åœ°å€ï¼šå°±æ˜¯é’‰é’‰æœåŠ¡å™¨æ”¶åˆ°æ¶ˆæ¯åï¼ŒæŠŠæ¶ˆæ¯è½¬å‘åˆ°ä½ çš„æœåŠ¡å™¨ï¼ˆå…¬ç½‘å¯è®¿é—®çš„ï¼‰åœ°å€ã€‚æœåŠ¡å™¨å‡ºå£IPï¼šå°±æ˜¯ä½ éƒ¨ç½²æœåŠ¡å™¨çš„å…¬ç½‘IPï¼Œä¸ºäº†éªŒè¯ä¿¡æ¯çš„åˆæ³•æ€§çš„ä¸€ä¸ªå‚æ•°ã€‚</p>

<p><img src="/images/blogs/openai/dingtalk2.png" alt="æœåŠ¡é…ç½®" /></p>

<p>åˆ›å»ºå¥½æœºå™¨äººåï¼Œåœ¨ç‰ˆæœ¬ç®¡ç†å’Œå‘å¸ƒé¡µç­¾ä¸­ï¼Œä¸Šçº¿æœºå™¨äººã€‚è¿™æ ·æˆ‘ä»¬åœ¨ç»„ç»‡çš„ç¾¤é‡Œé¢å°±èƒ½é€‰æ‹©è¿™ä¸ªæœºå™¨äººäº†ã€‚</p>

<h2>ç¬¬äºŒæ­¥ æŠŠæœºå™¨äººåŠ å…¥ç»„ç»‡ç¾¤ï¼Œè·å–Token</h2>

<p>é€‰æ‹© ç¾¤è®¾ç½® - æœºå™¨äºº - æ·»åŠ æœºå™¨äººï¼ŒæŠŠåˆšåˆšåˆ›å»ºçš„æœºå™¨äººåŠ å…¥åˆ°æˆ‘ä»¬ç»„ç»‡/å…¬å¸ç¾¤ï¼Œç„¶åæŸ¥çœ‹æœºå™¨äººçš„è®¾ç½®ï¼Œä¼šæä¾›ä¸€ä¸ªwebhookçš„åœ°å€ï¼Œè¿™ä¸€ä¸²åœ°å€ä¸­å°±åŒ…æ‹¬äº†ä¸€ä¸ªaccess_tokençš„å­—ç¬¦ä¸²å‚æ•°ï¼Œå°±æ˜¯åé¢éœ€è¦ç”¨çš„dingtalk_tokenã€‚</p>

<p><img src="/images/blogs/openai/dingtalk3.png" alt="æœºå™¨äººç®¡ç†" /></p>

<p><img src="/images/blogs/openai/dingtalk4.png" alt="æœºå™¨äººè®¾ç½®/é…ç½®é¡µé¢" /></p>

<h2>ç¬¬ä¸‰æ­¥ é…ç½®botï¼Œå¯åŠ¨æœåŠ¡</h2>

<p>é…ç½®bot-on-anythingçš„config.jsonï¼Œä¿®æ”¹ channel - type çš„ç±»å‹ä¸º dingtalkï¼Œdingtalkçš„å‚æ•°ä¸ºï¼šæœºå™¨äººåº”ç”¨å‡­è¯çš„AppSecretå¯¹åº”dingtalk_secretï¼›å‘å¸ƒæœºå™¨äººï¼ŒæŠŠæœºå™¨äººåŠ å…¥åˆ°ç¾¤åï¼Œæœºå™¨äººè®¾ç½®é¡µé¢çš„webhookåœ°å€ä¸Šçš„access_tokenå¯¹åº”çš„æ˜¯dingtalk_tokenã€‚</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>"channel": {
</span><span class='line'>    "type": "dingtalk",
</span><span class='line'>    "single_chat_prefix": ["bot", "@bot"],
</span><span class='line'>    "single_chat_reply_prefix": "[bot] ",
</span><span class='line'>    "group_chat_prefix": ["@bot"],
</span><span class='line'>    "group_name_white_list": ["ChatGPTæµ‹è¯•ç¾¤"],
</span><span class='line'>    "image_create_prefix": ["ç”»", "çœ‹", "æ‰¾ä¸€å¼ "],
</span><span class='line'>
</span><span class='line'>    "wechat": {
</span><span class='line'>    },
</span><span class='line'>
</span><span class='line'>    "wechat_mp": {
</span><span class='line'>      "token": "2023...",
</span><span class='line'>      "port": "3000"
</span><span class='line'>    },
</span><span class='line'>
</span><span class='line'>    "dingtalk": {
</span><span class='line'>      "image_create_prefix": ["ç”»", "draw", "Draw"],
</span><span class='line'>      "port": "3000",
</span><span class='line'>      "dingtalk_token": "d55566a9e90...",
</span><span class='line'>      "dingtalk_post_token": "",
</span><span class='line'>      "dingtalk_secret": "PUMsK......"
</span><span class='line'>    },
</span><span class='line'>  </span></code></pre></td></tr></table></div></figure>


<p>å¯åŠ¨æœåŠ¡ï¼Œæ„‰å¿«çš„è€èµ·æ¥ã€‚</p>

<h2>ç¬¬å››æ­¥ å°å°æ”¹è¿›</h2>

<p>åœ¨æµ‹è¯•å›¾ç‰‡æ¶ˆæ¯çš„æ—¶åˆ»ï¼Œå‘ç°è¿˜ä¸å¤ªæ”¯æŒï¼Œè¿˜æœ‰å›å¤æ¶ˆæ¯atæé—®çš„äººä¹Ÿå°å°æ”¹è¿›äº†ä¸€ä¸‹ï¼š</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cat dingtalk_channel.py 
</span><span class='line'># encoding:utf-8
</span><span class='line'>import json
</span><span class='line'>import hmac
</span><span class='line'>import hashlib
</span><span class='line'>import base64
</span><span class='line'>import time
</span><span class='line'>import requests
</span><span class='line'>from urllib.parse import quote_plus
</span><span class='line'>from common import log
</span><span class='line'>from flask import Flask, request, render_template, make_response
</span><span class='line'>from common import const
</span><span class='line'>from common import functions
</span><span class='line'>from config import channel_conf
</span><span class='line'>from config import channel_conf_val
</span><span class='line'>from channel.channel import Channel
</span><span class='line'>
</span><span class='line'>class DingTalkChannel(Channel):
</span><span class='line'>    def __init__(self):
</span><span class='line'>        self.dingtalk_token = channel_conf(const.DINGTALK).get('dingtalk_token')
</span><span class='line'>        self.dingtalk_post_token = channel_conf(const.DINGTALK).get('dingtalk_post_token')
</span><span class='line'>        self.dingtalk_secret = channel_conf(const.DINGTALK).get('dingtalk_secret')
</span><span class='line'>        log.info("[DingTalk] dingtalk_secret={}, dingtalk_token={} dingtalk_post_token={}".format(self.dingtalk_secret, self.dingtalk_token, self.dingtalk_post_token))
</span><span class='line'>
</span><span class='line'>    def startup(self):
</span><span class='line'>        http_app.run(host='0.0.0.0', port=channel_conf(const.DINGTALK).get('port'))
</span><span class='line'>        
</span><span class='line'>    def notify_dingtalk(self, data):
</span><span class='line'>        timestamp = round(time.time() * 1000)
</span><span class='line'>        secret_enc = bytes(self.dingtalk_secret, encoding='utf-8')
</span><span class='line'>        string_to_sign = '{}\n{}'.format(timestamp, self.dingtalk_secret)
</span><span class='line'>        string_to_sign_enc = bytes(string_to_sign, encoding='utf-8')
</span><span class='line'>        hmac_code = hmac.new(secret_enc, string_to_sign_enc,
</span><span class='line'>                             digestmod=hashlib.sha256).digest()
</span><span class='line'>        sign = quote_plus(base64.b64encode(hmac_code))
</span><span class='line'>
</span><span class='line'>        notify_url = f"https://oapi.dingtalk.com/robot/send?access_token={self.dingtalk_token}&timestamp={timestamp}&sign={sign}"
</span><span class='line'>        try:
</span><span class='line'>            r = requests.post(notify_url, json=data)
</span><span class='line'>            reply = r.json()
</span><span class='line'>            # log.info("[DingTalk] reply={}".format(str(reply)))
</span><span class='line'>        except Exception as e:
</span><span class='line'>            log.error(e)
</span><span class='line'>
</span><span class='line'>    def handle(self, resp):
</span><span class='line'>        reply = "æ‚¨å¥½ï¼Œæœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®åŠ©æ‚¨è§£ç­”çš„é—®é¢˜å—ï¼Ÿ"
</span><span class='line'>        prompt = resp['text']['content']
</span><span class='line'>        prompt = prompt.strip()
</span><span class='line'>        if str(prompt) != 0:
</span><span class='line'>            conversation_id = resp['conversationId']
</span><span class='line'>            sender_id = resp['senderId']
</span><span class='line'>            context = dict()
</span><span class='line'>            img_match_prefix = functions.check_prefix(
</span><span class='line'>                prompt, channel_conf_val(const.DINGTALK, 'image_create_prefix'))
</span><span class='line'>            if img_match_prefix:
</span><span class='line'>                prompt = prompt.split(img_match_prefix, 1)[1].strip()
</span><span class='line'>                context['type'] = 'IMAGE_CREATE'
</span><span class='line'>            id = sender_id
</span><span class='line'>            nick = resp['senderNick']
</span><span class='line'>            staffid = resp['senderStaffId']
</span><span class='line'>            context['from_user_id'] = str(id)
</span><span class='line'>            reply = super().build_reply_content(prompt, context)
</span><span class='line'>        if img_match_prefix and isinstance(reply, list):
</span><span class='line'>            images = ""
</span><span class='line'>            for url in reply:
</span><span class='line'>                images += f"!['IMAGE_CREATE']({url})\n"
</span><span class='line'>            reply = images
</span><span class='line'>            resp = {
</span><span class='line'>                "msgtype": "markdown",
</span><span class='line'>                "markdown": {
</span><span class='line'>                    "title": "IMAGE @" + nick + " ", 
</span><span class='line'>                    "text": images + " \n " + "@" + nick
</span><span class='line'>                },
</span><span class='line'>                "at": {
</span><span class='line'>                    "atUserIds": [
</span><span class='line'>                        staffid
</span><span class='line'>                    ],
</span><span class='line'>                    "isAtAll": False
</span><span class='line'>                }
</span><span class='line'>            }
</span><span class='line'>        else:
</span><span class='line'>            resp = {
</span><span class='line'>                "msgtype": "text",
</span><span class='line'>                "text": {
</span><span class='line'>                    "content": reply
</span><span class='line'>                },
</span><span class='line'>                "at": {
</span><span class='line'>                    "atUserIds": [
</span><span class='line'>                       staffid 
</span><span class='line'>                    ],
</span><span class='line'>                    "isAtAll": False
</span><span class='line'>                }
</span><span class='line'>            }
</span><span class='line'>        return resp 
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>dd = DingTalkChannel()
</span><span class='line'>http_app = Flask(__name__,)
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>@http_app.route("/", methods=['POST'])
</span><span class='line'>def chat():
</span><span class='line'>    log.info("[DingTalk] chat_headers={}".format(str(request.headers)))
</span><span class='line'>    log.info("[DingTalk] chat={}".format(str(request.data)))
</span><span class='line'>    token = request.headers.get('token')
</span><span class='line'>    if dd.dingtalk_post_token and token != dd.dingtalk_post_token:
</span><span class='line'>        return {'ret': 203}
</span><span class='line'>    data = json.loads(request.data)
</span><span class='line'>    if data:
</span><span class='line'>        content = data['text']['content']
</span><span class='line'>        if not content:
</span><span class='line'>            return
</span><span class='line'>        reply = dd.handle(resp=data);
</span><span class='line'>        dd.notify_dingtalk(reply)
</span><span class='line'>        return {'ret': 200}
</span><span class='line'>    return {'ret': 201}
</span></code></pre></td></tr></table></div></figure>


<p>&ndash;END</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2023/03/26/clash-on-raspberry4/">æ ‘è“æ´¾4å®‰è£…Clash</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2023-03-26T00:31:01+08:00" pubdate data-updated="true">Sun 2023-03-26 00:31</time>
		
        
		
      </p>
    
  </header>


  <div class="entry-content"><h2>å®‰è£…Clash</h2>

<p>å‚è€ƒï¼š<a href="https://mraddict.top/posts/clash-on-rpi/">https://mraddict.top/posts/clash-on-rpi/</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>root@ubuntu:~# arch
</span><span class='line'>
</span><span class='line'># ä¸‹è½½ä¸Šä¼ clash
</span><span class='line'>root@ubuntu:~# mv clash-linux-arm64 /usr/local/bin/
</span><span class='line'>
</span><span class='line'>root@ubuntu:~# cd /usr/local/bin/
</span><span class='line'>root@ubuntu:/usr/local/bin# chmod +x clash-linux-arm64 
</span><span class='line'>root@ubuntu:/usr/local/bin# ln -s clash-linux-arm64 clash
</span><span class='line'>root@ubuntu:/usr/local/bin# ls clash*
</span><span class='line'>clash  clash-linux-arm64
</span><span class='line'>root@ubuntu:/usr/local/bin# ls -l clash*
</span><span class='line'>lrwxrwxrwx 1 root root      17 Mar 24 21:43 clash -&gt; clash-linux-arm64
</span><span class='line'>-rwxr-xr-x 1 root root 8978432 Jan 29 18:59 clash-linux-arm64
</span><span class='line'>
</span><span class='line'>
</span><span class='line'># å¯åŠ¨ä¸€æ¬¡ï¼Œä¼šç”Ÿæˆé…ç½®å’Œä¸‹è½½Country.mmdbæ–‡ä»¶ï¼š
</span><span class='line'>root@ubuntu:/usr/local/bin# clash
</span><span class='line'>INFO[0000] Can't find config, create a initial config file 
</span><span class='line'>INFO[0000] Can't find MMDB, start download              
</span><span class='line'>INFO[0344] Mixed(http+socks) proxy listening at: 127.0.0.1:7890 
</span><span class='line'>
</span><span class='line'># clash-ui
</span><span class='line'>root@ubuntu:/usr/local/bin# cd ~/.config/clash
</span><span class='line'>root@ubuntu:~/.config/clash# git clone --branch gh-pages https://github.com/Dreamacro/clash-dashboard.git    
</span><span class='line'>Cloning into 'clash-dashboard'...
</span><span class='line'>remote: Enumerating objects: 3951, done.
</span><span class='line'>remote: Counting objects: 100% (232/232), done.
</span><span class='line'>remote: Compressing objects: 100% (172/172), done.
</span><span class='line'>remote: Total 3951 (delta 79), reused 189 (delta 56), pack-reused 3719
</span><span class='line'>Receiving objects: 100% (3951/3951), 4.87 MiB | 21.00 KiB/s, done.
</span><span class='line'>Resolving deltas: 100% (2240/2240), done.
</span></code></pre></td></tr></table></div></figure>


<p>é…ç½®ï¼š</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>## é…ç½®æ–‡ä»¶ï¼šhttps://github.com/Dreamacro/clash/wiki/Configuration#introduction
</span><span class='line'>## ä¸‹è½½æœåŠ¡æä¾›çš„è®¢é˜…åœ°å€å†…å®¹ï¼Œä¿å­˜åˆ°æ–‡ä»¶ã€‚
</span><span class='line'>
</span><span class='line'>root@ubuntu:~/.config/clash# ln -s Clash_1679667989.yaml config.yaml
</span><span class='line'>root@ubuntu:~/.config/clash# vi config.yaml 
</span><span class='line'>  11 mode: rule
</span><span class='line'>  12 log-level: debug
</span><span class='line'>  13 external-ui: clash-dashboard
</span><span class='line'>  14 external-controller: '0.0.0.0:9090'
</span><span class='line'>  
</span><span class='line'>
</span><span class='line'>root@ubuntu:~/.config/clash# clash
</span><span class='line'>INFO[0000] Start initial compatible provider ğŸ¬å“”å“©å“”å“©      
</span><span class='line'>INFO[0000] Start initial compatible provider âš“ï¸å…¶ä»–æµé‡     
</span><span class='line'>INFO[0000] Start initial compatible provider âœˆï¸Telegram 
</span><span class='line'>INFO[0000] Start initial compatible provider ğŸ¬Netflix   
</span><span class='line'>INFO[0000] Start initial compatible provider ğŸè‹¹æœæœåŠ¡      
</span><span class='line'>INFO[0000] Start initial compatible provider ğŸ¬Youtube   
</span><span class='line'>INFO[0000] Start initial compatible provider ğŸ¬å›½å¤–åª’ä½“      
</span><span class='line'>INFO[0000] Start initial compatible provider ğŸš€ç›´æ¥è¿æ¥      
</span><span class='line'>INFO[0000] Start initial compatible provider ğŸ”°å›½å¤–æµé‡      
</span><span class='line'>INFO[0000] Start initial compatible provider â“‚ï¸ å¾®è½¯æœåŠ¡    
</span><span class='line'>INFO[0000] HTTP proxy listening at: 127.0.0.1:7890      
</span><span class='line'>INFO[0000] RESTful API listening at: [::]:9090          
</span><span class='line'>INFO[0000] SOCKS proxy listening at: 127.0.0.1:7891     
</span><span class='line'>INFO[0000] Redirect proxy listening at: 127.0.0.1:7892 
</span><span class='line'>
</span><span class='line'>
</span><span class='line'># æ‰“å¼€ http://192.168.123.41:9090/ui/#/settings é¡µé¢åï¼Œæ·»åŠ ä¸€ä¸‹æœåŠ¡å™¨çš„ipåœ°å€ï¼Œå°±å¯ä»¥è®¿é—®äº†ã€‚
</span></code></pre></td></tr></table></div></figure>


<h2>å®‰è£…conda</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
<span class='line-number'>180</span>
<span class='line-number'>181</span>
<span class='line-number'>182</span>
<span class='line-number'>183</span>
<span class='line-number'>184</span>
<span class='line-number'>185</span>
<span class='line-number'>186</span>
<span class='line-number'>187</span>
<span class='line-number'>188</span>
<span class='line-number'>189</span>
<span class='line-number'>190</span>
<span class='line-number'>191</span>
<span class='line-number'>192</span>
<span class='line-number'>193</span>
<span class='line-number'>194</span>
<span class='line-number'>195</span>
<span class='line-number'>196</span>
<span class='line-number'>197</span>
<span class='line-number'>198</span>
<span class='line-number'>199</span>
<span class='line-number'>200</span>
<span class='line-number'>201</span>
<span class='line-number'>202</span>
<span class='line-number'>203</span>
<span class='line-number'>204</span>
<span class='line-number'>205</span>
<span class='line-number'>206</span>
<span class='line-number'>207</span>
<span class='line-number'>208</span>
<span class='line-number'>209</span>
<span class='line-number'>210</span>
<span class='line-number'>211</span>
<span class='line-number'>212</span>
<span class='line-number'>213</span>
<span class='line-number'>214</span>
<span class='line-number'>215</span>
<span class='line-number'>216</span>
<span class='line-number'>217</span>
<span class='line-number'>218</span>
<span class='line-number'>219</span>
<span class='line-number'>220</span>
<span class='line-number'>221</span>
<span class='line-number'>222</span>
<span class='line-number'>223</span>
<span class='line-number'>224</span>
<span class='line-number'>225</span>
<span class='line-number'>226</span>
<span class='line-number'>227</span>
<span class='line-number'>228</span>
<span class='line-number'>229</span>
<span class='line-number'>230</span>
<span class='line-number'>231</span>
<span class='line-number'>232</span>
<span class='line-number'>233</span>
<span class='line-number'>234</span>
<span class='line-number'>235</span>
<span class='line-number'>236</span>
<span class='line-number'>237</span>
<span class='line-number'>238</span>
<span class='line-number'>239</span>
<span class='line-number'>240</span>
<span class='line-number'>241</span>
<span class='line-number'>242</span>
<span class='line-number'>243</span>
<span class='line-number'>244</span>
<span class='line-number'>245</span>
<span class='line-number'>246</span>
<span class='line-number'>247</span>
<span class='line-number'>248</span>
<span class='line-number'>249</span>
<span class='line-number'>250</span>
<span class='line-number'>251</span>
<span class='line-number'>252</span>
<span class='line-number'>253</span>
<span class='line-number'>254</span>
<span class='line-number'>255</span>
<span class='line-number'>256</span>
<span class='line-number'>257</span>
<span class='line-number'>258</span>
<span class='line-number'>259</span>
<span class='line-number'>260</span>
<span class='line-number'>261</span>
<span class='line-number'>262</span>
<span class='line-number'>263</span>
<span class='line-number'>264</span>
<span class='line-number'>265</span>
<span class='line-number'>266</span>
<span class='line-number'>267</span>
<span class='line-number'>268</span>
<span class='line-number'>269</span>
<span class='line-number'>270</span>
<span class='line-number'>271</span>
<span class='line-number'>272</span>
<span class='line-number'>273</span>
<span class='line-number'>274</span>
<span class='line-number'>275</span>
<span class='line-number'>276</span>
<span class='line-number'>277</span>
<span class='line-number'>278</span>
<span class='line-number'>279</span>
<span class='line-number'>280</span>
<span class='line-number'>281</span>
<span class='line-number'>282</span>
<span class='line-number'>283</span>
<span class='line-number'>284</span>
<span class='line-number'>285</span>
<span class='line-number'>286</span>
<span class='line-number'>287</span>
<span class='line-number'>288</span>
<span class='line-number'>289</span>
<span class='line-number'>290</span>
<span class='line-number'>291</span>
<span class='line-number'>292</span>
<span class='line-number'>293</span>
<span class='line-number'>294</span>
<span class='line-number'>295</span>
<span class='line-number'>296</span>
<span class='line-number'>297</span>
<span class='line-number'>298</span>
<span class='line-number'>299</span>
<span class='line-number'>300</span>
<span class='line-number'>301</span>
<span class='line-number'>302</span>
<span class='line-number'>303</span>
<span class='line-number'>304</span>
<span class='line-number'>305</span>
<span class='line-number'>306</span>
<span class='line-number'>307</span>
<span class='line-number'>308</span>
<span class='line-number'>309</span>
<span class='line-number'>310</span>
<span class='line-number'>311</span>
<span class='line-number'>312</span>
<span class='line-number'>313</span>
<span class='line-number'>314</span>
<span class='line-number'>315</span>
<span class='line-number'>316</span>
<span class='line-number'>317</span>
<span class='line-number'>318</span>
<span class='line-number'>319</span>
<span class='line-number'>320</span>
<span class='line-number'>321</span>
<span class='line-number'>322</span>
<span class='line-number'>323</span>
<span class='line-number'>324</span>
<span class='line-number'>325</span>
<span class='line-number'>326</span>
<span class='line-number'>327</span>
<span class='line-number'>328</span>
<span class='line-number'>329</span>
<span class='line-number'>330</span>
<span class='line-number'>331</span>
<span class='line-number'>332</span>
<span class='line-number'>333</span>
<span class='line-number'>334</span>
<span class='line-number'>335</span>
<span class='line-number'>336</span>
<span class='line-number'>337</span>
<span class='line-number'>338</span>
<span class='line-number'>339</span>
<span class='line-number'>340</span>
<span class='line-number'>341</span>
<span class='line-number'>342</span>
<span class='line-number'>343</span>
<span class='line-number'>344</span>
<span class='line-number'>345</span>
<span class='line-number'>346</span>
<span class='line-number'>347</span>
<span class='line-number'>348</span>
<span class='line-number'>349</span>
<span class='line-number'>350</span>
<span class='line-number'>351</span>
<span class='line-number'>352</span>
<span class='line-number'>353</span>
<span class='line-number'>354</span>
<span class='line-number'>355</span>
<span class='line-number'>356</span>
<span class='line-number'>357</span>
<span class='line-number'>358</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># ç”¨ä»£ç†ä¸‹è½½åé¢çš„æ•°æ®
</span><span class='line'>root@ubuntu:~# export http_proxy="http://127.0.0.1:7890"
</span><span class='line'>root@ubuntu:~# export https_proxy="http://127.0.0.1:7890"
</span><span class='line'>
</span><span class='line'>root@ubuntu:~# wget https://github.com/conda-forge/miniforge/releases/latest/download/Miniforge3-Linux-aarch64.sh     
</span><span class='line'>--2023-03-24 23:16:35--  https://github.com/conda-forge/miniforge/releases/latest/download/Miniforge3-Linux-aarch64.sh
</span><span class='line'>Connecting to 127.0.0.1:7890... connected.
</span><span class='line'>Proxy request sent, awaiting response... 302 Found
</span><span class='line'>Location: https://github.com/conda-forge/miniforge/releases/download/22.11.1-4/Miniforge3-Linux-aarch64.sh [following]
</span><span class='line'>--2023-03-24 23:16:35--  https://github.com/conda-forge/miniforge/releases/download/22.11.1-4/Miniforge3-Linux-aarch64.sh
</span><span class='line'>Reusing existing connection to github.com:443.
</span><span class='line'>Proxy request sent, awaiting response... 302 Found
</span><span class='line'>Location: https://objects.githubusercontent.com/github-production-release-asset-2e65be/221584272/97169057-ca90-4fce-873e-a7d6d2e1db90?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20230324%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20230324T151635Z&X-Amz-Expires=300&X-Amz-Signature=c46561816462b1e2bcd82d8b99f8ce840f4ff9b6214fda083828079783d43f0f&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=221584272&response-content-disposition=attachment%3B%20filename%3DMiniforge3-Linux-aarch64.sh&response-content-type=application%2Foctet-stream [following]
</span><span class='line'>--2023-03-24 23:16:36--  https://objects.githubusercontent.com/github-production-release-asset-2e65be/221584272/97169057-ca90-4fce-873e-a7d6d2e1db90?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20230324%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20230324T151635Z&X-Amz-Expires=300&X-Amz-Signature=c46561816462b1e2bcd82d8b99f8ce840f4ff9b6214fda083828079783d43f0f&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=221584272&response-content-disposition=attachment%3B%20filename%3DMiniforge3-Linux-aarch64.sh&response-content-type=application%2Foctet-stream
</span><span class='line'>Connecting to 127.0.0.1:7890... connected.
</span><span class='line'>Proxy request sent, awaiting response... 200 OK
</span><span class='line'>Length: 53550114 (51M) [application/octet-stream]
</span><span class='line'>Saving to: â€˜Miniforge3-Linux-aarch64.sh.1â€™
</span><span class='line'>
</span><span class='line'>Miniforge3-Linux-aarch64.sh.1                    1%[&gt;                                                                                                  ] 752.00K  9.01KB/s    in 74s     
</span><span class='line'>
</span><span class='line'>2023-03-24 23:17:51 (10.2 KB/s) - Connection closed at byte 770048. Retrying.
</span><span class='line'>
</span><span class='line'>## é»˜è®¤ç”¨çš„æ˜¯directï¼Œæ²¡æœ‰ç¿»å¢™ã€‚åœ¨9090/uié¡µé¢å…ˆæŠŠåŸæ¥çš„[è¿æ¥]åœæ‰ï¼Œç„¶åæŠŠ[ä»£ç†]åˆ‡æ¢åˆ°é¦™æ¸¯çš„èŠ‚ç‚¹
</span><span class='line'>
</span><span class='line'>--2023-03-24 23:17:52--  (try: 2)  https://objects.githubusercontent.com/github-production-release-asset-2e65be/221584272/97169057-ca90-4fce-873e-a7d6d2e1db90?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20230324%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20230324T151635Z&X-Amz-Expires=300&X-Amz-Signature=c46561816462b1e2bcd82d8b99f8ce840f4ff9b6214fda083828079783d43f0f&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=221584272&response-content-disposition=attachment%3B%20filename%3DMiniforge3-Linux-aarch64.sh&response-content-type=application%2Foctet-stream
</span><span class='line'>Connecting to 127.0.0.1:7890... connected.
</span><span class='line'>Proxy request sent, awaiting response... 206 Partial Content
</span><span class='line'>Length: 53550114 (51M), 52780066 (50M) remaining [application/octet-stream]
</span><span class='line'>Saving to: â€˜Miniforge3-Linux-aarch64.sh.1â€™
</span><span class='line'>
</span><span class='line'>Miniforge3-Linux-aarch64.sh.1                  100%[+=================================================================================================&gt;]  51.07M  2.79MB/s    in 21s     
</span><span class='line'>
</span><span class='line'>2023-03-24 23:18:14 (2.39 MB/s) - â€˜Miniforge3-Linux-aarch64.sh.1â€™ saved [53550114/53550114]
</span><span class='line'>
</span><span class='line'>root@ubuntu:~# 
</span><span class='line'>
</span><span class='line'>root@ubuntu:~# rm -rf Miniforge3-Linux-aarch64.sh
</span><span class='line'>root@ubuntu:~# mv Miniforge3-Linux-aarch64.sh.1 Miniforge3-Linux-aarch64.sh
</span><span class='line'>root@ubuntu:~# chmod +x Miniforge3-Linux-aarch64.sh
</span><span class='line'>
</span><span class='line'>root@ubuntu:~# rm -rf /usr/local/miniforge3
</span><span class='line'>root@ubuntu:~# ./Miniforge3-Linux-aarch64.sh 
</span><span class='line'>
</span><span class='line'>Welcome to Miniforge3 22.11.1-4
</span><span class='line'>
</span><span class='line'>In order to continue the installation process, please review the license
</span><span class='line'>agreement.
</span><span class='line'>Please, press ENTER to continue
</span><span class='line'>&gt;&gt;&gt;  
</span><span class='line'>Miniforge installer code uses BSD-3-Clause license as stated below.
</span><span class='line'>
</span><span class='line'>Binary packages that come with it have their own licensing terms
</span><span class='line'>and by installing miniforge you agree to the licensing terms of individual
</span><span class='line'>packages as well. They include different OSI-approved licenses including
</span><span class='line'>the GNU General Public License and can be found in pkgs/&lt;pkg-name&gt;/info/licenses
</span><span class='line'>folders.
</span><span class='line'>
</span><span class='line'>Miniforge installer comes with a boostrapping executable that is used
</span><span class='line'>when installing miniforge and is deleted after miniforge is installed.
</span><span class='line'>The bootstrapping executable uses micromamba, cli11, cpp-filesystem,
</span><span class='line'>curl, c-ares, krb5, libarchive, libev, lz4, nghttp2, openssl, libsolv,
</span><span class='line'>nlohmann-json, reproc and zstd which are licensed under BSD-3-Clause,
</span><span class='line'>MIT and OpenSSL licenses. Licenses and copyright notices of these
</span><span class='line'>projects can be found at the following URL.
</span><span class='line'>https://github.com/conda-forge/micromamba-feedstock/tree/master/recipe.
</span><span class='line'>
</span><span class='line'>=============================================================================
</span><span class='line'>
</span><span class='line'>Copyright (c) 2019-2022, conda-forge
</span><span class='line'>All rights reserved.
</span><span class='line'>
</span><span class='line'>Redistribution and use in source and binary forms, with or without
</span><span class='line'>modification, are permitted provided that the following conditions are met:
</span><span class='line'>
</span><span class='line'>1. Redistributions of source code must retain the above copyright notice, this
</span><span class='line'>list of conditions and the following disclaimer.
</span><span class='line'>
</span><span class='line'>2. Redistributions in binary form must reproduce the above copyright notice,
</span><span class='line'>this list of conditions and the following disclaimer in the documentation
</span><span class='line'>and/or other materials provided with the distribution.
</span><span class='line'>
</span><span class='line'>3. Neither the name of the copyright holder nor the names of its contributors
</span><span class='line'>may be used to endorse or promote products derived from this software without
</span><span class='line'>specific prior written permission.
</span><span class='line'>
</span><span class='line'>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
</span><span class='line'>ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
</span><span class='line'>WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
</span><span class='line'>DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
</span><span class='line'>FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
</span><span class='line'>DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
</span><span class='line'>SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
</span><span class='line'>CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
</span><span class='line'>OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
</span><span class='line'>OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>Do you accept the license terms? [yes|no]
</span><span class='line'>[no] &gt;&gt;&gt; yes
</span><span class='line'>
</span><span class='line'>Miniforge3 will now be installed into this location:
</span><span class='line'>/root/miniforge3
</span><span class='line'>
</span><span class='line'>  - Press ENTER to confirm the location
</span><span class='line'>  - Press CTRL-C to abort the installation
</span><span class='line'>  - Or specify a different location below
</span><span class='line'>
</span><span class='line'>[/root/miniforge3] &gt;&gt;&gt; /usr/local/miniforge3   
</span><span class='line'>PREFIX=/usr/local/miniforge3
</span><span class='line'>Unpacking payload ...
</span><span class='line'>Extracting ca-certificates-2022.12.7-h4fd8a4c_0.conda
</span><span class='line'>Extracting ld_impl_linux-aarch64-2.40-h2d8c526_0.conda
</span><span class='line'>Extracting libgomp-12.2.0-h607ecd0_19.tar.bz2
</span><span class='line'>Extracting libstdcxx-ng-12.2.0-hc13a102_19.tar.bz2
</span><span class='line'>Extracting python_abi-3.10-3_cp310.conda
</span><span class='line'>Extracting tzdata-2022g-h191b570_0.conda
</span><span class='line'>Extracting _openmp_mutex-4.5-2_gnu.tar.bz2
</span><span class='line'>Extracting libgcc-ng-12.2.0-h607ecd0_19.tar.bz2
</span><span class='line'>Extracting bzip2-1.0.8-hf897c2e_4.tar.bz2
</span><span class='line'>Extracting libffi-3.4.2-h3557bc0_5.tar.bz2
</span><span class='line'>Extracting libnsl-2.0.0-hf897c2e_0.tar.bz2
</span><span class='line'>Extracting libuuid-2.32.1-hf897c2e_1000.tar.bz2
</span><span class='line'>Extracting libzlib-1.2.13-h4e544f5_4.tar.bz2
</span><span class='line'>Extracting ncurses-6.3-headf329_1.tar.bz2
</span><span class='line'>Extracting openssl-3.0.8-hb4cce97_0.conda
</span><span class='line'>Extracting xz-5.2.6-h9cdd2b7_0.tar.bz2
</span><span class='line'>Extracting libsqlite-3.40.0-hf9034f9_0.tar.bz2
</span><span class='line'>Extracting readline-8.1.2-h38e3740_0.tar.bz2
</span><span class='line'>Extracting tk-8.6.12-hd8af866_0.tar.bz2
</span><span class='line'>Extracting zstd-1.5.2-h44f6412_6.conda
</span><span class='line'>Extracting python-3.10.9-ha43d526_0_cpython.conda
</span><span class='line'>Extracting certifi-2022.12.7-pyhd8ed1ab_0.conda
</span><span class='line'>Extracting charset-normalizer-2.1.1-pyhd8ed1ab_0.tar.bz2
</span><span class='line'>Extracting colorama-0.4.6-pyhd8ed1ab_0.tar.bz2
</span><span class='line'>Extracting idna-3.4-pyhd8ed1ab_0.tar.bz2
</span><span class='line'>Extracting pluggy-1.0.0-pyhd8ed1ab_5.tar.bz2
</span><span class='line'>Extracting pycosat-0.6.4-py310h761cc84_1.tar.bz2
</span><span class='line'>Extracting pycparser-2.21-pyhd8ed1ab_0.tar.bz2
</span><span class='line'>Extracting pysocks-1.7.1-pyha2e5f31_6.tar.bz2
</span><span class='line'>Extracting ruamel.yaml.clib-0.2.7-py310hb89b984_1.conda
</span><span class='line'>Extracting setuptools-65.6.3-pyhd8ed1ab_0.conda
</span><span class='line'>Extracting toolz-0.12.0-pyhd8ed1ab_0.tar.bz2
</span><span class='line'>Extracting wheel-0.38.4-pyhd8ed1ab_0.tar.bz2
</span><span class='line'>Extracting cffi-1.15.1-py310hf0c4615_3.conda
</span><span class='line'>Extracting pip-23.0-pyhd8ed1ab_0.conda
</span><span class='line'>Extracting ruamel.yaml-0.17.21-py310h761cc84_2.tar.bz2
</span><span class='line'>Extracting tqdm-4.64.1-pyhd8ed1ab_0.tar.bz2
</span><span class='line'>Extracting brotlipy-0.7.0-py310h761cc84_1005.tar.bz2
</span><span class='line'>Extracting cryptography-39.0.1-py310he4ba0b1_0.conda
</span><span class='line'>Extracting zstandard-0.19.0-py310hde4b81c_1.conda
</span><span class='line'>Extracting conda-package-streaming-0.7.0-pyhd8ed1ab_1.conda
</span><span class='line'>Extracting pyopenssl-23.0.0-pyhd8ed1ab_0.conda
</span><span class='line'>Extracting conda-package-handling-2.0.2-pyh38be061_0.conda
</span><span class='line'>Extracting urllib3-1.26.14-pyhd8ed1ab_0.conda
</span><span class='line'>Extracting requests-2.28.2-pyhd8ed1ab_0.conda
</span><span class='line'>Extracting conda-22.11.1-py310h4c7bcd0_1.conda
</span><span class='line'>
</span><span class='line'>Installing base environment...
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>                                           __
</span><span class='line'>          __  ______ ___  ____ _____ ___  / /_  ____ _
</span><span class='line'>         / / / / __ `__ \/ __ `/ __ `__ \/ __ \/ __ `/
</span><span class='line'>        / /_/ / / / / / / /_/ / / / / / / /_/ / /_/ /
</span><span class='line'>       / .___/_/ /_/ /_/\__,_/_/ /_/ /_/_.___/\__,_/
</span><span class='line'>      /_/
</span><span class='line'>
</span><span class='line'>Transaction
</span><span class='line'>
</span><span class='line'>  Prefix: /usr/local/miniforge3
</span><span class='line'>
</span><span class='line'>  Updating specs:
</span><span class='line'>
</span><span class='line'>   - conda-forge/linux-aarch64::ca-certificates==2022.12.7=h4fd8a4c_0[md5=2450fbcaf65634e0d071e47e2b8487b4]
</span><span class='line'>   - conda-forge/linux-aarch64::ld_impl_linux-aarch64==2.40=h2d8c526_0[md5=16246d69e945d0b1969a6099e7c5d457]
</span><span class='line'>   - conda-forge/linux-aarch64::libgomp==12.2.0=h607ecd0_19[md5=65b9cb876525dcb2e74a90cf02c6762a]
</span><span class='line'>   - conda-forge/linux-aarch64::libstdcxx-ng==12.2.0=hc13a102_19[md5=981741cd4321edd5c504b48f74fe91f2]
</span><span class='line'>   - conda-forge/linux-aarch64::python_abi==3.10=3_cp310[md5=7f4f00b03d3a7c4d4b8b987e5da461a9]
</span><span class='line'>   - conda-forge/noarch::tzdata==2022g=h191b570_0[md5=51fc4fcfb19f5d95ffc8c339db5068e8]
</span><span class='line'>   - conda-forge/linux-aarch64::_openmp_mutex==4.5=2_gnu[md5=6168d71addc746e8f2b8d57dfd2edcea]
</span><span class='line'>   - conda-forge/linux-aarch64::libgcc-ng==12.2.0=h607ecd0_19[md5=8456a29b6d9fc3123ccb9a966b6b2c49]
</span><span class='line'>   - conda-forge/linux-aarch64::bzip2==1.0.8=hf897c2e_4[md5=2d787570a729e273a4e75775ddf3348a]
</span><span class='line'>   - conda-forge/linux-aarch64::libffi==3.4.2=h3557bc0_5[md5=dddd85f4d52121fab0a8b099c5e06501]
</span><span class='line'>   - conda-forge/linux-aarch64::libnsl==2.0.0=hf897c2e_0[md5=36fdbc05c9d9145ece86f5a63c3f352e]
</span><span class='line'>   - conda-forge/linux-aarch64::libuuid==2.32.1=hf897c2e_1000[md5=e038da5ef9095b0d79aac14a311394e7]
</span><span class='line'>   - conda-forge/linux-aarch64::libzlib==1.2.13=h4e544f5_4[md5=88596b6277fe6d39f046983aae6044db]
</span><span class='line'>   - conda-forge/linux-aarch64::ncurses==6.3=headf329_1[md5=486b68148e121bc8bbadc3cefae4c04f]
</span><span class='line'>   - conda-forge/linux-aarch64::openssl==3.0.8=hb4cce97_0[md5=268fe30a14a3f40fe54da04fc053fd2d]
</span><span class='line'>   - conda-forge/linux-aarch64::xz==5.2.6=h9cdd2b7_0[md5=83baad393a31d59c20b63ba4da6592df]
</span><span class='line'>   - conda-forge/linux-aarch64::libsqlite==3.40.0=hf9034f9_0[md5=9afb0d5dbaa403858a660cd0b4a31d29]
</span><span class='line'>   - conda-forge/linux-aarch64::readline==8.1.2=h38e3740_0[md5=3cdbfb7d7b63ae2c2d35bb167d257ecd]
</span><span class='line'>   - conda-forge/linux-aarch64::tk==8.6.12=hd8af866_0[md5=7894e82ff743bd96c76585ddebe28e2a]
</span><span class='line'>   - conda-forge/linux-aarch64::zstd==1.5.2=h44f6412_6[md5=6d0d1cd6d184129eabb96bb220afb5b2]
</span><span class='line'>   - conda-forge/linux-aarch64::python==3.10.9=ha43d526_0_cpython[md5=24478dd738f2d557efe2a4fc6a248eb3]
</span><span class='line'>   - conda-forge/noarch::certifi==2022.12.7=pyhd8ed1ab_0[md5=fb9addc3db06e56abe03e0e9f21a63e6]
</span><span class='line'>   - conda-forge/noarch::charset-normalizer==2.1.1=pyhd8ed1ab_0[md5=c1d5b294fbf9a795dec349a6f4d8be8e]
</span><span class='line'>   - conda-forge/noarch::colorama==0.4.6=pyhd8ed1ab_0[md5=3faab06a954c2a04039983f2c4a50d99]
</span><span class='line'>   - conda-forge/noarch::idna==3.4=pyhd8ed1ab_0[md5=34272b248891bddccc64479f9a7fffed]
</span><span class='line'>   - conda-forge/noarch::pluggy==1.0.0=pyhd8ed1ab_5[md5=7d301a0d25f424d96175f810935f0da9]
</span><span class='line'>   - conda-forge/linux-aarch64::pycosat==0.6.4=py310h761cc84_1[md5=c701cff6d6e7907c93ab603e58082a7c]
</span><span class='line'>   - conda-forge/noarch::pycparser==2.21=pyhd8ed1ab_0[md5=076becd9e05608f8dc72757d5f3a91ff]
</span><span class='line'>   - conda-forge/noarch::pysocks==1.7.1=pyha2e5f31_6[md5=2a7de29fb590ca14b5243c4c812c8025]
</span><span class='line'>   - conda-forge/linux-aarch64::ruamel.yaml.clib==0.2.7=py310hb89b984_1[md5=89972c78c36ed3261c22bde7c012be03]
</span><span class='line'>   - conda-forge/noarch::setuptools==65.6.3=pyhd8ed1ab_0[md5=9600fc9524d3f821e6a6d58c52f5bf5a]
</span><span class='line'>   - conda-forge/noarch::toolz==0.12.0=pyhd8ed1ab_0[md5=92facfec94bc02d6ccf42e7173831a36]
</span><span class='line'>   - conda-forge/noarch::wheel==0.38.4=pyhd8ed1ab_0[md5=c829cfb8cb826acb9de0ac1a2df0a940]
</span><span class='line'>   - conda-forge/linux-aarch64::cffi==1.15.1=py310hf0c4615_3[md5=a2bedcb1d205485ea32fe5d2bd6fd970]
</span><span class='line'>   - conda-forge/noarch::pip==23.0=pyhd8ed1ab_0[md5=85b35999162ec95f9f999bac15279c02]
</span><span class='line'>   - conda-forge/linux-aarch64::ruamel.yaml==0.17.21=py310h761cc84_2[md5=98c0b13f20fcb4f5080554d137e39b37]
</span><span class='line'>   - conda-forge/noarch::tqdm==4.64.1=pyhd8ed1ab_0[md5=5526ff3f88f9db87bb0924b9ce575345]
</span><span class='line'>   - conda-forge/linux-aarch64::brotlipy==0.7.0=py310h761cc84_1005[md5=66934993368d01f896652925d3ac7e66]
</span><span class='line'>   - conda-forge/linux-aarch64::cryptography==39.0.1=py310he4ba0b1_0[md5=3129345d217e5fd6488df794e49e327b]
</span><span class='line'>   - conda-forge/linux-aarch64::zstandard==0.19.0=py310hde4b81c_1[md5=d4b3cc980179c38949c83fe23057d97c]
</span><span class='line'>   - conda-forge/noarch::conda-package-streaming==0.7.0=pyhd8ed1ab_1[md5=1a2fa9e53cfbc2e4d9ab21990805a436]
</span><span class='line'>   - conda-forge/noarch::pyopenssl==23.0.0=pyhd8ed1ab_0[md5=d41957700e83bbb925928764cb7f8878]
</span><span class='line'>   - conda-forge/noarch::conda-package-handling==2.0.2=pyh38be061_0[md5=44800e9bd13143292097c65e57323038]
</span><span class='line'>   - conda-forge/noarch::urllib3==1.26.14=pyhd8ed1ab_0[md5=01f33ad2e0aaf6b5ba4add50dad5ad29]
</span><span class='line'>   - conda-forge/noarch::requests==2.28.2=pyhd8ed1ab_0[md5=11d178fc55199482ee48d6812ea83983]
</span><span class='line'>   - conda-forge/linux-aarch64::conda==22.11.1=py310h4c7bcd0_1[md5=a71c4cc6bd77f61c0c1601b28291c460]
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>  Package                      Version  Build               Channel           Size
</span><span class='line'>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
</span><span class='line'>  Install:
</span><span class='line'>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
</span><span class='line'>
</span><span class='line'>  + _openmp_mutex                  4.5  2_gnu               conda-forge     Cached
</span><span class='line'>  + brotlipy                     0.7.0  py310h761cc84_1005  conda-forge     Cached
</span><span class='line'>  + bzip2                        1.0.8  hf897c2e_4          conda-forge     Cached
</span><span class='line'>  + ca-certificates          2022.12.7  h4fd8a4c_0          conda-forge     Cached
</span><span class='line'>  + certifi                  2022.12.7  pyhd8ed1ab_0        conda-forge     Cached
</span><span class='line'>  + cffi                        1.15.1  py310hf0c4615_3     conda-forge     Cached
</span><span class='line'>  + charset-normalizer           2.1.1  pyhd8ed1ab_0        conda-forge     Cached
</span><span class='line'>  + colorama                     0.4.6  pyhd8ed1ab_0        conda-forge     Cached
</span><span class='line'>  + conda                      22.11.1  py310h4c7bcd0_1     conda-forge     Cached
</span><span class='line'>  + conda-package-handling       2.0.2  pyh38be061_0        conda-forge     Cached
</span><span class='line'>  + conda-package-streaming      0.7.0  pyhd8ed1ab_1        conda-forge     Cached
</span><span class='line'>  + cryptography                39.0.1  py310he4ba0b1_0     conda-forge     Cached
</span><span class='line'>  + idna                           3.4  pyhd8ed1ab_0        conda-forge     Cached
</span><span class='line'>  + ld_impl_linux-aarch64         2.40  h2d8c526_0          conda-forge     Cached
</span><span class='line'>  + libffi                       3.4.2  h3557bc0_5          conda-forge     Cached
</span><span class='line'>  + libgcc-ng                   12.2.0  h607ecd0_19         conda-forge     Cached
</span><span class='line'>  + libgomp                     12.2.0  h607ecd0_19         conda-forge     Cached
</span><span class='line'>  + libnsl                       2.0.0  hf897c2e_0          conda-forge     Cached
</span><span class='line'>  + libsqlite                   3.40.0  hf9034f9_0          conda-forge     Cached
</span><span class='line'>  + libstdcxx-ng                12.2.0  hc13a102_19         conda-forge     Cached
</span><span class='line'>  + libuuid                     2.32.1  hf897c2e_1000       conda-forge     Cached
</span><span class='line'>  + libzlib                     1.2.13  h4e544f5_4          conda-forge     Cached
</span><span class='line'>  + ncurses                        6.3  headf329_1          conda-forge     Cached
</span><span class='line'>  + openssl                      3.0.8  hb4cce97_0          conda-forge     Cached
</span><span class='line'>  + pip                           23.0  pyhd8ed1ab_0        conda-forge     Cached
</span><span class='line'>  + pluggy                       1.0.0  pyhd8ed1ab_5        conda-forge     Cached
</span><span class='line'>  + pycosat                      0.6.4  py310h761cc84_1     conda-forge     Cached
</span><span class='line'>  + pycparser                     2.21  pyhd8ed1ab_0        conda-forge     Cached
</span><span class='line'>  + pyopenssl                   23.0.0  pyhd8ed1ab_0        conda-forge     Cached
</span><span class='line'>  + pysocks                      1.7.1  pyha2e5f31_6        conda-forge     Cached
</span><span class='line'>  + python                      3.10.9  ha43d526_0_cpython  conda-forge     Cached
</span><span class='line'>  + python_abi                    3.10  3_cp310             conda-forge     Cached
</span><span class='line'>  + readline                     8.1.2  h38e3740_0          conda-forge     Cached
</span><span class='line'>  + requests                    2.28.2  pyhd8ed1ab_0        conda-forge     Cached
</span><span class='line'>  + ruamel.yaml                0.17.21  py310h761cc84_2     conda-forge     Cached
</span><span class='line'>  + ruamel.yaml.clib             0.2.7  py310hb89b984_1     conda-forge     Cached
</span><span class='line'>  + setuptools                  65.6.3  pyhd8ed1ab_0        conda-forge     Cached
</span><span class='line'>  + tk                          8.6.12  hd8af866_0          conda-forge     Cached
</span><span class='line'>  + toolz                       0.12.0  pyhd8ed1ab_0        conda-forge     Cached
</span><span class='line'>  + tqdm                        4.64.1  pyhd8ed1ab_0        conda-forge     Cached
</span><span class='line'>  + tzdata                       2022g  h191b570_0          conda-forge     Cached
</span><span class='line'>  + urllib3                    1.26.14  pyhd8ed1ab_0        conda-forge     Cached
</span><span class='line'>  + wheel                       0.38.4  pyhd8ed1ab_0        conda-forge     Cached
</span><span class='line'>  + xz                           5.2.6  h9cdd2b7_0          conda-forge     Cached
</span><span class='line'>  + zstandard                   0.19.0  py310hde4b81c_1     conda-forge     Cached
</span><span class='line'>  + zstd                         1.5.2  h44f6412_6          conda-forge     Cached
</span><span class='line'>
</span><span class='line'>  Summary:
</span><span class='line'>
</span><span class='line'>  Install: 46 packages
</span><span class='line'>
</span><span class='line'>  Total download: 0 B
</span><span class='line'>
</span><span class='line'>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>Transaction starting
</span><span class='line'>Linking ca-certificates-2022.12.7-h4fd8a4c_0
</span><span class='line'>Linking ld_impl_linux-aarch64-2.40-h2d8c526_0
</span><span class='line'>Linking libgomp-12.2.0-h607ecd0_19
</span><span class='line'>Linking libstdcxx-ng-12.2.0-hc13a102_19
</span><span class='line'>Linking python_abi-3.10-3_cp310
</span><span class='line'>Linking tzdata-2022g-h191b570_0
</span><span class='line'>Linking _openmp_mutex-4.5-2_gnu
</span><span class='line'>Linking libgcc-ng-12.2.0-h607ecd0_19
</span><span class='line'>Linking bzip2-1.0.8-hf897c2e_4
</span><span class='line'>Linking libffi-3.4.2-h3557bc0_5
</span><span class='line'>Linking libnsl-2.0.0-hf897c2e_0
</span><span class='line'>Linking libuuid-2.32.1-hf897c2e_1000
</span><span class='line'>Linking libzlib-1.2.13-h4e544f5_4
</span><span class='line'>Linking ncurses-6.3-headf329_1
</span><span class='line'>Linking openssl-3.0.8-hb4cce97_0
</span><span class='line'>Linking xz-5.2.6-h9cdd2b7_0
</span><span class='line'>Linking libsqlite-3.40.0-hf9034f9_0
</span><span class='line'>Linking readline-8.1.2-h38e3740_0
</span><span class='line'>Linking tk-8.6.12-hd8af866_0
</span><span class='line'>Linking zstd-1.5.2-h44f6412_6
</span><span class='line'>Linking python-3.10.9-ha43d526_0_cpython
</span><span class='line'>Linking certifi-2022.12.7-pyhd8ed1ab_0
</span><span class='line'>Linking charset-normalizer-2.1.1-pyhd8ed1ab_0
</span><span class='line'>Linking colorama-0.4.6-pyhd8ed1ab_0
</span><span class='line'>Linking idna-3.4-pyhd8ed1ab_0
</span><span class='line'>Linking pluggy-1.0.0-pyhd8ed1ab_5
</span><span class='line'>Linking pycosat-0.6.4-py310h761cc84_1
</span><span class='line'>Linking pycparser-2.21-pyhd8ed1ab_0
</span><span class='line'>Linking pysocks-1.7.1-pyha2e5f31_6
</span><span class='line'>Linking ruamel.yaml.clib-0.2.7-py310hb89b984_1
</span><span class='line'>Linking setuptools-65.6.3-pyhd8ed1ab_0
</span><span class='line'>Linking toolz-0.12.0-pyhd8ed1ab_0
</span><span class='line'>Linking wheel-0.38.4-pyhd8ed1ab_0
</span><span class='line'>Linking cffi-1.15.1-py310hf0c4615_3
</span><span class='line'>Linking pip-23.0-pyhd8ed1ab_0
</span><span class='line'>Linking ruamel.yaml-0.17.21-py310h761cc84_2
</span><span class='line'>Linking tqdm-4.64.1-pyhd8ed1ab_0
</span><span class='line'>Linking brotlipy-0.7.0-py310h761cc84_1005
</span><span class='line'>Linking cryptography-39.0.1-py310he4ba0b1_0
</span><span class='line'>Linking zstandard-0.19.0-py310hde4b81c_1
</span><span class='line'>Linking conda-package-streaming-0.7.0-pyhd8ed1ab_1
</span><span class='line'>Linking pyopenssl-23.0.0-pyhd8ed1ab_0
</span><span class='line'>Linking conda-package-handling-2.0.2-pyh38be061_0
</span><span class='line'>Linking urllib3-1.26.14-pyhd8ed1ab_0
</span><span class='line'>Linking requests-2.28.2-pyhd8ed1ab_0
</span><span class='line'>Linking conda-22.11.1-py310h4c7bcd0_1
</span><span class='line'>Transaction finished
</span><span class='line'>installation finished.
</span><span class='line'>Do you wish the installer to initialize Miniforge3
</span><span class='line'>by running conda init? [yes|no]
</span><span class='line'>[no] &gt;&gt;&gt; yes
</span><span class='line'>no change     /usr/local/miniforge3/condabin/conda
</span><span class='line'>no change     /usr/local/miniforge3/bin/conda
</span><span class='line'>no change     /usr/local/miniforge3/bin/conda-env
</span><span class='line'>no change     /usr/local/miniforge3/bin/activate
</span><span class='line'>no change     /usr/local/miniforge3/bin/deactivate
</span><span class='line'>no change     /usr/local/miniforge3/etc/profile.d/conda.sh
</span><span class='line'>no change     /usr/local/miniforge3/etc/fish/conf.d/conda.fish
</span><span class='line'>no change     /usr/local/miniforge3/shell/condabin/Conda.psm1
</span><span class='line'>no change     /usr/local/miniforge3/shell/condabin/conda-hook.ps1
</span><span class='line'>no change     /usr/local/miniforge3/lib/python3.10/site-packages/xontrib/conda.xsh
</span><span class='line'>no change     /usr/local/miniforge3/etc/profile.d/conda.csh
</span><span class='line'>modified      /root/.bashrc
</span><span class='line'>
</span><span class='line'>==&gt; For changes to take effect, close and re-open your current shell. &lt;==
</span><span class='line'>
</span><span class='line'>If you'd prefer that conda's base environment not be activated on startup, 
</span><span class='line'>   set the auto_activate_base parameter to false: 
</span><span class='line'>
</span><span class='line'>conda config --set auto_activate_base false
</span><span class='line'>
</span><span class='line'>Thank you for installing Miniforge3!
</span><span class='line'>root@ubuntu:~# 
</span></code></pre></td></tr></table></div></figure>


<p>è¿™é‡Œä¿®æ”¹äº† /root/.bashrc æ·»åŠ äº†ï¼š</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># &gt;&gt;&gt; conda initialize &gt;&gt;&gt;
</span><span class='line'># !! Contents within this block are managed by 'conda init' !!
</span><span class='line'>__conda_setup="$('/usr/local/miniforge3/bin/conda' 'shell.bash' 'hook' 2&gt; /dev/null)"
</span><span class='line'>if [ $? -eq 0 ]; then
</span><span class='line'>    eval "$__conda_setup"
</span><span class='line'>else
</span><span class='line'>    if [ -f "/usr/local/miniforge3/etc/profile.d/conda.sh" ]; then
</span><span class='line'>        . "/usr/local/miniforge3/etc/profile.d/conda.sh"
</span><span class='line'>    else
</span><span class='line'>        export PATH="/usr/local/miniforge3/bin:$PATH"
</span><span class='line'>    fi
</span><span class='line'>fi
</span><span class='line'>unset __conda_setup
</span><span class='line'># &lt;&lt;&lt; conda initialize &lt;&lt;&lt;
</span></code></pre></td></tr></table></div></figure>


<p>ä¸ºäº†é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡ï¼Œæ–°å¼€ä¸€ä¸ªçª—å£ï¼ŒæŸ¥çœ‹ç‰ˆæœ¬ï¼š</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>(base) root@ubuntu:~# python -V
</span><span class='line'>Python 3.10.9
</span><span class='line'>(base) root@ubuntu:~# 
</span><span class='line'>(base) root@ubuntu:~# conda -V
</span><span class='line'>conda 22.11.1
</span><span class='line'>
</span><span class='line'>(base) root@ubuntu:~# python3
</span><span class='line'>Python 3.10.9 | packaged by conda-forge | (main, Feb  2 2023, 20:11:30) [GCC 11.3.0] on linux
</span><span class='line'>Type "help", "copyright", "credits" or "license" for more information.
</span><span class='line'>&gt;&gt;&gt; import platform
</span><span class='line'>&gt;&gt;&gt; platform.architecture()
</span><span class='line'>('64bit', 'ELF')
</span><span class='line'>&gt;&gt;&gt; </span></code></pre></td></tr></table></div></figure>


<p>ä½¿ç”¨condaæ–°å»ºä¸€ä¸ªpython3.8çš„é…ç½® &lt;<a href="https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html</a></p>

<blockquote><p>ï¼š</p></blockquote>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>(base) root@ubuntu:~# conda info --envs
</span><span class='line'># conda environments:
</span><span class='line'>#
</span><span class='line'>base                  *  /usr/local/miniforge3
</span><span class='line'>
</span><span class='line'>(base) root@ubuntu:~# export http_proxy="http://127.0.0.1:7890"
</span><span class='line'>(base) root@ubuntu:~# export https_proxy="http://127.0.0.1:7890" 
</span><span class='line'>
</span><span class='line'>(base) root@ubuntu:~# conda create -n openai python=3.8 
</span><span class='line'>Collecting package metadata (current_repodata.json): done
</span><span class='line'>Solving environment: done
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>==&gt; WARNING: A newer version of conda exists. &lt;==
</span><span class='line'>  current version: 22.11.1
</span><span class='line'>  latest version: 23.1.0
</span><span class='line'>
</span><span class='line'>Please update conda by running
</span><span class='line'>
</span><span class='line'>    $ conda update -n base -c conda-forge conda
</span><span class='line'>
</span><span class='line'>Or to minimize the number of packages updated during conda update use
</span><span class='line'>
</span><span class='line'>     conda install conda=23.1.0
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>## Package Plan ##
</span><span class='line'>
</span><span class='line'>  environment location: /usr/local/miniforge3/envs/openai
</span><span class='line'>
</span><span class='line'>  added / updated specs:
</span><span class='line'>    - python=3.8
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>The following packages will be downloaded:
</span><span class='line'>
</span><span class='line'>    package                    |            build
</span><span class='line'>    ---------------------------|-----------------
</span><span class='line'>    pypy3.8-7.3.11             |       hf9a8208_0        31.6 MB  conda-forge
</span><span class='line'>    ------------------------------------------------------------
</span><span class='line'>                                           Total:        31.6 MB
</span><span class='line'>
</span><span class='line'>The following NEW packages will be INSTALLED:
</span><span class='line'>
</span><span class='line'>  _openmp_mutex      conda-forge/linux-aarch64::_openmp_mutex-4.5-2_gnu 
</span><span class='line'>  bzip2              conda-forge/linux-aarch64::bzip2-1.0.8-hf897c2e_4 
</span><span class='line'>  ca-certificates    conda-forge/linux-aarch64::ca-certificates-2022.12.7-h4fd8a4c_0 
</span><span class='line'>  expat              conda-forge/linux-aarch64::expat-2.5.0-ha18d298_0 
</span><span class='line'>  gdbm               conda-forge/linux-aarch64::gdbm-1.18-h0a1914f_2 
</span><span class='line'>  libffi             conda-forge/linux-aarch64::libffi-3.4.2-h3557bc0_5 
</span><span class='line'>  libgcc-ng          conda-forge/linux-aarch64::libgcc-ng-12.2.0-h607ecd0_19 
</span><span class='line'>  libgomp            conda-forge/linux-aarch64::libgomp-12.2.0-h607ecd0_19 
</span><span class='line'>  libsqlite          conda-forge/linux-aarch64::libsqlite-3.40.0-hf9034f9_0 
</span><span class='line'>  libstdcxx-ng       conda-forge/linux-aarch64::libstdcxx-ng-12.2.0-hc13a102_19 
</span><span class='line'>  libzlib            conda-forge/linux-aarch64::libzlib-1.2.13-h4e544f5_4 
</span><span class='line'>  ncurses            conda-forge/linux-aarch64::ncurses-6.3-headf329_1 
</span><span class='line'>  openssl            conda-forge/linux-aarch64::openssl-3.1.0-hb4cce97_0 
</span><span class='line'>  pip                conda-forge/noarch::pip-23.0.1-pyhd8ed1ab_0 
</span><span class='line'>  pypy3.8            conda-forge/linux-aarch64::pypy3.8-7.3.11-hf9a8208_0 
</span><span class='line'>  python             conda-forge/linux-aarch64::python-3.8.16-0_73_pypy 
</span><span class='line'>  python_abi         conda-forge/linux-aarch64::python_abi-3.8-3_pypy38_pp73 
</span><span class='line'>  readline           conda-forge/linux-aarch64::readline-8.2-h8fc344f_1 
</span><span class='line'>  setuptools         conda-forge/noarch::setuptools-67.6.0-pyhd8ed1ab_0 
</span><span class='line'>  sqlite             conda-forge/linux-aarch64::sqlite-3.40.0-h69ca7e5_0 
</span><span class='line'>  tk                 conda-forge/linux-aarch64::tk-8.6.12-hd8af866_0 
</span><span class='line'>  wheel              conda-forge/noarch::wheel-0.40.0-pyhd8ed1ab_0 
</span><span class='line'>  xz                 conda-forge/linux-aarch64::xz-5.2.6-h9cdd2b7_0 
</span><span class='line'>  zlib               conda-forge/linux-aarch64::zlib-1.2.13-h4e544f5_4 
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>Proceed ([y]/n)? y
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>Downloading and Extracting Packages
</span><span class='line'>                                                                                                                                                                                          
</span><span class='line'>Preparing transaction: done
</span><span class='line'>Verifying transaction: done
</span><span class='line'>Executing transaction: done
</span><span class='line'>#
</span><span class='line'># To activate this environment, use
</span><span class='line'>#
</span><span class='line'>#     $ conda activate openai
</span><span class='line'>#
</span><span class='line'># To deactivate an active environment, use
</span><span class='line'>#
</span><span class='line'>#     $ conda deactivate
</span><span class='line'>
</span><span class='line'>(base) root@ubuntu:~# 
</span></code></pre></td></tr></table></div></figure>


<p>æ¿€æ´»é…ç½®ï¼š</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>(base) root@ubuntu:~# conda activate openai
</span><span class='line'>(openai) root@ubuntu:~# 
</span><span class='line'>(openai) root@ubuntu:~# python --version
</span><span class='line'>Python 3.8.16 | packaged by conda-forge | (a9dbdca6, Jan 29 2023, 10:19:50)
</span><span class='line'>[PyPy 7.3.11 with GCC 11.3.0]
</span><span class='line'>(openai) root@ubuntu:~# pip --version 
</span><span class='line'>pip 23.0.1 from /usr/local/miniforge3/envs/openai/lib/pypy3.8/site-packages/pip (python 3.8)
</span><span class='line'>(openai) root@ubuntu:~# git clone https://github.com/zhayujie/bot-on-anything
</span><span class='line'>Cloning into 'bot-on-anything'...
</span><span class='line'>remote: Enumerating objects: 644, done.
</span><span class='line'>remote: Counting objects: 100% (271/271), done.
</span><span class='line'>remote: Compressing objects: 100% (116/116), done.
</span><span class='line'>remote: Total 644 (delta 190), reused 194 (delta 154), pack-reused 373
</span><span class='line'>Receiving objects: 100% (644/644), 588.10 KiB | 448.00 KiB/s, done.
</span><span class='line'>Resolving deltas: 100% (373/373), done.
</span><span class='line'>(openai) root@ubuntu:~# 
</span><span class='line'>(openai) root@ubuntu:~# pip3 install itchat-uos==1.5.0.dev0
</span><span class='line'>Collecting itchat-uos==1.5.0.dev0
</span><span class='line'>  Downloading itchat_uos-1.5.0.dev0-py3-none-any.whl (52 kB)
</span><span class='line'>     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 52.5/52.5 kB 244.0 kB/s eta 0:00:00
</span><span class='line'>Collecting requests
</span><span class='line'>  Downloading requests-2.28.2-py3-none-any.whl (62 kB)
</span><span class='line'>     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 62.8/62.8 kB 409.1 kB/s eta 0:00:00
</span><span class='line'>Collecting pyqrcode
</span><span class='line'>  Downloading PyQRCode-1.2.1.zip (41 kB)
</span><span class='line'>     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 41.9/41.9 kB 961.5 kB/s eta 0:00:00
</span><span class='line'>  Preparing metadata (setup.py) ... done
</span><span class='line'>Collecting pypng
</span><span class='line'>  Downloading pypng-0.20220715.0-py3-none-any.whl (58 kB)
</span><span class='line'>     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 58.1/58.1 kB 540.0 kB/s eta 0:00:00
</span><span class='line'>Collecting charset-normalizer&lt;4,&gt;=2
</span><span class='line'>  Downloading charset_normalizer-3.1.0-py3-none-any.whl (46 kB)
</span><span class='line'>     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 46.2/46.2 kB 642.4 kB/s eta 0:00:00
</span><span class='line'>Collecting idna&lt;4,&gt;=2.5
</span><span class='line'>  Downloading idna-3.4-py3-none-any.whl (61 kB)
</span><span class='line'>     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 61.5/61.5 kB 567.0 kB/s eta 0:00:00
</span><span class='line'>Collecting urllib3&lt;1.27,&gt;=1.21.1
</span><span class='line'>  Downloading urllib3-1.26.15-py2.py3-none-any.whl (140 kB)
</span><span class='line'>     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 140.9/140.9 kB 1.0 MB/s eta 0:00:00
</span><span class='line'>Collecting certifi&gt;=2017.4.17
</span><span class='line'>  Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)
</span><span class='line'>     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 155.3/155.3 kB 1.2 MB/s eta 0:00:00
</span><span class='line'>Building wheels for collected packages: pyqrcode
</span><span class='line'>  Building wheel for pyqrcode (setup.py) ... done
</span><span class='line'>  Created wheel for pyqrcode: filename=PyQRCode-1.2.1-py3-none-any.whl size=36228 sha256=ba8cd080e7793f5e55c14fa704e57c1459ae29aa6481c719833bf9e148de5ad0
</span><span class='line'>  Stored in directory: /root/.cache/pip/wheels/5f/46/eb/231c89e0ae989c528db1a30d3aae90c4fee29f14d4e0369312
</span><span class='line'>Successfully built pyqrcode
</span><span class='line'>Installing collected packages: pyqrcode, pypng, urllib3, idna, charset-normalizer, certifi, requests, itchat-uos
</span><span class='line'>Successfully installed certifi-2022.12.7 charset-normalizer-3.1.0 idna-3.4 itchat-uos-1.5.0.dev0 pypng-0.20220715.0 pyqrcode-1.2.1 requests-2.28.2 urllib3-1.26.15
</span><span class='line'>WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
</span><span class='line'>(openai) root@ubuntu:~# 
</span><span class='line'>(openai) root@ubuntu:~# pip3 install --upgrade openai
</span><span class='line'>Collecting openai
</span><span class='line'>  Downloading openai-0.27.2-py3-none-any.whl (70 kB)
</span><span class='line'>     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 70.1/70.1 kB 277.1 kB/s eta 0:00:00
</span><span class='line'>Requirement already satisfied: requests&gt;=2.20 in /usr/local/miniforge3/envs/openai/lib/python3.8/site-packages (from openai) (2.28.2)
</span><span class='line'>Collecting tqdm
</span><span class='line'>  Downloading tqdm-4.65.0-py3-none-any.whl (77 kB)
</span><span class='line'>     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 77.1/77.1 kB 394.8 kB/s eta 0:00:00
</span><span class='line'>Collecting aiohttp
</span><span class='line'>  Downloading aiohttp-3.8.4.tar.gz (7.3 MB)
</span><span class='line'>     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 7.3/7.3 MB 2.1 MB/s eta 0:00:00
</span><span class='line'>  Installing build dependencies ... done
</span><span class='line'>  Getting requirements to build wheel ... done
</span><span class='line'>  Installing backend dependencies ... done
</span><span class='line'>  Preparing metadata (pyproject.toml) ... done
</span><span class='line'>Requirement already satisfied: charset-normalizer&lt;4,&gt;=2 in /usr/local/miniforge3/envs/openai/lib/python3.8/site-packages (from requests&gt;=2.20-&gt;openai) (3.1.0)
</span><span class='line'>Requirement already satisfied: idna&lt;4,&gt;=2.5 in /usr/local/miniforge3/envs/openai/lib/python3.8/site-packages (from requests&gt;=2.20-&gt;openai) (3.4)
</span><span class='line'>Requirement already satisfied: urllib3&lt;1.27,&gt;=1.21.1 in /usr/local/miniforge3/envs/openai/lib/python3.8/site-packages (from requests&gt;=2.20-&gt;openai) (1.26.15)
</span><span class='line'>Requirement already satisfied: certifi&gt;=2017.4.17 in /usr/local/miniforge3/envs/openai/lib/python3.8/site-packages (from requests&gt;=2.20-&gt;openai) (2022.12.7)
</span><span class='line'>Collecting attrs&gt;=17.3.0
</span><span class='line'>  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)
</span><span class='line'>     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 60.0/60.0 kB 834.6 kB/s eta 0:00:00
</span><span class='line'>Collecting multidict&lt;7.0,&gt;=4.5
</span><span class='line'>  Downloading multidict-6.0.4.tar.gz (51 kB)
</span><span class='line'>     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 51.3/51.3 kB 1.4 MB/s eta 0:00:00
</span><span class='line'>  Installing build dependencies ... done
</span><span class='line'>  Getting requirements to build wheel ... done
</span><span class='line'>  Installing backend dependencies ... done
</span><span class='line'>  Preparing metadata (pyproject.toml) ... done
</span><span class='line'>Collecting async-timeout&lt;5.0,&gt;=4.0.0a3
</span><span class='line'>  Downloading async_timeout-4.0.2-py3-none-any.whl (5.8 kB)
</span><span class='line'>Collecting yarl&lt;2.0,&gt;=1.0
</span><span class='line'>  Downloading yarl-1.8.2.tar.gz (172 kB)
</span><span class='line'>     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 172.3/172.3 kB 1.8 MB/s eta 0:00:00
</span><span class='line'>  Installing build dependencies ... done
</span><span class='line'>  Getting requirements to build wheel ... done
</span><span class='line'>  Preparing metadata (pyproject.toml) ... done
</span><span class='line'>Collecting frozenlist&gt;=1.1.1
</span><span class='line'>  Downloading frozenlist-1.3.3.tar.gz (66 kB)
</span><span class='line'>     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 66.6/66.6 kB 392.4 kB/s eta 0:00:00
</span><span class='line'>  Installing build dependencies ... done
</span><span class='line'>  Getting requirements to build wheel ... done
</span><span class='line'>  Preparing metadata (pyproject.toml) ... done
</span><span class='line'>Collecting aiosignal&gt;=1.1.2
</span><span class='line'>  Downloading aiosignal-1.3.1-py3-none-any.whl (7.6 kB)
</span><span class='line'>Building wheels for collected packages: aiohttp, frozenlist, multidict, yarl
</span><span class='line'>  Building wheel for aiohttp (pyproject.toml) ... done
</span><span class='line'>  Created wheel for aiohttp: filename=aiohttp-3.8.4-py3-none-any.whl size=183495 sha256=6bdf6b07bb86d5e5e452691da3570b0465c4177bec6fbe8ab668aef8d27ce39c
</span><span class='line'>  Stored in directory: /root/.cache/pip/wheels/46/48/fb/1fceb5376aa4eb481cec5ca10d6aece4455cf6a95030009502
</span><span class='line'>  Building wheel for frozenlist (pyproject.toml) ... done
</span><span class='line'>  Created wheel for frozenlist: filename=frozenlist-1.3.3-py3-none-any.whl size=9271 sha256=83ae70b8a9145f1fb94dffca4105ef207500e63dd3d8c056dc63a3f6ba664927
</span><span class='line'>  Stored in directory: /root/.cache/pip/wheels/0e/e7/55/8036a4cd9267238ba8aa2d714837827b8fd836324632469067
</span><span class='line'>  Building wheel for multidict (pyproject.toml) ... done
</span><span class='line'>  Created wheel for multidict: filename=multidict-6.0.4-py3-none-any.whl size=9710 sha256=0a72821685197753e4e43473bbfe1232bb33cd79fa4ad9c97daae3a7e4afd097
</span><span class='line'>  Stored in directory: /root/.cache/pip/wheels/23/65/1f/b5b0672ad49d2ff7b2c6ad75f24f45c407aab185c37803ae76
</span><span class='line'>  Building wheel for yarl (pyproject.toml) ... done
</span><span class='line'>  Created wheel for yarl: filename=yarl-1.8.2-py3-none-any.whl size=24118 sha256=4ed71ce5647e860cac0a0b5496e72e837878a33d62177d3bdded7d20d068b299
</span><span class='line'>  Stored in directory: /root/.cache/pip/wheels/4e/40/2e/3261e7db3f6b66ca3d8a1ec694f2d5d87f89110e2204675597
</span><span class='line'>Successfully built aiohttp frozenlist multidict yarl
</span><span class='line'>Installing collected packages: tqdm, multidict, frozenlist, attrs, async-timeout, yarl, aiosignal, aiohttp, openai
</span><span class='line'>Successfully installed aiohttp-3.8.4 aiosignal-1.3.1 async-timeout-4.0.2 attrs-22.2.0 frozenlist-1.3.3 multidict-6.0.4 openai-0.27.2 tqdm-4.65.0 yarl-1.8.2
</span><span class='line'>WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
</span><span class='line'>(openai) root@ubuntu:~# 
</span></code></pre></td></tr></table></div></figure>


<h3>å­¦ä¹ conda</h3>

<ul>
<li><a href="https://stackoverflow.com/questions/34534513/calling-conda-source-activate-from-bash-script">https://stackoverflow.com/questions/34534513/calling-conda-source-activate-from-bash-script</a></li>
<li><a href="https://docs.conda.io/projects/conda/en/latest/dev-guide/deep-dives/activation.html">https://docs.conda.io/projects/conda/en/latest/dev-guide/deep-dives/activation.html</a></li>
<li><a href="https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html</a></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>1
</span><span class='line'>$ eval "$(conda shell.bash activate)"
</span><span class='line'>$ conda shell.bash activate mamba-poc
</span><span class='line'>
</span><span class='line'>2
</span><span class='line'>eval "$(conda shell.bash hook)"
</span><span class='line'>conda activate &lt;env-name&gt;
</span><span class='line'>
</span><span class='line'>3
</span><span class='line'>#!/bin/bash
</span><span class='line'>source /Users/yourname/anaconda/bin/activate your_env
</span><span class='line'>python --version # example way to see that your virtual env loaded as expected
</span><span class='line'>
</span><span class='line'>4
</span><span class='line'>try using
</span><span class='line'>
</span><span class='line'>source ~/anaconda3/etc/profile.d/conda.sh
</span><span class='line'>
</span><span class='line'>and then do
</span><span class='line'>
</span><span class='line'>conda activate pult
</span><span class='line'>
</span><span class='line'>5
</span><span class='line'>https://unix.stackexchange.com/questions/689163/launch-terminal-and-conda-activate-env-from-bash-script
</span><span class='line'># Just activate my conda
</span><span class='line'>alias my_conda='source /home/$USER/anaconda3/bin/activate && conda activate MyPy38'
</span><span class='line'>
</span><span class='line'># Open Jupyter Notebook in my Env
</span><span class='line'>alias my_jupn='source /home/$USER/anaconda3/bin/activate && conda activate MyPy38 && jupyter-notebook'
</span><span class='line'>
</span><span class='line'># Open Jupyter Lab in my Env
</span><span class='line'>alias my_jupl='source /home/$USER/anaconda3/bin/activate && conda activate MyPy38 && jupyter-lab'
</span><span class='line'>
</span><span class='line'># Open Spyder in my Env
</span><span class='line'>alias my_spyder='source /home/$USER/anaconda3/bin/activate && conda activate MyPy38 && spyder'
</span></code></pre></td></tr></table></div></figure>


<h2>èŠ±ç”Ÿå£³</h2>

<ul>
<li><a href="https://hsk.oray.com/download">https://hsk.oray.com/download</a></li>
<li><a href="https://service.oray.com/question/11639.html">https://service.oray.com/question/11639.html</a></li>
</ul>


<p>&ndash;END</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2023/03/25/reinstall-raspberry2/">é‡æ–°æŠ˜è…¾raspberry2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2023-03-25T21:24:35+08:00" pubdate data-updated="true">Sat 2023-03-25 21:24</time>
		
        
		
      </p>
    
  </header>


  <div class="entry-content"><p>ä¹°äº†æ–°çš„raspberry4åï¼Œå°±æ²¡æ€ä¹ˆå»å¼„æ—§çš„æ ‘è“æ´¾2äº†ï¼Œä»Šå¤©å†æ¬¡çœ‹åˆ°æƒ³ç€è¿è¡Œèµ·æ¥çœ‹çœ‹ï¼Œæ’ä¸Šç”µæºåï¼Œä¸€ç›´äº®ç€ç»¿ç¯ï¼Œç„¶åå°±æ²¡å…¶ä»–ååº”äº†ã€‚</p>

<p>æ ‘è“æ´¾2æœ‰ç‚¹æ—§ï¼Œç°åœ¨ç›´æ¥æ‹¿ç€æ–°çš„æ‰‹æœºå……ç”µå™¨å»æ¥çš„æ—¶åˆ»ï¼Œä¸€ç›´èµ·ä¸æ¥ï¼Œåˆšå¼€å§‹æ˜¯æ€€ç–‘æ˜¯ç”¨TTLæ¥é”™çº¿å¯¼è‡´æ¿å­çƒ§äº†ï¼Œä¹Ÿæ²¡æœ‰æ˜¾ç¤ºå™¨æŸ¥çœ‹ç•Œé¢ã€‚</p>

<p>åé¢æƒ³ç€é‡æ–°å®‰è£…ä¸€ä¸‹è¯•è¯•ï¼Œç„¶åæ‹¿ç€å»æ¥ç½‘çº¿æœ‰çº¿ç½‘ç»œï¼Œè¿™æ ·å°±æ‹¿äº†ä¸€ä¸ªæ—§çš„å……ç”µå™¨çš„å¤´ã€‚æ²¡æƒ³åˆ°è¿™ä¸ªæ—¶åˆ»ç”µæºæŒ‡ç¤ºç¯å°½ç„¶é—ªèµ·æ¥äº†ã€‚æƒ³æ¥è¿™å¯èƒ½æ˜¯ç”µæµè¿‡è½½ä¿æŠ¤äº†ã€‚</p>

<p>é—®é¢˜è§£å†³äº†ï¼Œä¹ŸæŠŠæœ€æ–°çš„é‡æ–°å®‰è£…çš„è®°å½•ä¸€ä¸‹ã€‚</p>

<h2>å®‰è£…</h2>

<p>å‚è€ƒï¼š
* <a href="https://www.raspberrypi.com/documentation/computers/getting-started.html#installing-the-operating-system">Setting up your Raspberry Pi</a></p>

<h3>å®‰è£…ç³»ç»Ÿ</h3>

<p>1 æ‰“å¼€ <a href="https://www.raspberrypi.com/software/">Raspberry Pi Imager</a> ä¸‹è½½å¹¶å®‰è£…ï¼Œç„¶åæŠŠSD cardæ’å…¥ç”µè„‘ã€‚</p>

<p><img src="/images/blogs/rasp2/rasp2-1.png" alt="" /></p>

<p>2 è®¾ç½®åˆå§‹åŒ– ç”¨æˆ·å’Œå¯†ç ï¼Œå¹¶é»˜è®¤æ‰“å¼€sshæœåŠ¡ï¼ˆæ–°ç‰ˆæœ¬å·²ç»å»æ‰é»˜è®¤ç”¨æˆ·äº†ï¼Œæ‰€ä»¥è¦è®¾ç½®ä¸€ä¸‹ <a href="https://www.raspberrypi.com/news/raspberry-pi-bullseye-update-april-2022/">An update to Raspberry Pi OS Bullseye</a> ï¼‰</p>

<p><img src="/images/blogs/rasp2/rasp2-2.png" alt="" /></p>

<p>3 é€‰æ‹©æ“ä½œç³»ç»Ÿ</p>

<p><img src="/images/blogs/rasp2/rasp2-3-1.png" alt="" /></p>

<p><img src="/images/blogs/rasp2/rasp2-3-2.png" alt="" /></p>

<p>4 è¿ä¸Šæœ‰çº¿ç½‘ç»œï¼Œæ¥é€šç”µæºã€‚ç„¶åæ‰“å¼€è·¯ç”±ç®¡ç†ç•Œé¢ï¼ŒæŸ¥çœ‹raspberryçš„ipåœ°å€</p>

<p><img src="/images/blogs/rasp2/rasp2-4-0.png" alt="" /></p>

<p>5 ç”¨sshè¿æ¥æœåŠ¡å™¨</p>

<p><img src="/images/blogs/rasp2/rasp2-4-1.png" alt="" /></p>

<h3>é…ç½®Wifiç½‘ç»œ</h3>

<p>åŸæ¥å·²ç»ä¹°äº†usbçš„æ— çº¿ç½‘å¡ï¼Œç”¨ <code>ifconfig</code> ä¹Ÿèƒ½æŸ¥çœ‹åˆ° <code>wlan0</code> çš„æ¥å£ã€‚</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>root@raspberrypi:~# apt install vim 
</span><span class='line'>Reading package lists... Done
</span><span class='line'>Building dependency tree... Done
</span><span class='line'>Reading state information... Done
</span><span class='line'>  libgpm2 vim-runtime
</span><span class='line'>Suggested packages:
</span><span class='line'>  gpm ctags vim-doc vim-scripts
</span><span class='line'>The following NEW packages will be installed:
</span><span class='line'>  libgpm2 vim vim-runtime
</span><span class='line'>0 upgraded, 3 newly installed, 0 to remove and 0 not upgraded.
</span><span class='line'>...
</span><span class='line'>update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vim (vim) in auto mode
</span><span class='line'>update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vimdiff (vimdiff) in auto mode
</span><span class='line'>update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rvim (rvim) in auto mode
</span><span class='line'>update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rview (rview) in auto mode
</span><span class='line'>update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vi (vi) in auto mode
</span><span class='line'>update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/view (view) in auto mode
</span><span class='line'>update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/ex (ex) in auto mode
</span><span class='line'>Processing triggers for man-db (2.9.4-2) ...
</span><span class='line'>Processing triggers for libc-bin (2.31-13+rpt2+rpi1+deb11u5) ...
</span><span class='line'>
</span><span class='line'>root@raspberrypi:~# echo "set mouse-=a" &gt;&gt;~/.vimrc
</span><span class='line'>root@raspberrypi:~# vim /etc/wpa_supplicant/wpa_supplicant.conf    
</span><span class='line'>root@raspberrypi:~# 
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>root@raspberrypi:~# iwlist wlan0 scan
</span><span class='line'>
</span><span class='line'># ç®—ä¸€ä¸ªåŠ å¯†çš„é…ç½®
</span><span class='line'>root@raspberrypi:~# wpa_passphrase winse
</span><span class='line'># reading passphrase from stdin
</span><span class='line'>xxx
</span><span class='line'>network={
</span><span class='line'>        ssid="winse"
</span><span class='line'>        #psk="xxx"
</span><span class='line'>        psk=xxx
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>root@raspberrypi:~# cat /etc/wpa_supplicant/wpa_supplicant.conf   
</span><span class='line'>country=CN
</span><span class='line'>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
</span><span class='line'>update_config=1
</span><span class='line'>
</span><span class='line'>network={
</span><span class='line'>        ssid="winse"
</span><span class='line'>        #psk="xxx"
</span><span class='line'>        psk=xxx
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>
</span><span class='line'># é…ç½®æœåŠ¡
</span><span class='line'>pi@raspberrypi:~ $ cat /lib/systemd/system/wpa_supplicant.service 
</span><span class='line'>[Unit]
</span><span class='line'>Description=WPA supplicant
</span><span class='line'>Before=network.target
</span><span class='line'>After=dbus.service
</span><span class='line'>Wants=network.target
</span><span class='line'>IgnoreOnIsolate=true
</span><span class='line'>
</span><span class='line'>[Service]
</span><span class='line'>#Type=dbus
</span><span class='line'>#BusName=fi.w1.wpa_supplicant1
</span><span class='line'>Type=forking
</span><span class='line'>ExecStart=/sbin/wpa_supplicant -u -s -O /run/wpa_supplicant -c /etc/wpa_supplicant/wpa_supplicant.conf -i wlan0 -B -D wext
</span><span class='line'>Restart=always
</span><span class='line'>
</span><span class='line'>[Install]
</span><span class='line'>WantedBy=multi-user.target
</span><span class='line'>#Alias=dbus-fi.w1.wpa_supplicant1.service
</span><span class='line'>pi@raspberrypi:~ $ cat /etc/systemd/system/dhclient.service 
</span><span class='line'>[Unit]
</span><span class='line'>Description= DHCP Client
</span><span class='line'>Before=network.target
</span><span class='line'>
</span><span class='line'>[Service]
</span><span class='line'>Type=forking
</span><span class='line'>ExecStart=/sbin/dhclient wlan0 -v
</span><span class='line'>ExecStop=/sbin/dhclient wlan0 -r
</span><span class='line'>Restart=always
</span><span class='line'>
</span><span class='line'>[Install] 
</span><span class='line'>WantedBy=multi-user.target
</span><span class='line'>pi@raspberrypi:~ $ 
</span><span class='line'>
</span><span class='line'>root@raspberrypi:~# systemctl daemon-reload 
</span><span class='line'>
</span><span class='line'>root@raspberrypi:~# systemctl stop NetworkManager
</span><span class='line'>root@raspberrypi:~# systemctl enable wpa_supplicant.service 
</span><span class='line'>root@raspberrypi:~# systemctl enable dhclient.service
</span><span class='line'>Created symlink /etc/systemd/system/multi-user.target.wants/dhclient.service â†’ /etc/systemd/system/dhclient.service.
</span></code></pre></td></tr></table></div></figure>


<p>é…ç½®å¥½åï¼Œé‡å¯æœåŠ¡å™¨ï¼Œå†æ¬¡æŸ¥çœ‹è·¯ç”±å™¨ç®¡ç†webç•Œé¢ï¼š</p>

<p><img src="/images/blogs/rasp2/rasp2-5.png" alt="" /></p>

<p>ç„¶åå†æŠŠç½‘çº¿æ‹”æ‰ï¼Œå†é‡å¯ä¸€æ¬¡ç¡®è®¤ä¸€ä¸‹ã€‚</p>

<h3>é‡åˆ°çš„é—®é¢˜ï¼š</h3>

<p>1 <a href="https://zhuanlan.zhihu.com/p/136463580">https://zhuanlan.zhihu.com/p/136463580</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>å¦‚æœæ ‘è“æ´¾ç³»ç»Ÿä½¿ç”¨çš„æ˜¯Raspbian Stretchï¼Œåˆ™ifupå‘½ä»¤å¯èƒ½ä¸èµ·ä½œç”¨ï¼Œå¯èƒ½ä¼šæ”¶åˆ°ä¸€æ¡é”™è¯¯æ¶ˆæ¯ï¼Œ
</span><span class='line'>å†…å®¹å¦‚ä¸‹ï¼šâ€œ ifdownï¼šunknown interface wlan0 â€ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»»ä½•å‘½ä»¤æ¥è§£å†³ï¼š
</span><span class='line'>sudo ifconfig wlan0 up
</span></code></pre></td></tr></table></div></figure>


<p>2 <a href="https://shumeipai.nxez.com/2017/09/13/raspberry-pi-network-configuration-before-boot.html">https://shumeipai.nxez.com/2017/09/13/raspberry-pi-network-configuration-before-boot.html</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>è¯´æ˜ä»¥åŠä¸åŒå®‰å…¨æ€§çš„ WiFi é…ç½®ç¤ºä¾‹ï¼š
</span><span class='line'>#ssid:ç½‘ç»œçš„ssid
</span><span class='line'>#psk:å¯†ç 
</span><span class='line'>#priority:è¿æ¥ä¼˜å…ˆçº§ï¼Œæ•°å­—è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ï¼ˆä¸å¯ä»¥æ˜¯è´Ÿæ•°ï¼‰
</span><span class='line'>#scan_ssid:è¿æ¥éšè—WiFiæ—¶éœ€è¦æŒ‡å®šè¯¥å€¼ä¸º1
</span><span class='line'>
</span><span class='line'>å¦‚æœä½ çš„ WiFi æ²¡æœ‰å¯†ç 
</span><span class='line'>
</span><span class='line'>network={
</span><span class='line'>  ssid="ä½ çš„æ— çº¿ç½‘ç»œåç§°ï¼ˆssidï¼‰"
</span><span class='line'>  key_mgmt=NONE
</span><span class='line'>}
</span><span class='line'>å¦‚æœä½ çš„ WiFi ä½¿ç”¨WEPåŠ å¯†
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>network={
</span><span class='line'>  ssid="ä½ çš„æ— çº¿ç½‘ç»œåç§°ï¼ˆssidï¼‰"
</span><span class='line'>  key_mgmt=NONE
</span><span class='line'>  wep_key0="ä½ çš„wifiå¯†ç "
</span><span class='line'>}
</span><span class='line'>å¦‚æœä½ çš„ WiFi ä½¿ç”¨WPA/WPA2åŠ å¯†
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>network={
</span><span class='line'>  ssid="ä½ çš„æ— çº¿ç½‘ç»œåç§°ï¼ˆssidï¼‰"
</span><span class='line'>  key_mgmt=WPA-PSK
</span><span class='line'>  psk="ä½ çš„wifiå¯†ç "
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>å¦‚æœä½ ä¸æ¸…æ¥š WiFi çš„åŠ å¯†æ¨¡å¼ï¼Œå¯ä»¥åœ¨å®‰å“æ‰‹æœºä¸Šç”¨ root explorer æ‰“å¼€ /data/misc/wifi/wpa/wpa_supplicant.confï¼ŒæŸ¥çœ‹ WiFi çš„ä¿¡æ¯ã€‚
</span></code></pre></td></tr></table></div></figure>


<p>3 <a href="https://www.labno3.com/2021/03/22/setting-up-raspberry-pi-wifi/">https://www.labno3.com/2021/03/22/setting-up-raspberry-pi-wifi/</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>å¦‚æœè¿æ¥æœ‰é—®é¢˜ï¼Œä¸€å®šè¦ç¡®è®¤Piæ˜¯å¦æ”¯æŒWiFiã€‚ä¹Ÿæœ‰å¯èƒ½ä½ çš„SSIDæ˜¯é”™è¯¯çš„ï¼Œè¦æ‰«æå’Œæ£€æŸ¥ï¼Œ
</span><span class='line'>ä½¿ç”¨sudo iwlist wlan0 scanå¹¶æ£€æŸ¥essidå­—æ®µã€‚
</span><span class='line'>è¿™ä¸ªå­—æ®µåº”è¯¥å’Œä½ åœ¨ssidå­—æ®µè¾“å…¥çš„ä¸€æ ·ã€‚
</span></code></pre></td></tr></table></div></figure>


<p>4 æŸ¥çœ‹ä¿¡æ¯ <a href="https://www.baeldung.com/linux/connect-network-cli">https://www.baeldung.com/linux/connect-network-cli</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>root@raspberrypi:~# ip link show wlan0
</span><span class='line'>3: wlan0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc mq state DOWN mode DEFAULT group default qlen 1000
</span><span class='line'>  link/ether 00:5a:39:e1:4d:bb brd ff:ff:ff:ff:ff:ff
</span><span class='line'>root@raspberrypi:~# ip link set wlan0 up  
</span><span class='line'>root@raspberrypi:~# ip link show wlan0
</span><span class='line'>3: wlan0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc mq state DOWN mode DEFAULT group default qlen 1000
</span><span class='line'>  link/ether 00:5a:39:e1:4d:bb brd ff:ff:ff:ff:ff:ff
</span><span class='line'>root@raspberrypi:~# 
</span><span class='line'>root@raspberrypi:~# iw wlan0 link
</span><span class='line'>Not connected.
</span><span class='line'>
</span><span class='line'>root@raspberrypi:~# ifconfig wlan0 down
</span><span class='line'>root@raspberrypi:~# ifconfig wlan0 up 
</span><span class='line'>root@raspberrypi:~# ifconfig wlan0
</span><span class='line'>wlan0: flags=4099&lt;UP,BROADCAST,MULTICAST&gt;  mtu 1500
</span><span class='line'>      ether 00:5a:39:e1:4d:bb  txqueuelen 1000  (Ethernet)
</span><span class='line'>      RX packets 0  bytes 0 (0.0 B)
</span><span class='line'>      RX errors 0  dropped 0  overruns 0  frame 0
</span><span class='line'>      TX packets 0  bytes 0 (0.0 B)
</span><span class='line'>      TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</span></code></pre></td></tr></table></div></figure>


<p>5 <a href="https://shapeshed.com/linux-wifi/">https://shapeshed.com/linux-wifi/</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>wpa_cli
</span></code></pre></td></tr></table></div></figure>


<p>6 <a href="https://www.bilibili.com/read/cv8895717">https://www.bilibili.com/read/cv8895717</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>vim /etc/wpa_supplicant/wpa_supplicant.conf ç¼–è¾‘è¯¥æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶é¡¶éƒ¨å¢åŠ ä»¥ä¸‹å†…å®¹
</span><span class='line'>country=CN
</span><span class='line'>ctrl_interface=/run/wpa_supplicant
</span><span class='line'>update_config=1
</span><span class='line'>
</span><span class='line'>ç‰¹åˆ«è¯´æ˜ï¼šcountry=CN ç”±äºå„ä¸ªå›½å®¶wifiä½¿ç”¨é¢‘æ®µä¸åŒï¼Œå°¤å…¶5Gé¢‘æ®µ
</span><span class='line'>
</span><span class='line'>vim /etc/rc.local æ·»åŠ ä»¥ä¸‹å†…å®¹
</span><span class='line'>
</span><span class='line'>#!/bin/bash
</span><span class='line'>
</span><span class='line'>ip link set wlan0 up &
</span><span class='line'>wpa_supplicant -B -i wlan0 -D nl80211 -c /etc/wpa_supplicant/wpa_supplicant.conf &
</span><span class='line'>dhclient wlan0
</span><span class='line'>
</span><span class='line'>exit 0</span></code></pre></td></tr></table></div></figure>


<p>7 <a href="https://blog.csdn.net/u010049696/article/details/48765999">https://blog.csdn.net/u010049696/article/details/48765999</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>é…ç½®serviceã€‚è¿›å…¥åˆ°/usr/lib/systemd/systemç›®å½•ï¼Œå¯ä»¥çœ‹åˆ°ä¸‹é¢å››ä¸ªæ–‡ä»¶ï¼š
</span><span class='line'>
</span><span class='line'>wpa_supplicant-nl80211@.service
</span><span class='line'>wpa_supplicant.service
</span><span class='line'>wpa_supplicant@.service
</span><span class='line'>wpa_supplicant-wired@.service
</span><span class='line'>
</span><span class='line'>ç¼–è¾‘wpa_supplicant.serviceæ–‡ä»¶ï¼Œå¦‚ä¸‹ï¼š
</span><span class='line'>
</span><span class='line'>[Unit]
</span><span class='line'>Description=WPA supplicant
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>[Service]
</span><span class='line'>Type=dbus
</span><span class='line'>BusName=fi.epitest.hostap.WPASupplicant
</span><span class='line'>ExecStart=/usr/bin/wpa_supplicant -c/etc/wpa_supplicant/test.conf -i wlp3s0
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>[Install]
</span><span class='line'>WantedBy=multi-user.target
</span><span class='line'>Alias=dbus-fi.epitest.hostap.WPASupplicant.service
</span><span class='line'>
</span><span class='line'>å…¶ä¸­ï¼Œåªéœ€ä¿®æ”¹ExecStart=/usr/bin/wpa_supplicant -c/etc/wpa_supplicant/test.conf -i wlp3s0å³å¯ã€‚</span></code></pre></td></tr></table></div></figure>


<p>8 <a href="https://www.linuxbabe.com/command-line/ubuntu-server-16-04-wifi-wpa-supplicant">https://www.linuxbabe.com/command-line/ubuntu-server-16-04-wifi-wpa-supplicant</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Auto Connect on Startup
</span><span class='line'>To automatically connect to wireless network at boot time, we need to edit the wpa_supplicant.service file. Itâ€™s a good idea to copy the file from /lib/systemd/system/ directory to /etc/systemd/system/ directory, then edit it because we donâ€™t want newer version of wpasupplicant to override our modifications.
</span><span class='line'>
</span><span class='line'>sudo cp /lib/systemd/system/wpa_supplicant.service /etc/systemd/system/wpa_supplicant.service
</span><span class='line'>
</span><span class='line'>sudo nano /etc/systemd/system/wpa_supplicant.service
</span><span class='line'>Find the following line.
</span><span class='line'>
</span><span class='line'>ExecStart=/sbin/wpa_supplicant -u -s -O /run/wpa_supplicant
</span><span class='line'>Change it to the following. Obviously you need to change wlp3s0 if that isnâ€™t your interface name.
</span><span class='line'>
</span><span class='line'>ExecStart=/sbin/wpa_supplicant -u -s -c /etc/wpa_supplicant.conf -i wlp3s0
</span><span class='line'>Itâ€™s recommended to always try to restart wpa_supplicant when failure is detected. Add the following right below the ExecStart line.
</span><span class='line'>
</span><span class='line'>Restart=always
</span><span class='line'>If you can find the following line in this file, comment it out (Add the # character at the beginning of the line).
</span><span class='line'>
</span><span class='line'>Alias=dbus-fi.w1.wpa_supplicant1.service
</span><span class='line'>Save and close the file. Then enable wpa_supplicant service to start at boot time.
</span><span class='line'>
</span><span class='line'>sudo systemctl enable wpa_supplicant.service
</span><span class='line'>
</span><span class='line'>~~~
</span><span class='line'>
</span><span class='line'>sudo nano /etc/systemd/system/dhclient.service
</span><span class='line'>Put the following text into the file.
</span><span class='line'>
</span><span class='line'>[Unit]
</span><span class='line'>Description= DHCP Client
</span><span class='line'>Before=network.target
</span><span class='line'>
</span><span class='line'>[Service]
</span><span class='line'>Type=forking
</span><span class='line'>ExecStart=/sbin/dhclient wlp3s0 -v
</span><span class='line'>ExecStop=/sbin/dhclient wlp3s0 -r
</span><span class='line'>Restart=always
</span><span class='line'>
</span><span class='line'>[Install] 
</span><span class='line'>WantedBy=multi-user.target
</span><span class='line'>Save and close the file. Then enable this service.
</span><span class='line'>
</span><span class='line'>sudo systemctl enable dhclient.service
</span></code></pre></td></tr></table></div></figure>


<p>&ndash;END</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2023/03/25/mirror-request/">è¯·æ±‚å¤åˆ¶/é•œåƒ</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2023-03-25T18:28:14+08:00" pubdate data-updated="true">Sat 2023-03-25 18:28</time>
		
        
		
      </p>
    
  </header>


  <div class="entry-content"><p>åœ¨æµ‹è¯•ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œå¦‚æœå†™å…¥åŸç¨‹åºçš„æƒ…å†µä¸‹å†å†™ä¸€ä»½åˆ°æ–°çš„ç¨‹åºå‘¢ï¼Ÿæ¯”å¦‚Elasticsearchå’ŒOpenSearchã€‚è¿˜æœ‰æŠŠç”Ÿäº§çš„æµé‡å¼•ä¸€ä»½å‡ºæ¥æµ‹è¯•ï¼Œå¦‚æœæ¥å®ç°å‘¢ï¼Ÿ</p>

<p>ä¸€èˆ¬çš„è½¬æ¢åŠŸèƒ½å¤åˆ¶ï¼Œå¦‚logstashã€vectorï¼Œä½†è¿™äº›ä¸èƒ½è¿”å›ç»“æœï¼Œä¸ç¬¦åˆã€‚åªèƒ½å¾€åå‘ä»£ç†ä¸Šæ‰¾ï¼šnginxã€‚</p>

<ul>
<li><a href="https://cloud.tencent.com/developer/article/1495449">Nginx æµé‡é•œåƒä½¿ç”¨æŠ€å·§</a></li>
<li><a href="https://juejin.cn/post/7101267337332375559">Nginxæµé‡é•œåƒ</a></li>
</ul>


<h2>nginx_http_mirror_moduleæ¨¡å—</h2>

<p>å½“è¯·æ±‚åˆ°è¾¾ Nginx æ—¶ï¼Œå¦‚æœ Nginx å¼€å¯äº†æµé‡é•œåƒåŠŸèƒ½ï¼Œå°±ä¼šå°†è¯·æ±‚å¤åˆ¶ä¸€ä»½ï¼Œå¹¶æ ¹æ® mirror location ä¸­çš„é…ç½®æ¥å¤„ç†è¿™ä»½å¤åˆ¶çš„è¯·æ±‚ã€‚</p>

<h2>é…ç½®</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  listen 9200;
</span><span class='line'>  server_name elasticsearch;
</span><span class='line'>  client_max_body_size 50m;
</span><span class='line'>
</span><span class='line'># error_log /var/log/nginx/elasticsearch-errors.log;
</span><span class='line'># access_log /var/log/nginx/elasticsearch.log;
</span><span class='line'>
</span><span class='line'>  location / {
</span><span class='line'>  
</span><span class='line'>    # Deny Nodes shutdown API
</span><span class='line'>    if ($request_filename ~ "_shutdown") { 
</span><span class='line'>      return 403;
</span><span class='line'>      break;
</span><span class='line'>    }
</span><span class='line'>    
</span><span class='line'>    # Deny access to cluster API
</span><span class='line'>    if ($request_filename ~ "_cluster") {
</span><span class='line'>      return 403;
</span><span class='line'>      break;
</span><span class='line'>    }
</span><span class='line'>    
</span><span class='line'>    # Pass requests to ETasticsearch
</span><span class='line'>    proxy_pass http://localhost:9201;
</span><span class='line'>    proxy_redirect off;
</span><span class='line'>    
</span><span class='line'>    proxy_set_header X-Real-IP $remote_addr;
</span><span class='line'>    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
</span><span class='line'>    proxy_set_header Host $http_host;
</span><span class='line'>    
</span><span class='line'>    # For CORS Ajax 
</span><span class='line'>    proxy_pass_header Access-Control-Allow-origin;
</span><span class='line'>    proxy_pass_header Access-Control-Allow-Method proxy_hide_header Access-Control-Allow-Headers;
</span><span class='line'>    add_header Access-control-A1low-Headers 'X-Requested-with, Content-Type';
</span><span class='line'>    # add_header Access-Control-Allow-credentials true;
</span><span class='line'>        
</span><span class='line'>    # Authorize access 
</span><span class='line'>    #auth basic "elasticsearch";
</span><span class='line'>    #auth_basic_user_file /usr/local/etc/elasticsearch/passwords;
</span><span class='line'>    
</span><span class='line'>    mirror /mirror;
</span><span class='line'>    mirror_request_body on;
</span><span class='line'>  }
</span><span class='line'>  
</span><span class='line'>  location /mirror {
</span><span class='line'>    internal; # æŒ‡å®šæ­¤locationåªèƒ½è¢«â€œå†…éƒ¨çš„â€è¯·æ±‚è°ƒç”¨
</span><span class='line'>  
</span><span class='line'>    # Pass requests to OpenSearch
</span><span class='line'>    proxy_pass http://127.0.0.1:19200$request_uri;
</span><span class='line'>    proxy_redirect off:
</span><span class='line'>  
</span><span class='line'>    proxy_set_header X-Real-IP $remote_addr;
</span><span class='line'>    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
</span><span class='line'>    proxy_set_header Host $http_host;
</span><span class='line'>  }
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>server {
</span><span class='line'>  listen 127.0.0.1:19200;
</span><span class='line'>  location / { # å¢åŠ ä¸€å±‚ï¼Œæ–¹ä¾¿åœ¨nginxä¸­è¾“å‡ºæ—¥å¿—å®šä½é—®é¢˜
</span><span class='line'>    proxy_pass https://192.168.1.21:9200;
</span><span class='line'>
</span><span class='line'>    proxy_set_header X-Real-IP $remote_addr;
</span><span class='line'>    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
</span><span class='line'>    proxy_set_header Host $http_host;
</span><span class='line'>  
</span><span class='line'>    proxy_set_header Authorization "Basic YWRtaW46YWRtaW4=";
</span></code></pre></td></tr></table></div></figure>


<p>shellä¸­è®¡ç®—base64çš„æ—¶åˆ»è¦æ³¨æ„åŠ ä¸Š <code>-ne</code> ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç½‘ä¸Š <a href="https://tool.chinaz.com/tools/base64.aspx">https://tool.chinaz.com/tools/base64.aspx</a> ç®—ä¸€ä¸‹ã€‚</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>echo -ne 'admin:admin'|base64 -</span></code></pre></td></tr></table></div></figure>


<p>&ndash;END</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2023/03/18/wechat-on-openai/">å¾®ä¿¡å¯¹æ¥OpenAI</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2023-03-18T14:13:00+08:00" pubdate data-updated="true">Sat 2023-03-18 14:13</time>
		
        
		
      </p>
    
  </header>


  <div class="entry-content"><p>å‰ç¯‡é€šè¿‡smsç”³è¯·å›½å¤–æ‰‹æœºå·æ³¨å†Œäº†OpenAIï¼Œåœ¨ç½‘é¡µä¸Šä½“éªŒäº†ä¸€æŠŠChatGPTã€‚ç”±äºéœ€è¦ç¿»å¢™ï¼Œåœ¨æ‰‹æœºä¸Šä½¿ç”¨èµ·æ¥å¹¶ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œä¹Ÿä¸èƒ½æŠŠè´¦å·ç»™æ‰€æœ‰æƒ³ç”¨çš„æœ‹å‹ç”¨ï¼ŒèŒƒå›´å—é™ã€‚</p>

<p>æœ€è¿‘OpenAIçš„æ¥å£åŠŸå¯¹æ¥ï¼Œä»¥åŠå¾ˆå¤šæ–‡ç« è®²å¾®ä¿¡å¯¹æ¥çš„æ–‡ç« ï¼Œæˆ‘ä¹Ÿè¹­ç€è¿™è‚¡é£æŠŠåŸæ¥çš„å…¬ä¼—å·æ¡èµ·æ¥ç†Ÿæ‚‰ç†Ÿæ‚‰ã€‚</p>

<h1>ä½¿ç”¨å¼€æºçš„æ–¹æ¡ˆ</h1>

<p>å‚è€ƒæ–‡ç« ï¼š</p>

<ul>
<li><a href="https://mp.weixin.qq.com/s/y1Uv3HlVAzo2tSo1XbmyOA">https://mp.weixin.qq.com/s/y1Uv3HlVAzo2tSo1XbmyOA</a></li>
<li><a href="https://github.com/zhayujie/bot-on-anything">https://github.com/zhayujie/bot-on-anything</a></li>
<li><a href="https://github.com/zhayujie/chatgpt-on-wechat">https://github.com/zhayujie/chatgpt-on-wechat</a></li>
</ul>


<h2>æä¸€å°å›½å¤–çš„æœåŠ¡å™¨ï¼ˆåŒäº‹é€šè¿‡è‡ªå·±çš„æœºå™¨+ç¿»å¢™ä¹Ÿæ˜¯å¯ä»¥çš„ï¼‰</h2>

<h2>å®‰è£…Python3.8ï¼ˆOpenAIæ¥å£æœ‰è¦æ±‚ï¼‰</h2>

<p>æˆ‘ç”¨çš„æœåŠ¡å™¨æ˜¯CentOS7çš„ï¼Œå·²ç»å®‰è£…äº†Python3.6ï¼Œå®˜æ–¹yumä¸­æœ€æ–°çš„ä¹Ÿå°±3.6ã€‚ä½¿ç”¨sclï¼ˆSoftware Collectionsï¼Œç±»ä¼¼NVMå¤šç‰ˆæœ¬å…±å­˜ï¼‰çš„æ–¹å¼å®‰è£…ï¼š</p>

<p><strong>å†å›é¡¾ï¼šå¦‚æœè¿˜è¦æ›´å¤šä¸ªpythonç‰ˆæœ¬ï¼Œå®‰è£…condaä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</strong></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz ~]# sudo yum install centos-release-scl
</span><span class='line'>
</span><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz ~]# yum install rh-python38
</span><span class='line'>Loaded plugins: fastestmirror, langpacks
</span><span class='line'>Loading mirror speeds from cached hostfile
</span><span class='line'> * centos-sclo-rh: mirror.vodien.com
</span><span class='line'> * centos-sclo-sclo: mirror.vodien.com
</span><span class='line'>Resolving Dependencies
</span><span class='line'>--&gt; Running transaction check
</span><span class='line'>---&gt; Package rh-python38.x86_64 0:2.0-4.el7 will be installed
</span><span class='line'>--&gt; Processing Dependency: rh-python38-runtime for package: rh-python38-2.0-4.el7.x86_64
</span><span class='line'>--&gt; Processing Dependency: rh-python38-python for package: rh-python38-2.0-4.el7.x86_64
</span><span class='line'>--&gt; Processing Dependency: rh-python38-python-pip for package: rh-python38-2.0-4.el7.x86_64
</span><span class='line'>--&gt; Processing Dependency: rh-python38-python-setuptools for package: rh-python38-2.0-4.el7.x86_64
</span><span class='line'>--&gt; Running transaction check
</span><span class='line'>---&gt; Package rh-python38-python.x86_64 0:3.8.13-1.el7 will be installed
</span><span class='line'>--&gt; Processing Dependency: rh-python38-python-libs(x86-64) = 3.8.13-1.el7 for package: rh-python38-python-3.8.13-1.el7.x86_64
</span><span class='line'>--&gt; Processing Dependency: libpython3.8.so.rh-python38-1.0()(64bit) for package: rh-python38-python-3.8.13-1.el7.x86_64
</span><span class='line'>---&gt; Package rh-python38-python-pip.noarch 0:19.3.1-3.el7 will be installed
</span><span class='line'>---&gt; Package rh-python38-python-setuptools.noarch 0:41.6.0-7.el7 will be installed
</span><span class='line'>---&gt; Package rh-python38-runtime.x86_64 0:2.0-4.el7 will be installed
</span><span class='line'>--&gt; Running transaction check
</span><span class='line'>---&gt; Package rh-python38-python-libs.x86_64 0:3.8.13-1.el7 will be installed
</span><span class='line'>--&gt; Processing Dependency: rh-python38-python-pip-wheel for package: rh-python38-python-libs-3.8.13-1.el7.x86_64
</span><span class='line'>--&gt; Processing Dependency: rh-python38-python-setuptools-wheel for package: rh-python38-python-libs-3.8.13-1.el7.x86_64
</span><span class='line'>--&gt; Running transaction check
</span><span class='line'>---&gt; Package rh-python38-python-pip-wheel.noarch 0:19.3.1-3.el7 will be installed
</span><span class='line'>---&gt; Package rh-python38-python-setuptools-wheel.noarch 0:41.6.0-7.el7 will be installed
</span><span class='line'>--&gt; Finished Dependency Resolution
</span><span class='line'>
</span><span class='line'>Dependencies Resolved
</span><span class='line'>
</span><span class='line'>====================================================================================================================================================
</span><span class='line'> Package                                              Arch                    Version                         Repository                       Size
</span><span class='line'>====================================================================================================================================================
</span><span class='line'>Installing:
</span><span class='line'> rh-python38                                          x86_64                  2.0-4.el7                       centos-sclo-rh                  2.8 k
</span><span class='line'>Installing for dependencies:
</span><span class='line'> rh-python38-python                                   x86_64                  3.8.13-1.el7                    centos-sclo-rh                   71 k
</span><span class='line'> rh-python38-python-libs                              x86_64                  3.8.13-1.el7                    centos-sclo-rh                  7.7 M
</span><span class='line'> rh-python38-python-pip                               noarch                  19.3.1-3.el7                    centos-sclo-rh                  1.6 M
</span><span class='line'> rh-python38-python-pip-wheel                         noarch                  19.3.1-3.el7                    centos-sclo-rh                  1.0 M
</span><span class='line'> rh-python38-python-setuptools                        noarch                  41.6.0-7.el7                    centos-sclo-rh                  636 k
</span><span class='line'> rh-python38-python-setuptools-wheel                  noarch                  41.6.0-7.el7                    centos-sclo-rh                  299 k
</span><span class='line'> rh-python38-runtime                                  x86_64                  2.0-4.el7                       centos-sclo-rh                  1.1 M
</span><span class='line'>
</span><span class='line'>Transaction Summary
</span><span class='line'>====================================================================================================================================================
</span><span class='line'>Install  1 Package (+7 Dependent packages)
</span><span class='line'>
</span><span class='line'>Total download size: 12 M
</span><span class='line'>Installed size: 48 M
</span><span class='line'>Is this ok [y/d/N]: y
</span><span class='line'>Downloading packages:
</span><span class='line'>warning: /var/cache/yum/x86_64/7/centos-sclo-rh/packages/rh-python38-2.0-4.el7.x86_64.rpm: Header V4 RSA/SHA1 Signature, key ID f2ee9d55: NOKEY
</span><span class='line'>Public key for rh-python38-2.0-4.el7.x86_64.rpm is not installed
</span><span class='line'>(1/8): rh-python38-2.0-4.el7.x86_64.rpm                                                                                      | 2.8 kB  00:00:00     
</span><span class='line'>(2/8): rh-python38-python-3.8.13-1.el7.x86_64.rpm                                                                            |  71 kB  00:00:00     
</span><span class='line'>(3/8): rh-python38-python-pip-19.3.1-3.el7.noarch.rpm                                                                        | 1.6 MB  00:00:00     
</span><span class='line'>(4/8): rh-python38-python-pip-wheel-19.3.1-3.el7.noarch.rpm                                                                  | 1.0 MB  00:00:00     
</span><span class='line'>(5/8): rh-python38-python-setuptools-41.6.0-7.el7.noarch.rpm                                                                 | 636 kB  00:00:00     
</span><span class='line'>(6/8): rh-python38-python-libs-3.8.13-1.el7.x86_64.rpm                                                                       | 7.7 MB  00:00:00     
</span><span class='line'>(7/8): rh-python38-python-setuptools-wheel-41.6.0-7.el7.noarch.rpm                                                           | 299 kB  00:00:00     
</span><span class='line'>(8/8): rh-python38-runtime-2.0-4.el7.x86_64.rpm                                                                              | 1.1 MB  00:00:00     
</span><span class='line'>----------------------------------------------------------------------------------------------------------------------------------------------------
</span><span class='line'>Total                                                                                                                21 MB/s |  12 MB  00:00:00     
</span><span class='line'>Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo
</span><span class='line'>Importing GPG key 0xF2EE9D55:
</span><span class='line'> Userid     : "CentOS SoftwareCollections SIG (https://wiki.centos.org/SpecialInterestGroup/SCLo) &lt;security@centos.org&gt;"
</span><span class='line'> Fingerprint: c4db d535 b1fb ba14 f8ba 64a8 4eb8 4e71 f2ee 9d55
</span><span class='line'> Package    : centos-release-scl-rh-2-3.el7.centos.noarch (@extras)
</span><span class='line'> From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo
</span><span class='line'>Is this ok [y/N]: y
</span><span class='line'>Running transaction check
</span><span class='line'>Running transaction test
</span><span class='line'>Transaction test succeeded
</span><span class='line'>Running transaction
</span><span class='line'>  Installing : rh-python38-runtime-2.0-4.el7.x86_64                                                                                             1/8 
</span><span class='line'>  Installing : rh-python38-python-pip-wheel-19.3.1-3.el7.noarch                                                                                 2/8 
</span><span class='line'>  Installing : rh-python38-python-setuptools-wheel-41.6.0-7.el7.noarch                                                                          3/8 
</span><span class='line'>  Installing : rh-python38-python-setuptools-41.6.0-7.el7.noarch                                                                                4/8 
</span><span class='line'>  Installing : rh-python38-python-3.8.13-1.el7.x86_64                                                                                           5/8 
</span><span class='line'>  Installing : rh-python38-python-libs-3.8.13-1.el7.x86_64                                                                                      6/8 
</span><span class='line'>  Installing : rh-python38-python-pip-19.3.1-3.el7.noarch                                                                                       7/8 
</span><span class='line'>  Installing : rh-python38-2.0-4.el7.x86_64                                                                                                     8/8 
</span><span class='line'>  Verifying  : rh-python38-2.0-4.el7.x86_64                                                                                                     1/8 
</span><span class='line'>  Verifying  : rh-python38-python-pip-wheel-19.3.1-3.el7.noarch                                                                                 2/8 
</span><span class='line'>  Verifying  : rh-python38-python-setuptools-wheel-41.6.0-7.el7.noarch                                                                          3/8 
</span><span class='line'>  Verifying  : rh-python38-python-3.8.13-1.el7.x86_64                                                                                           4/8 
</span><span class='line'>  Verifying  : rh-python38-python-pip-19.3.1-3.el7.noarch                                                                                       5/8 
</span><span class='line'>  Verifying  : rh-python38-python-libs-3.8.13-1.el7.x86_64                                                                                      6/8 
</span><span class='line'>  Verifying  : rh-python38-python-setuptools-41.6.0-7.el7.noarch                                                                                7/8 
</span><span class='line'>  Verifying  : rh-python38-runtime-2.0-4.el7.x86_64                                                                                             8/8 
</span><span class='line'>
</span><span class='line'>Installed:
</span><span class='line'>  rh-python38.x86_64 0:2.0-4.el7                                                                                                                    
</span><span class='line'>
</span><span class='line'>Dependency Installed:
</span><span class='line'>  rh-python38-python.x86_64 0:3.8.13-1.el7                              rh-python38-python-libs.x86_64 0:3.8.13-1.el7                              
</span><span class='line'>  rh-python38-python-pip.noarch 0:19.3.1-3.el7                          rh-python38-python-pip-wheel.noarch 0:19.3.1-3.el7                         
</span><span class='line'>  rh-python38-python-setuptools.noarch 0:41.6.0-7.el7                   rh-python38-python-setuptools-wheel.noarch 0:41.6.0-7.el7                  
</span><span class='line'>  rh-python38-runtime.x86_64 0:2.0-4.el7                               
</span><span class='line'>
</span><span class='line'>Complete!
</span><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz ~]# 
</span></code></pre></td></tr></table></div></figure>


<p>æ£€æµ‹ä¸€ä¸‹ï¼ŒæŸ¥çœ‹Pythonç‰ˆæœ¬ï¼š</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz ~]# scl enable rh-python38 bash
</span><span class='line'>
</span><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz ~]# python --version
</span><span class='line'>Python 3.8.13
</span><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz ~]# pip --version 
</span><span class='line'>pip 19.3.1 from /opt/rh/rh-python38/root/usr/lib/python3.8/site-packages/pip (python 3.8)
</span><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz ~]# </span></code></pre></td></tr></table></div></figure>


<p>ä¸‹è½½ä»£ç ï¼š</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz ~]# git clone https://github.com/zhayujie/bot-on-anything
</span></code></pre></td></tr></table></div></figure>


<h2>å¯¹æ¥ä¸ªäººå¾®ä¿¡</h2>

<p>1 å®‰è£…ä¾èµ–</p>

<p>å‚è€ƒ <a href="https://github.com/zhayujie/chatgpt-on-wechat">https://github.com/zhayujie/chatgpt-on-wechat</a> çš„è¯´æ˜ï¼š</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>## [root@izt4nhcmmx33bjwcsdmf8oz Python-3.8.1]# yum install libffi-devel
</span><span class='line'>
</span><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz ~]# pip3 install itchat-uos==1.5.0.dev0
</span><span class='line'>WARNING: Running pip install with root privileges is generally not a good idea. Try `pip3 install --user` instead.
</span><span class='line'>Looking in indexes: http://mirrors.aliyun.com/pypi/simple/
</span><span class='line'>Collecting itchat-uos==1.5.0.dev0
</span><span class='line'>  Downloading http://mirrors.aliyun.com/pypi/packages/31/2b/0be7e46195dc3c461518b046a6fb9c34c97cd2fd44847b840a0011686575/itchat_uos-1.5.0.dev0-py3-none-any.whl (52kB)
</span><span class='line'>     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 61kB 1.9MB/s 
</span><span class='line'>Collecting requests
</span><span class='line'>  Downloading http://mirrors.aliyun.com/pypi/packages/d2/f4/274d1dbe96b41cf4e0efb70cbced278ffd61b5c7bb70338b62af94ccb25b/requests-2.28.2-py3-none-any.whl (62kB)
</span><span class='line'>     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 71kB 2.0MB/s 
</span><span class='line'>Collecting pyqrcode
</span><span class='line'>  Downloading http://mirrors.aliyun.com/pypi/packages/37/61/f07226075c347897937d4086ef8e55f0a62ae535e28069884ac68d979316/PyQRCode-1.2.1.tar.gz
</span><span class='line'>Collecting pypng
</span><span class='line'>  Downloading http://mirrors.aliyun.com/pypi/packages/3e/b9/3766cc361d93edb2ce81e2e1f87dd98f314d7d513877a342d31b30741680/pypng-0.20220715.0-py3-none-any.whl (58kB)
</span><span class='line'>     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 61kB 1.8MB/s 
</span><span class='line'>Collecting certifi&gt;=2017.4.17
</span><span class='line'>  Downloading http://mirrors.aliyun.com/pypi/packages/71/4c/3db2b8021bd6f2f0ceb0e088d6b2d49147671f25832fb17970e9b583d742/certifi-2022.12.7-py3-none-any.whl (155kB)
</span><span class='line'>     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 163kB 1.7MB/s 
</span><span class='line'>Collecting idna&lt;4,&gt;=2.5
</span><span class='line'>  Downloading http://mirrors.aliyun.com/pypi/packages/fc/34/3030de6f1370931b9dbb4dad48f6ab1015ab1d32447850b9fc94e60097be/idna-3.4-py3-none-any.whl (61kB)
</span><span class='line'>     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 71kB 1.9MB/s 
</span><span class='line'>Collecting urllib3&lt;1.27,&gt;=1.21.1
</span><span class='line'>  Downloading http://mirrors.aliyun.com/pypi/packages/fe/ca/466766e20b767ddb9b951202542310cba37ea5f2d792dae7589f1741af58/urllib3-1.26.14-py2.py3-none-any.whl (140kB)
</span><span class='line'>     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 143kB 1.3MB/s 
</span><span class='line'>Collecting charset-normalizer&lt;4,&gt;=2
</span><span class='line'>  Downloading http://mirrors.aliyun.com/pypi/packages/20/a2/16b2cbf5f73bdd10624b94647b85c008ba25059792a5c7b4fdb8358bceeb/charset_normalizer-3.0.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (195kB)
</span><span class='line'>     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 204kB 1.5MB/s 
</span><span class='line'>Installing collected packages: certifi, idna, urllib3, charset-normalizer, requests, pyqrcode, pypng, itchat-uos
</span><span class='line'>    Running setup.py install for pyqrcode ... done
</span><span class='line'>Successfully installed certifi-2022.12.7 charset-normalizer-3.0.1 idna-3.4 itchat-uos-1.5.0.dev0 pypng-0.20220715.0 pyqrcode-1.2.1 requests-2.28.2 urllib3-1.26.14
</span><span class='line'>
</span><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz ~]# pip3 install --upgrade openai
</span><span class='line'>WARNING: Running pip install with root privileges is generally not a good idea. Try `pip3 install --user` instead.
</span><span class='line'>Looking in indexes: http://mirrors.aliyun.com/pypi/simple/
</span><span class='line'>Collecting openai
</span><span class='line'>  Downloading http://mirrors.aliyun.com/pypi/packages/2f/15/b29ed5ad2eed1f49b8b3e2067fbbbb63cfbfc496ca2a27b772bcf0907ad8/openai-0.27.0-py3-none-any.whl (70kB)
</span><span class='line'>     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 71kB 1.7MB/s 
</span><span class='line'>Collecting tqdm
</span><span class='line'>  Downloading http://mirrors.aliyun.com/pypi/packages/e6/02/a2cff6306177ae6bc73bc0665065de51dfb3b9db7373e122e2735faf0d97/tqdm-4.65.0-py3-none-any.whl (77kB)
</span><span class='line'>     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 81kB 1.9MB/s 
</span><span class='line'>Collecting aiohttp
</span><span class='line'>  Downloading http://mirrors.aliyun.com/pypi/packages/d2/e5/cef5eeb11d7e8bac830b3bee1c8311b19bf8e8a1c45fe14b876c70adcd06/aiohttp-3.8.4-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.0MB)
</span><span class='line'>     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1.0MB 1.5MB/s 
</span><span class='line'>Requirement already satisfied, skipping upgrade: requests&gt;=2.20 in /opt/rh/rh-python38/root/usr/local/lib/python3.8/site-packages (from openai) (2.28.2)
</span><span class='line'>Collecting yarl&lt;2.0,&gt;=1.0
</span><span class='line'>  Downloading http://mirrors.aliyun.com/pypi/packages/b3/0d/0ba1f2022b9a36ae670c1f3c579ed08d0958398cb6beaf4687e606ad33d4/yarl-1.8.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (262kB)
</span><span class='line'>     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 266kB 1.7MB/s 
</span><span class='line'>Collecting aiosignal&gt;=1.1.2
</span><span class='line'>  Downloading http://mirrors.aliyun.com/pypi/packages/76/ac/a7305707cb852b7e16ff80eaf5692309bde30e2b1100a1fcacdc8f731d97/aiosignal-1.3.1-py3-none-any.whl
</span><span class='line'>Collecting attrs&gt;=17.3.0
</span><span class='line'>  Downloading http://mirrors.aliyun.com/pypi/packages/fb/6e/6f83bf616d2becdf333a1640f1d463fef3150e2e926b7010cb0f81c95e88/attrs-22.2.0-py3-none-any.whl (60kB)
</span><span class='line'>     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 61kB 1.7MB/s 
</span><span class='line'>Requirement already satisfied, skipping upgrade: charset-normalizer&lt;4.0,&gt;=2.0 in /opt/rh/rh-python38/root/usr/local/lib64/python3.8/site-packages (from aiohttp-&gt;openai) (3.0.1)
</span><span class='line'>Collecting frozenlist&gt;=1.1.1
</span><span class='line'>  Downloading http://mirrors.aliyun.com/pypi/packages/ec/ab/a440db757401a1e8863c9abb374a77cb2884eda74ffbf555dedcf1fbe7f6/frozenlist-1.3.3-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (161kB)
</span><span class='line'>     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 163kB 1.8MB/s 
</span><span class='line'>Collecting multidict&lt;7.0,&gt;=4.5
</span><span class='line'>  Downloading http://mirrors.aliyun.com/pypi/packages/fe/0c/8469202f8f4b0e65816f91c3febc4bda7316c995b59ecdf3b15c574f7a24/multidict-6.0.4-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (121kB)
</span><span class='line'>     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 122kB 1.9MB/s 
</span><span class='line'>Collecting async-timeout&lt;5.0,&gt;=4.0.0a3
</span><span class='line'>  Downloading http://mirrors.aliyun.com/pypi/packages/d6/c1/8991e7c5385b897b8c020cdaad718c5b087a6626d1d11a23e1ea87e325a7/async_timeout-4.0.2-py3-none-any.whl
</span><span class='line'>Requirement already satisfied, skipping upgrade: idna&lt;4,&gt;=2.5 in /opt/rh/rh-python38/root/usr/local/lib/python3.8/site-packages (from requests&gt;=2.20-&gt;openai) (3.4)
</span><span class='line'>Requirement already satisfied, skipping upgrade: certifi&gt;=2017.4.17 in /opt/rh/rh-python38/root/usr/local/lib/python3.8/site-packages (from requests&gt;=2.20-&gt;openai) (2022.12.7)
</span><span class='line'>Requirement already satisfied, skipping upgrade: urllib3&lt;1.27,&gt;=1.21.1 in /opt/rh/rh-python38/root/usr/local/lib/python3.8/site-packages (from requests&gt;=2.20-&gt;openai) (1.26.14)
</span><span class='line'>Installing collected packages: tqdm, multidict, yarl, frozenlist, aiosignal, attrs, async-timeout, aiohttp, openai
</span><span class='line'>Successfully installed aiohttp-3.8.4 aiosignal-1.3.1 async-timeout-4.0.2 attrs-22.2.0 frozenlist-1.3.3 multidict-6.0.4 openai-0.27.0 tqdm-4.65.0 yarl-1.8.2
</span><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz ~]# 
</span></code></pre></td></tr></table></div></figure>


<p>2 ä¿®æ”¹é…ç½®ç”¨ä¸ªäººå¾®ä¿¡æ–¹å¼ä½¿ç”¨</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz bot-on-anything]# cp config-template.json config.json
</span><span class='line'>
</span><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz bot-on-anything]# cat config.json 
</span><span class='line'>{
</span><span class='line'>  "model": {
</span><span class='line'>    "type" : "chatgpt",
</span><span class='line'>    "openai": {
</span><span class='line'>      "api_key": "sk-xxx",
</span><span class='line'>      "proxy": "",
</span><span class='line'>      "conversation_max_tokens": 1000,
</span><span class='line'>      "character_desc": "ä½ æ˜¯ChatGPT, ä¸€ä¸ªç”±OpenAIè®­ç»ƒçš„å¤§å‹è¯­è¨€æ¨¡å‹, ä½ æ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚"
</span><span class='line'>    }
</span><span class='line'>  },
</span><span class='line'>
</span><span class='line'>  "channel": {
</span><span class='line'>    "type": "wechat",
</span><span class='line'>    "single_chat_prefix": ["bot", "@bot"],
</span><span class='line'>    "single_chat_reply_prefix": "[bot] ",
</span><span class='line'>    "group_chat_prefix": ["@bot"],
</span><span class='line'>    "group_name_white_list": ["ChatGPTæµ‹è¯•ç¾¤"],
</span><span class='line'>    "image_create_prefix": ["ç”»", "çœ‹", "æ‰¾ä¸€å¼ "],
</span><span class='line'>
</span><span class='line'>    "terminal": {
</span><span class='line'>    },
</span><span class='line'>
</span><span class='line'>    "wechat": {
</span><span class='line'>    },
</span></code></pre></td></tr></table></div></figure>


<p>é…ç½®è§£é‡Šè¯´æ˜ï¼š</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  "single_chat_prefix": ["bot", "@bot"], # ç§èŠæ—¶æ–‡æœ¬éœ€è¦åŒ…å«è¯¥å‰ç¼€æ‰èƒ½è§¦å‘æœºå™¨äººå›å¤
</span><span class='line'>  "single_chat_reply_prefix": "[bot] ", # ç§èŠæ—¶è‡ªåŠ¨å›å¤çš„å‰ç¼€ï¼Œç”¨äºåŒºåˆ†çœŸäºº
</span><span class='line'>  "group_chat_prefix": ["@bot"], # ç¾¤èŠæ—¶åŒ…å«è¯¥å‰ç¼€åˆ™ä¼šè§¦å‘æœºå™¨äººå›å¤
</span><span class='line'>  "group_name_white_list": ["ChatGPTæµ‹è¯•ç¾¤", "ChatGPTæµ‹è¯•ç¾¤2"], # å¼€å¯è‡ªåŠ¨å›å¤çš„ç¾¤åç§°åˆ—è¡¨
</span><span class='line'>  "image_create_prefix": ["ç”»", "çœ‹", "æ‰¾"], # å¼€å¯å›¾ç‰‡å›å¤çš„å‰ç¼€</span></code></pre></td></tr></table></div></figure>


<p>å¯ä»¥æŠŠ group_chat_prefix æ”¹æˆä½ è¦ä½¿ç”¨çš„å¾®ä¿¡å·çš„åç§°ï¼Œè¿™æ ·äººå®¶@ä½ ï¼Œå°±èƒ½è§¦å‘æœºå™¨äººäº†ã€‚</p>

<p>3 å¯åŠ¨</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz bot-on-anything]# cat startup.sh 
</span><span class='line'>#!/bin/bash
</span><span class='line'>
</span><span class='line'>scl enable rh-python38 - &lt;&lt; \EOF
</span><span class='line'>
</span><span class='line'>mv nohup.out{,$(date +'%Y%m%d%H%M')}
</span><span class='line'>touch nohup.out
</span><span class='line'>nohup python3 app.py & tail -f nohup.out
</span><span class='line'>
</span><span class='line'>EOF
</span><span class='line'>
</span><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz bot-on-anything]# 
</span><span class='line'>
</span><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz bot-on-anything]# sh startup.sh 
</span></code></pre></td></tr></table></div></figure>


<p>å¯åŠ¨åï¼Œä¼šè¾“å‡ºä¸€ä¸ªäºŒç»´ç ï¼Œä½¿ç”¨å¾®ä¿¡æ‰«æç™»å½•ã€‚ç„¶åå»ºç¾¤ <code>ChatGPTæµ‹è¯•ç¾¤</code> å°±å¯ä»¥å’ŒChatGPTèŠå¤©äº†ã€‚</p>

<h2>å¯¹æ¥å¾®ä¿¡å…¬ä¼—å·</h2>

<p>1 åšåŸŸåå¤–ç½‘æ˜ å°„</p>

<p>å¾®ä¿¡å…¬ä¼—å·è¦æ±‚443æˆ–è€…80ç«¯å£ï¼Œé¦–å…ˆç”¨ èŠ±ç”Ÿå£³ åšä¸€ä¸ªæ˜ å°„ï¼ˆè¿˜ä¸è¦æ±‚å¤–ç½‘ipçš„443ç«¯å£ï¼‰ã€‚</p>

<ul>
<li><a href="https://hsk.oray.com/download">https://hsk.oray.com/download</a></li>
<li><a href="https://service.oray.com/question/11630.html">https://service.oray.com/question/11630.html</a></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz ~]# wget "https://down.oray.com/hsk/linux/phddns_5.2.0_amd64.rpm" -O phddns_5.2.0_amd64.rpm
</span><span class='line'>--2023-03-16 12:59:06--  https://down.oray.com/hsk/linux/phddns_5.2.0_amd64.rpm
</span><span class='line'>
</span><span class='line'>Resolving down.oray.com (down.oray.com)... 163.181.42.225, 163.181.42.228, 163.181.42.223, ...
</span><span class='line'>Connecting to down.oray.com (down.oray.com)|163.181.42.225|:443... connected.
</span><span class='line'>HTTP request sent, awaiting response... 200 OK
</span><span class='line'>Length: 295240 (288K) [application/x-redhat-package-manager]
</span><span class='line'>Saving to: â€˜phddns_5.2.0_amd64.rpmâ€™
</span><span class='line'>
</span><span class='line'>100%[==========================================================================================================&gt;] 295,240     1.25MB/s   in 0.2s   
</span><span class='line'>
</span><span class='line'>2023-03-16 12:59:07 (1.25 MB/s) - â€˜phddns_5.2.0_amd64.rpmâ€™ saved [295240/295240]
</span><span class='line'>
</span><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz ~]# 
</span><span class='line'>
</span><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz ~]# rpm -ivh phddns_5.2.0_amd64.rpm       
</span><span class='line'>Preparing...                          ################################# [100%]
</span><span class='line'>
</span><span class='line'>+----------------Phtunnel start install--------------+
</span><span class='line'>
</span><span class='line'>Updating / installing...
</span><span class='line'>   1:phddns-5.2.0-1                   ################################# [100%]
</span><span class='line'>Binary file /proc/1/cmdline matches
</span><span class='line'>Created symlink from /etc/systemd/system/multi-user.target.wants/phtunnel.service to /usr/lib/systemd/system/phtunnel.service.
</span><span class='line'>Created symlink from /etc/systemd/system/multi-user.target.wants/phddns_mini_httpd.service to /usr/lib/systemd/system/phddns_mini_httpd.service.
</span><span class='line'>
</span><span class='line'>+-----------Phtunnel Service Install Success---------+
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>+--------------------------------------------------------+
</span><span class='line'>|                Oray Phtunnel Linux 5.2.0               |
</span><span class='line'>+--------------------------------------------------------+
</span><span class='line'>|     SN: orayc1xxxxx   Default password: admin     |
</span><span class='line'>+--------------------------------------------------------+
</span><span class='line'>| Usage: phddns(start|status|stop|restart|reset|version) |
</span><span class='line'>+--------------------------------------------------------+
</span><span class='line'>|       Remote Management Address http://b.oray.com      |
</span><span class='line'>+--------------------------------------------------------+
</span><span class='line'>
</span><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz ~]# 
</span><span class='line'>
</span><span class='line'># å¸è½½ï¼šyum remove phddns
</span><span class='line'># phddns startï¼ˆå¯åŠ¨ï¼‰| statusï¼ˆçŠ¶æ€ï¼‰| stopï¼ˆåœæ­¢ï¼‰|restartï¼ˆé‡å¯ï¼‰| resetï¼ˆé‡ç½®ï¼‰|enableï¼ˆå¼€æœºè‡ªå¯åŠ¨ï¼‰|disableï¼ˆå…³é—­å¼€æœºè‡ªå¯åŠ¨ï¼‰|versionï¼ˆç‰ˆæœ¬ï¼‰
</span></code></pre></td></tr></table></div></figure>


<p>ç”¨ä¸Šé¢çš„SNå·å’Œå¯†ç ç™»å½•ï¼Œåœ¨linuxä¸Šä¼šä»¥ä¸€ä¸ªè®¾å¤‡çš„æ–¹å¼ï¼Œç„¶åç»‘å®šåˆ°æˆ‘ä»¬çš„è´¦å·ï¼Œ</p>

<p>ç„¶åå†åˆ°è‡ªå·±çš„è´¦å·è®¾ç½® <code>https://console.hsk.oray.com/forward</code> å†…ç½‘ç©¿é€ï¼Œé…ç½®ä¸€ä¸ªhttpsæ˜ å°„çš„ã€‚</p>

<p><img src="/images/blogs/openai/hsk1.jpg" alt="" /></p>

<p><img src="/images/blogs/openai/hsk2.jpg" alt="" /></p>

<p>2 ä¿®æ”¹é…ç½®è¿æ¥å…¬ä¼—å·</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz bot-on-anything]# cat config.json 
</span><span class='line'>{
</span><span class='line'>  "model": {
</span><span class='line'>    "type" : "chatgpt",
</span><span class='line'>    "openai": {
</span><span class='line'>      "api_key": "sk-xxxxxx",
</span><span class='line'>      "proxy": "",
</span><span class='line'>      "conversation_max_tokens": 1000,
</span><span class='line'>      "character_desc": "ä½ æ˜¯ChatGPT, ä¸€ä¸ªç”±OpenAIè®­ç»ƒçš„å¤§å‹è¯­è¨€æ¨¡å‹, ä½ æ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚"
</span><span class='line'>    }
</span><span class='line'>  },
</span><span class='line'>
</span><span class='line'>  "channel": {
</span><span class='line'>    "type": "wechat_mp",
</span><span class='line'>    "single_chat_prefix": ["bot", "@bot"],
</span><span class='line'>    "single_chat_reply_prefix": "[ChatGPT] ",
</span><span class='line'>    "group_chat_prefix": ["@bot"],
</span><span class='line'>    "group_name_white_list": ["ChatGPTæµ‹è¯•ç¾¤", "ChatGPTå“‡å“‡å“‡", "åˆ˜å…°å®¶", "ChatGPT"],
</span><span class='line'>    "image_create_prefix": ["ç”»", "çœ‹", "æ‰¾ä¸€å¼ "],
</span><span class='line'>
</span><span class='line'>    "terminal": {
</span><span class='line'>    },
</span><span class='line'>
</span><span class='line'>    "wechat": {
</span><span class='line'>    },
</span><span class='line'>
</span><span class='line'>    "wechat_mp": {
</span><span class='line'>      "token": "xxxxxx",
</span><span class='line'>      "port": "3000"
</span><span class='line'>    },
</span><span class='line'>  
</span></code></pre></td></tr></table></div></figure>


<p>3 å®‰è£…ä¾èµ–</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz bot-on-anything]# scl enable rh-python38 bash 
</span><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz bot-on-anything]# pip3 install werobot
</span><span class='line'>WARNING: Running pip install with root privileges is generally not a good idea. Try `pip3 install --user` instead.
</span><span class='line'>Looking in indexes: http://mirrors.aliyun.com/pypi/simple/
</span><span class='line'>Collecting werobot
</span><span class='line'>  Downloading http://mirrors.aliyun.com/pypi/packages/84/98/6a16bc6c9b3c216efd28babe06f1891ff1fe3f7f96dfb88516545a8c9b30/WeRoBot-1.13.1-py2.py3-none-any.whl (44kB)
</span><span class='line'>     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 51kB 2.0MB/s 
</span><span class='line'>Collecting bottle
</span><span class='line'>  Downloading http://mirrors.aliyun.com/pypi/packages/bb/1f/5977ea88c6a3df6199db97d320e5da816d415d1eb75a987a1f6823d5cc9d/bottle-0.12.25-py3-none-any.whl (90kB)
</span><span class='line'>     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 92kB 1.8MB/s 
</span><span class='line'>Requirement already satisfied: requests in /opt/rh/rh-python38/root/usr/local/lib/python3.8/site-packages (from werobot) (2.28.2)
</span><span class='line'>Collecting xmltodict
</span><span class='line'>  Downloading http://mirrors.aliyun.com/pypi/packages/94/db/fd0326e331726f07ff7f40675cd86aa804bfd2e5016c727fa761c934990e/xmltodict-0.13.0-py2.py3-none-any.whl
</span><span class='line'>Requirement already satisfied: certifi&gt;=2017.4.17 in /opt/rh/rh-python38/root/usr/local/lib/python3.8/site-packages (from requests-&gt;werobot) (2022.12.7)
</span><span class='line'>Requirement already satisfied: urllib3&lt;1.27,&gt;=1.21.1 in /opt/rh/rh-python38/root/usr/local/lib/python3.8/site-packages (from requests-&gt;werobot) (1.26.14)
</span><span class='line'>Requirement already satisfied: charset-normalizer&lt;4,&gt;=2 in /opt/rh/rh-python38/root/usr/local/lib64/python3.8/site-packages (from requests-&gt;werobot) (3.0.1)
</span><span class='line'>Requirement already satisfied: idna&lt;4,&gt;=2.5 in /opt/rh/rh-python38/root/usr/local/lib/python3.8/site-packages (from requests-&gt;werobot) (3.4)
</span><span class='line'>Installing collected packages: bottle, xmltodict, werobot
</span><span class='line'>Successfully installed bottle-0.12.25 werobot-1.13.1 xmltodict-0.13.0
</span><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz bot-on-anything]# 
</span></code></pre></td></tr></table></div></figure>


<p>å†ä¸‹è½½ä¸€ä¸ªæ•æ„Ÿå­—è¿‡æ»¤æ–‡ä»¶ï¼š</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz bot-on-anything]# wget https://raw.githubusercontent.com/qloog/sensitive_words/master/keywords
</span><span class='line'>--2023-03-16 13:52:30--  https://raw.githubusercontent.com/qloog/sensitive_words/master/keywords
</span><span class='line'>Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 185.199.108.133, 185.199.110.133, 185.199.109.133, ...
</span><span class='line'>Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|185.199.108.133|:443... connected.
</span><span class='line'>HTTP request sent, awaiting response... 200 OK
</span><span class='line'>Length: 289615 (283K) [text/plain]
</span><span class='line'>Saving to: â€˜keywordsâ€™
</span><span class='line'>
</span><span class='line'>100%[==========================================================================================================&gt;] 289,615     --.-K/s   in 0.009s  
</span><span class='line'>
</span><span class='line'>2023-03-16 13:52:31 (32.0 MB/s) - â€˜keywordsâ€™ saved [289615/289615]
</span><span class='line'>
</span><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz bot-on-anything]# mv keywords  sensitive_words.txt
</span><span class='line'>[root@izt4nhcmmx33bjwcsdmf8oz bot-on-anything]# 
</span></code></pre></td></tr></table></div></figure>


<p>é…ç½®å¥½åï¼Œå…ˆå¯åŠ¨æœåŠ¡ï¼Œå†ä¿®æ”¹å¾®ä¿¡å…¬ä¼—å·æ¥å£åœ°å€ã€‚</p>

<p>å¯åŠ¨è¿˜æ˜¯ç”¨ä¸Šé¢çš„è„šæœ¬å³å¯ï¼š</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Bottle v0.12.25 server starting up (using AutoServer())...
</span><span class='line'>Listening on http://0.0.0.0:3000/</span></code></pre></td></tr></table></div></figure>


<p>4 ä¿®æ”¹å¾®ä¿¡å…¬ä¼—å·çš„æ¥å£åœ°å€</p>

<p>åœ¨ <code>è®¾ç½®ä¸å¼€å‘</code> - <code>åŸºæœ¬é…ç½®</code> çš„ <code>æœåŠ¡å™¨é…ç½®</code> çš„ <code>æœåŠ¡å™¨åœ°å€</code> ã€‚<code>ä»¤ç‰ŒTOKEN</code> ä¸ config.json é‡Œé¢çš„ä¸€è‡´ã€‚</p>

<p>ç„¶åå°±å¯ä»¥ç”¨å¾®ä¿¡å…¬ä¼—å·ä¸ChatGPTèŠå¤©äº†ã€‚</p>

<h1>è‡ªå·±ç </h1>

<p>1 å¯¹æ¥</p>

<p>å‚è€ƒï¼š</p>

<ul>
<li><a href="https://cnodejs.org/topic/59294bff9e32cc84569a746a">https://cnodejs.org/topic/59294bff9e32cc84569a746a</a></li>
<li><a href="https://github.com/SilenceHVK/wechatByNode">https://github.com/SilenceHVK/wechatByNode</a></li>
</ul>


<p>åœ¨å¾®ä¿¡å…¬ä¼—å·å¼€å¯æ¥å£è‡ªåŠ¨å›å¤åŠŸèƒ½ï¼Œåœ¨åŸºæœ¬é…ç½®-æœåŠ¡å™¨é…ç½®æŒ‡å®šåœ°å€å’Œä»¤ç‰Œã€‚</p>

<p>æœåŠ¡å™¨åœ°å€(URL) <a href="https://xxx.goho.co/">https://xxx.goho.co/</a></p>

<p>åœ°å€çš„ç«¯å£è¦æ˜¯80çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ èŠ±ç”Ÿå£³å†…ç½‘æ˜ å°„å¤–ç½‘çš„è½¯ä»¶ æ¥é…ç½®ä¸€ä¸ªhttpsï¼ŒæŒ‡å®šåˆ°æœ¬åœ°æœºå™¨å¯åŠ¨çš„æœåŠ¡ã€‚</p>

<p>2 socks proxy:</p>

<ul>
<li><a href="https://blog.csdn.net/z_xuewen/article/details/125935182">https://blog.csdn.net/z_xuewen/article/details/125935182</a></li>
<li><a href="https://medium.com/@paynoattn/using-a-socks-proxy-to-make-requests-in-node-js-ba5125c7999f">https://medium.com/@paynoattn/using-a-socks-proxy-to-make-requests-in-node-js-ba5125c7999f</a></li>
<li><a href="https://levelup.gitconnected.com/how-to-use-a-socks-proxy-in-axios-6c0355a2e013">https://levelup.gitconnected.com/how-to-use-a-socks-proxy-in-axios-6c0355a2e013</a></li>
</ul>


<p>3 pkg æ‰“åŒ…nodejsç¨‹åº</p>

<ul>
<li><a href="https://segmentfault.com/a/1190000041958374">https://segmentfault.com/a/1190000041958374</a></li>
</ul>


<p>&ndash;END</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/2">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>ä½›çˆ·</h1>
  <p>æ¥ä¹‹ä¸æ˜“, ä¸”ç­‰ä¸”çæƒœ. <br>å¾—ä¹‹æˆ‘å¹¸; ä¸å¾—<span style="display:none">-äº‰-å¤äº‰-ä¸”ä¸å¾—</span>, å‘½ä¹Ÿ, ä¹äº«å¤©å‘½, ç¦ä¹Ÿ. </p>
  <p><a href="https://github.com/winse"><i class="fa fa-github-alt">winse</i></a>&nbsp;&nbsp;<a href="http://weibo.com/winseliu"><i class="fa fa-weibo">winseliu</i></a></p>
</section>
<section>
  <h1><a class='category' href='/blog/categories/recommend/'>Recommend</a></h1>
	<ul role="list">
		
			<li class="post">
				<a href="/blog/2019/04/10/try-k8s/">Try K8s</a>
			</li>
		
			<li class="post">
				<a href="/blog/2018/08/25/video-auto-translate/">è§†é¢‘è‡ªåŠ¨ç¿»è¯‘</a>
			</li>
		
			<li class="post">
				<a href="/blog/2018/06/09/reasonable-way-to-access-the-internet/">ç§‘å­¦ä¸Šç½‘ï¼ˆç»­ï¼‰</a>
			</li>
		
			<li class="post">
				<a href="/blog/2017/11/16/sphinx-generate-docs/">ä½¿ç”¨Sphinxç”Ÿæˆ/ç®¡ç†æ–‡æ¡£</a>
			</li>
		
			<li class="post">
				<a href="/blog/2017/10/30/windows-run-ubuntu/">Windows Run Ubuntu</a>
			</li>
		
			<li class="post">
				<a href="/blog/2017/07/30/kubeadm-install-kubenetes-on-centos7/">Kubeadméƒ¨ç½²kubernetes</a>
			</li>
		
			<li class="post">
				<a href="/blog/2017/07/08/casperjs-crawler/">çˆ¬è™«ä¹‹CasperJS</a>
			</li>
		
			<li class="post">
				<a href="/blog/2016/09/19/163-open-movies-download/">æ‰¹é‡ä¸‹è½½163-opençš„è§†é¢‘</a>
			</li>
		
			<li class="post">
				<a href="/blog/2016/04/23/hadoop-guide-catalog/">[æ•´ç†] Hadoopå…¥é—¨</a>
			</li>
		
			<li class="post">
				<a href="/blog/2016/04/04/rpm-build-your-package/">RPMæ‰“åŒ…</a>
			</li>
		
			<li class="post">
				<a href="/blog/2015/11/22/gfw-ladder/">æ­æ¢¯ç¬”è®°</a>
			</li>
		
			<li class="post">
				<a href="/blog/2015/08/24/manual-install-supervisor/">Supervisorå®‰è£…é…ç½®</a>
			</li>
		
			<li class="post">
				<a href="/blog/2014/07/27/start-redis/">[è¯»è¯»ä¹¦]Rediså…¥é—¨æŒ‡å—</a>
			</li>
		
			<li class="post">
				<a href="/blog/2014/04/21/hadoop2-windows-startguide/">Windowsä¸‹éƒ¨ç½²/é…ç½®/è°ƒè¯•hadoop2</a>
			</li>
		
			<li class="post">
				<a href="/blog/2014/03/30/git-cheatsheet/">GITæ“ä½œè®°å½•æ‰‹å†Œ</a>
			</li>
		
			<li class="post">
				<a href="/blog/2014/02/23/quickly-open-program-in-windows/">[Windowsè¿è¡Œ]å¿«é€Ÿæ‰“å¼€ç¨‹åº</a>
			</li>
		
	</ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2023/04/09/dingtalk-with-openai/">é’‰é’‰ç¾¤æœºå™¨äººå¯¹æ¥ChatGPT</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/03/26/clash-on-raspberry4/">æ ‘è“æ´¾4å®‰è£…Clash</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/03/25/reinstall-raspberry2/">é‡æ–°æŠ˜è…¾raspberry2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/03/25/mirror-request/">è¯·æ±‚å¤åˆ¶/é•œåƒ</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/03/18/wechat-on-openai/">å¾®ä¿¡å¯¹æ¥OpenAI</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/02/01/git-reset-hard/">è®°git Reset &#8211;hard</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/02/01/register-openai/">æ³¨å†ŒOpenAI</a>
      </li>
    
      <li class="post">
        <a href="/blog/2022/07/24/xinchuang-install-postgres/">ä¿¡åˆ›ç¯å¢ƒè¿ç§»æµ…æ-ä»¥Postgresä¸ºä¾‹</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Categories</h1>

	 
	<ul role="list">
		
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/0/'>0</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/alluxio/'>alluxio</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/android/'>android</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/bigdata/'>bigdata</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/blabla/'>blabla</a> (7) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/books/'>books</a> (5) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/clash/'>clash</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/debug/'>debug</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/deprecated/'>deprecated</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/devops/'>devops</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/docker/'>docker</a> (16) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/elasticsearch/'>elasticsearch</a> (3) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/es/'>es</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/flume/'>flume</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/ganglia/'>ganglia</a> (5) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/git/'>git</a> (4) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/hadoop/'>hadoop</a> (44) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/hbase/'>hbase</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/hive/'>hive</a> (8) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/hole/'>hole</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/java/'>java</a> (13) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/jekyll/'>jekyll</a> (8) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/jenkins/'>jenkins</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/jeykll/'>jeykll</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/k2/'>k2</a> (2) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/k8s/'>k8s</a> (15) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/kafka/'>kafka</a> (3) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/kubeadm/'>kubeadm</a> (3) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/logstash/'>logstash</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/map/'>map</a> (2) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/nfs/'>nfs</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/nginx/'>nginx</a> (5) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/openai/'>openai</a> (3) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/openeuler/'>openeuler</a> (2) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/openvpn/'>openvpn</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/puppet/'>puppet</a> (11) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/r4a/'>r4a</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/raspberry/'>raspberry</a> (5) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/recommend/'>recommend</a> (16) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/redis/'>redis</a> (7) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/scala/'>scala</a> (4) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/shell/'>shell</a> (3) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/spark/'>spark</a> (13) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/staf/'>staf</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/tachyon/'>tachyon</a> (3) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/tez/'>tez</a> (2) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/tools/'>tools</a> (70) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/topics/'>topics</a> (2) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/vagrant/'>vagrant</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/vnc/'>vnc</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/wsl/'>wsl</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/zookeeper/'>zookeeper</a> (1) 
		</li>
		
		
		<li style="clear:both; width: 1px; margin: 0; padding: 0;"></li>
		<li class="category"><a href="/blog/archives">All categories</a> (235)</li>
	</ul>
	
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/winse">@winse</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'winse',
            count: 4,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
<!--
  <h1>Softs, I&#8217;m using</h1>
  <ul>
    <li class="post">
		<a href="http://hadoop.apache.org/releases.html">hadoop-2.6.3</a>
	</li>
	<li class="post">
		<a href="https://issues.apache.org/jira/browse/HBASE/?selectedTab=com.atlassian.jira.jira-projects-plugin:changelog-panel">hbase-0.96.0</a>
	</li>
	<li class="post">
		<a href="https://hive.apache.org/downloads.html">hive-1.2.1</a>
	</li>
	<li class="post">
		<a href="https://issues.apache.org/jira/browse/TEZ/?selectedTab=com.atlassian.jira.jira-projects-plugin:summary-panel">tez-0.7.0</a>
    </li>
  </ul>
&#8211;>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2023 - Winse Liu -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
  <script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1253103971'%3E%3C/span%3E%3Cscript src='https://s19.cnzz.com/z_stat.php%3Fid%3D1253103971%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</p>

</footer>
  


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>

<script>

var time=location.pathname.substring(6).substring(0,11);
var eName=location.pathname.substring(17);
var gitalk = new Gitalk({
  clientID: 'c14f68eac6330d15d984',
  clientSecret: '73b7c1fffa98e299ff0cdd332821201933858e6e',
  repo: 'winse.github.com',
  owner: 'winse',
  admin: ['winse'],
  id: eName,
  labels: ['Gitalk', time],
  body: "http://winse.github.io" + location.pathname,
  createIssueManually: true,
  
  // facebook-like distraction free mode
  distractionFreeMode: false
})

gitalk.render('gitalk-container')

</script>



<script>
/*
$.ajax({
  type: "POST",
  url: "http://log.winseliu.com:20000",
  data: JSON.stringify({
    title: document.title,
    location: JSON.stringify(location),
    referrer: document.referrer,
    userAgent: navigator.userAgent
  }),
  contentType: "application/json; charset=utf-8",
  dataType: "json"
});
*/
</script>











</body>
</html>
