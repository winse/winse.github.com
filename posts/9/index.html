
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Winse Blog</title>
  <meta name="author" content="Winse Liu">

  
  <meta name="description" content="ä¸€ç›´ä»¥æ¥éƒ½åªæ˜¯ç”¨Teamviewerçš„å›¾å½¢ç•Œé¢ï¼Œå¦‚æœä»…ä»…é’ˆå¯¹å•å°æœºå™¨æ“ä½œè¿˜æ˜¯è›®OKçš„ã€‚ä½†æ˜¯å¦‚æœæƒ³è¦è®¿é—®è¿œç¨‹çš„æ•´ä¸ªé›†ç¾¤ï¼Œé‚£å°±ä¸ºéš¾äº†ã€‚ ä»¥å‰é€šè¿‡ å…¬å¸çš„è·³æ¿æœº ï¼Œç„¶åè¿æ¥ å†…ç½‘æ­å»ºçš„VPN æ¥å®ç° é€æ˜ çš„è®¿é—®å…¬å¸çš„ç¯å¢ƒã€‚ä¹ŸæŠ˜è…¾è¿‡è‡ªå·±ä¹°ä¸€å°aliyunçš„æœºå™¨æä¸€ä¸ªå¤–ç½‘IPï¼Œ &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://winse.github.io/posts/9">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="/atom.xml" rel="alternate" title="Winse Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//cdn.bootcss.com/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/libs/jquery.toc.min.js" type="text/javascript"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<!--
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
-->

<script src="/javascripts/generate-toc.js" type="text/javascript"></script>


  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-D3G1YVNBK4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-D3G1YVNBK4');
</script>

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Winse Blog</a></h1>
  
    <h2>èµ°èµ°åœåœéƒ½æ˜¯é£æ™¯, ç†™ç†™æ”˜æ”˜éƒ½å‘æœ€å¥½, å¿™å¿™ç¢Œç¢Œéƒ½ä¸ºæ˜æœ, ä½•ç•ä¹‹.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:winse.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="ç«™å†…æœç´¢"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives/">Archives</a></li>
  <li><a href="/blog/archives/updated.html">Updated</a></li>
  <li><a href="/tool/">Tools</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/11/04/teamviewer-vpn-on-windows/">ä½¿ç”¨TeamviewerVPNè®¿é—®å…¬å¸å†…ç½‘</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2017-11-04T22:26:50+08:00" pubdate data-updated="true">Sat 2017-11-04 22:26</time>
		
        
		
      </p>
    
  </header>



  <div class="entry-content"><p>ä¸€ç›´ä»¥æ¥éƒ½åªæ˜¯ç”¨Teamviewerçš„å›¾å½¢ç•Œé¢ï¼Œå¦‚æœä»…ä»…é’ˆå¯¹å•å°æœºå™¨æ“ä½œè¿˜æ˜¯è›®OKçš„ã€‚ä½†æ˜¯å¦‚æœæƒ³è¦è®¿é—®è¿œç¨‹çš„æ•´ä¸ªé›†ç¾¤ï¼Œé‚£å°±ä¸ºéš¾äº†ã€‚</p>

<p>ä»¥å‰é€šè¿‡ <strong> å…¬å¸çš„è·³æ¿æœº </strong>ï¼Œç„¶åè¿æ¥ <strong> å†…ç½‘æ­å»ºçš„VPN </strong> æ¥å®ç° <strong> é€æ˜ </strong> çš„è®¿é—®å…¬å¸çš„ç¯å¢ƒã€‚ä¹ŸæŠ˜è…¾è¿‡è‡ªå·±ä¹°ä¸€å°aliyunçš„æœºå™¨æä¸€ä¸ªå¤–ç½‘IPï¼Œç„¶åé€šè¿‡SSHçš„åå‘ä»£ç†æ¥é—´æ¥çš„è·³è½¬è®¿é—®å…¬å¸å†…ç½‘ï¼Œä½†æˆæœ¬éƒ½è¿˜æ˜¯æ¯”è¾ƒé«˜çš„ã€‚</p>

<p>æ—¢ç„¶Teamvieweræä¾›äº†ä¸€ç§è¿œç¨‹è®¿é—®çš„æ–¹å¼ï¼Œé‚£ä¹ˆèƒ½ä¸èƒ½é€šè¿‡Teamvieweræ¥å®ç°ä»£ç†ï¼Œç»§è€Œç±»ä¼¼äºVPNçš„æ–¹å¼åœ¨å®¶è®¿é—®å…¬å¸å†…ç½‘å‘¢ï¼Ÿ</p>

<p>å¤‡æ³¨ï¼šä¸€èˆ¬æœ€å¥½åŒä¿é™©å•Šï¼ŒTeamviewerå’ŒAnydeskéƒ½æ”¾ä¸€ä¸ªï¼ï¼ï¼</p>

<h2>å®‰è£…</h2>

<p>Teamvieweræ˜¯æä¾›äº†VPNçš„è®¿é—®æ–¹å¼ï¼Œéœ€è¦åœ¨å®‰è£…çš„æ—¶åˆ» é€‰æ‹©ã€æ˜¾ç¤ºé«˜çº§è®¾ç½®ã€‘ï¼Œåœ¨ä¸‹ä¸€æ­¥ä¸­é€‰æ‹©ã€ä½¿ç”¨Teamviewer VPNã€‘ã€‚è¿æ¥çš„ <strong> ä¸¤å°ä¸»æœºéƒ½éœ€è¦å®‰è£…Teamviewer VPN </strong> çš„åŠŸèƒ½ï¼ï¼ï¼</p>

<p><img src="/images/teamviewer-vpn-install.png" alt="" /></p>

<h2>ä½¿ç”¨VPN</h2>

<p><img src="/images/teamviewer-vpn-connect.png" alt="" /></p>

<p>æ›´è¯¦ç»†ä¸€ç‚¹çš„ï¼š</p>

<p><img src="/images/teamviewvpn-123.png" alt="" /></p>

<h2>è®¿é—®å†…ç½‘</h2>

<p>å¦‚æœæ˜¯Linuxçš„è¯ï¼Œå¯ä»¥åœ¨iptablesä¸Šé¢é…ç½®SNATï¼Œä½†æ˜¯Linux Teamvieweræš‚æ—¶ä¸æ”¯æŒVPNåŠŸèƒ½ã€‚
å¹¶ä¸”å…¬å¸è¿è¡ŒTeamviewerçš„æœºå™¨æ˜¯WIN7ï¼Œä¸èƒ½é€šè¿‡è¿è¡Œnatå‘½ä»¤ï¼ˆserverç‰ˆæœ¬æ‰æœ‰ï¼‰æ¥è®¾ç½®è½¬å‘ã€‚æœ€ååŠŸå¤«ä¸è´Ÿæœ‰å¿ƒäººï¼Œæ‰¾åˆ°äº†åœ¨win7ä¸‹å¯ä»¥è®¾ç½®NATçš„æ–¹æ³•ï¼š</p>

<ul>
<li><a href="https://social.technet.microsoft.com/Forums/windows/en-US/30c1affa-cc6b-4eeb-9377-7600cc3f333a/nat-in-windows7?forum=w7itpronetworking">NAT in windows7</a></li>
<li><a href="https://www.onlinekosten.de/forum/showthread.php?p=2278439">AW: mit Teamviewer VPN ins interne Netzwerk?</a></li>
</ul>


<h4>è½¬å‘é…ç½®</h4>

<ol>
<li><del>è¿æ¥çš„ä¸¤å°æœºå™¨éƒ½å¯åŠ¨ <strong> Routing an Remote Access </strong> ç³»ç»ŸæœåŠ¡</del>ã€‚ï¼ˆä¿®æ”¹æ³¨å†Œè¡¨IPEnableRouterçš„ï¼Œä¸å¼„ä¹Ÿè¡Œï¼‰</li>
<li>åœ¨å…¬å¸Teamviweræœºå™¨ä¸Šï¼Œä¸‹è½½å¹¶å®‰è£… <a href="http://www.nat32.com/download2/nat32v2.zip">NAT</a> ï¼Œ<a href="https://www.ntkernel.com/downloads/winpkflt_rtl.zip">é…ç½®å·¥å…·</a></li>
<li>åœ¨å…¬å¸Teamviweræœºå™¨ä¸Šï¼Œæ‰“å¼€é…ç½®å·¥å…· <strong> WinpkFilter - Internet Gateway </strong>ï¼Œé…ç½® <em>æœ¬åœ°è¿æ¥</em> ä¸ºProviderï¼Œ <em>Teamviewer VPN</em> ä¸ºClientï¼Œç„¶åå¯åŠ¨ Start NATã€‚</li>
</ol>


<p><img src="/images/teamviewer-vpn-nat-config.png" alt="" /></p>

<ol>
<li>åœ¨æœ¬åœ°æœºå™¨ä¸Šï¼Œæ·»åŠ routeï¼ŒæŠŠè®¿é—® å…¬å¸å†…ç½‘IP çš„æ•°æ®è½¬åˆ°å…¬å¸Teamviewer VPNï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€æ˜çš„è®¿é—®å…¬å¸çš„æ‰€æœ‰æœºå™¨äº†ã€‚</li>
</ol>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#ç½‘å…³å¡«å…¬å¸Teamviewerç«¯çš„IPåœ°å€ï¼ï¼ï¼
</span><span class='line'>C:\Windows\system32&gt;route add 192.168.193.0 mask 255.255.255.0 7.138.125.65 metric 1
</span><span class='line'>
</span><span class='line'>C:\Windows\system32&gt;ping 192.168.193.110
</span><span class='line'>
</span><span class='line'>æ­£åœ¨ Ping 192.168.193.110 å…·æœ‰ 32 å­—èŠ‚çš„æ•°æ®:
</span><span class='line'>æ¥è‡ª 192.168.193.110 çš„å›å¤: å­—èŠ‚=32 æ—¶é—´=22ms TTL=63
</span><span class='line'>æ¥è‡ª 192.168.193.110 çš„å›å¤: å­—èŠ‚=32 æ—¶é—´=21ms TTL=63
</span><span class='line'>æ¥è‡ª 192.168.193.110 çš„å›å¤: å­—èŠ‚=32 æ—¶é—´=21ms TTL=63
</span><span class='line'>
</span><span class='line'>192.168.193.110 çš„ Ping ç»Ÿè®¡ä¿¡æ¯:
</span><span class='line'>    æ•°æ®åŒ…: å·²å‘é€ = 3ï¼Œå·²æ¥æ”¶ = 3ï¼Œä¸¢å¤± = 0 (0% ä¸¢å¤±)ï¼Œ
</span><span class='line'>å¾€è¿”è¡Œç¨‹çš„ä¼°è®¡æ—¶é—´(ä»¥æ¯«ç§’ä¸ºå•ä½):
</span><span class='line'>    æœ€çŸ­ = 21msï¼Œæœ€é•¿ = 22msï¼Œå¹³å‡ = 21ms</span></code></pre></td></tr></table></div></figure>


<p>å®Œç¾ï¼Œæ‰€æœ‰çš„äº‹æƒ…Teamvieweréƒ½å¸®æƒ³åˆ°ï¼Œå¹¶ä¸”å®ç°äº†ã€‚</p>

<p>æŠŠä¸Šé¢çš„å…¨éƒ¨æ“ä½œå†™åˆ°ä¸€ä¸ªè„šæœ¬ï¼Œä»¥åç›´æ¥ä½¿ç”¨ç®¡ç†å‘˜æƒé™è¿è¡Œå³å¯ï¼š</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>winse@DESKTOP-ADH7K1Q:~/bigendian$ cat VPN-Route.bat
</span><span class='line'>@setlocal enableextensions enabledelayedexpansion
</span><span class='line'>@echo on
</span><span class='line'>
</span><span class='line'>rem https://community.teamviewer.com/t5/Knowledge-Base/Are-there-parameters-to-start-TeamViewer/ta-p/4135
</span><span class='line'>rem teamviewer.exe -i &lt;ID&gt; -P &lt;Password&gt; [-m fileTransfer/vpn]
</span><span class='line'>start "teamviewer" "C:\Program Files (x86)\TeamViewer\TeamViewer.exe"
</span><span class='line'>
</span><span class='line'>set teamvpnipaddr=7.138.125.65
</span><span class='line'>
</span><span class='line'>:loop
</span><span class='line'>ping -n 1 !teamvpnipaddr! | find "TTL"
</span><span class='line'>if not errorlevel 1 goto :run
</span><span class='line'>if errorlevel 1 goto :endloop
</span><span class='line'>:endloop
</span><span class='line'>ping -n 2 127.0.0.1 &gt;nul: 2&gt;nul:
</span><span class='line'>cls
</span><span class='line'>goto :loop
</span><span class='line'>
</span><span class='line'>:run
</span><span class='line'>route delete 192.168.193.0
</span><span class='line'>route add 192.168.193.0 mask 255.255.255.0 !teamvpnipaddr! metric 1
</span><span class='line'>
</span><span class='line'>endlocal
</span><span class='line'>
</span><span class='line'>pause
</span></code></pre></td></tr></table></div></figure>


<h2>å‚è€ƒçš„åŸæ–‡ï¼š</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>Hello everybody, I investigated a lot for this issue.
</span><span class='line'>Establish a VPN session with TeamViewer to my home pc (remote side) and try to get access to this local network from my working place (local side).
</span><span class='line'>I found an solution i never read anywhere before. Since Windows 7 has removed NAT option using netsh it is difficult to solve it with windows on board tools only.
</span><span class='line'>- Install TeamViewer incl. VPN driver on both sides, activate unattended access on the remote side (my home pc). Use the button Show advanced options, and go to Advanced network options â€¦ Install VPN driver
</span><span class='line'>- Install WinPkFilter Device Driver on remote side (my home pc) and restart (http://www.nat32.com/v2/install.htm Download installer: http://www.ntkernel.com/downloads/winpkflt_rtl.zip . NAT32 you don't need. This WinPkFilter package contains a simple GUI to configure the NAT between the VPN interface (client) and the remote side LAN interface (provider). see following hints ...
</span><span class='line'>- Windows: Start RemoteAccess - service 'Routing an Remote Access'  and set to automatic (local/remote side).
</span><span class='line'>- Optional: On the remote side (my home pc), the registry has to be modified. Start the registry editor for example by Regedt32, and browse to HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters Set the parameter IPEnableRouter to â€œ1â€. Using console or batch as admin: reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters" /v "IPEnableRouter" /t REG_DWORD /d "1". On my system it worked without this option, but according internet forums it seems to be recommended.
</span><span class='line'>- Now create a remote desktop session to your home pc and start also the VPN connection within this TeamViewer session (Menu / Extras / VPN). I created a free TeamViewer account and added all pc's to my computers to make the access to my machines easier.
</span><span class='line'>- On remode side (my home pc) where WinPkFilter is installed start the Internet Gateway GUI of WinPkFilter: Start / Programms / WinpkFilter / Internet Gateway. Select (double click) the ethernet adapter of your local privat lan and set NAT Status to 'Provider'. Select the TeamViewer VPN adapter and set NAT Status to 'client'. Press 'Start NAT'
</span><span class='line'> - On local side (my working place) Add a route to the local side (my working place) to give access to several devices that have the same subnet, add the route like this:
</span><span class='line'>
</span><span class='line'>route add &lt;base IP of remote devices&gt; mask 255.255.255.0 &lt;IP of Teamviewer VPN on remote PC&gt; 
</span><span class='line'>metric 1
</span><span class='line'>
</span><span class='line'>Example (home lan ip range: 192.168.2.x / TeamViewer VPN IP in home pc (remote side) 7.37.88.245
</span><span class='line'>route add 192.168.2.0 mask 255.255.255.0 7.37.88.245 metric 1 &lt;ENTER&gt;
</span><span class='line'>route add 192.168.2.0 mask 255.255.255.0 7.37.88.245 metric 1 -p &lt;ENTER&gt; (if persistent)
</span><span class='line'>Do delete the route route delete 192.168.2.0
</span><span class='line'>Now you should have access to your private home network. Good luck and have fun.
</span></code></pre></td></tr></table></div></figure>


<p>&ndash;END</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/10/30/windows-run-ubuntu/">Windows Run Ubuntu</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2017-10-30T07:17:53+08:00" pubdate data-updated="true">Mon 2017-10-30 07:17</time>
		
        
		
      </p>
    
  </header>



  <div class="entry-content"><p>@@æ›´æ–° 2021-05-25 [wsl-Ubuntu 20.04.2 LTS] é…ç½®octopress
@@æ›´æ–° 2023-11-28 [wsl-Ubuntu 22.04.2 LTS (Jammy Jellyfish)] é…ç½®octopress</p>

<p>æœ€æ–°ç‰ˆçš„Windowså·²ç»å¯ä»¥å®‰è£…ubuntuäº†ï¼Œç®—æ˜¯å¾®è½¯å¼€æºåçš„ä¸€ä¸ªé˜¶æ®µæ€§çš„æˆæœäº†ã€‚</p>

<p>åŠŸèƒ½å’Œwindowså…¼å®¹æ€§å¾ˆå¼ºï¼ˆä¸åƒcygwinï¼‰ï¼Œè½¯é“¾æ¥ã€æ–‡ä»¶æƒé™éƒ½æ˜¯å’Œç³»ç»Ÿä¸€è‡´çš„ã€‚å¹¶ä¸”åŸºæœ¬æ‰€æœ‰ubuntuçš„åŠŸèƒ½éƒ½å¯ä»¥ä½¿ç”¨ï¼Œå®‰è£…jekyllã€dockeréƒ½å¾ˆé¡ºåˆ©ã€‚åŒæ—¶æ‰“å¼€ç³»ç»Ÿçš„ç¨‹åºä¹Ÿå¾ˆæ–¹ä¾¿ã€‚éå¸¸èµå’Œå€¼å¾—ç¨‹åºå‘˜å»å°è¯•ï¼ï¼</p>

<p>æœ¬æ–‡åé¢ä¼šé€æ¸å¢åŠ ä½¿ç”¨è¿‡ç¨‹ä¸­çš„ä¸€äº›æ“ä½œï¼Œä»Šå¤©å…ˆæ›´æ–°ç³»ç»Ÿå®‰è£…ã€octopresså®‰è£…ã€dockerå®‰è£…ã€‚</p>

<h2>ç³»ç»Ÿå®‰è£…</h2>

<p>ç›´æ¥å»å¾®è½¯çš„å®˜ç½‘ä¸‹è½½æœ€æ–°ç‰ˆç³»ç»ŸISOï¼Œç„¶åå®‰è£…ç³»ç»Ÿ <strong> ä¸“ä¸šç‰ˆ </strong>ï¼ˆæ•™è‚²ç‰ˆæ¯”è¾ƒå¹²å‡€ä¸€äº›ï¼Œä½†æ˜¯ç½‘ä¸Šæ²¡æœ‰ç ´è§£æ–¹å¼å•Šï¼‰ã€‚</p>

<h2>Ubuntu</h2>

<ul>
<li><a href="https://docs.microsoft.com/en-us/windows/wsl/about">Windows Subsystem for Linux Documentation</a></li>
</ul>


<blockquote><p>The Windows Subsystem for Linux lets developers run Linux environments &ndash; including most command-line tools, utilities, and applications &ndash; directly on Windows, unmodified, without the overhead of a virtual machine.</p></blockquote>

<h4>å®‰è£…Ubuntu</h4>

<p>æœ€æ–°ç‰ˆçš„Ubuntuå·²ç»è¿›å…¥åˆ°ç¨³å®šç‰ˆã€‚ç›´æ¥æ‰“å¼€å•†åº—ï¼Œæœç´¢Ubuntuï¼Œç„¶åå®‰è£…å³å¯ã€‚å¤§æ¦‚200Mçš„æ ·å­ï¼Œå¾ˆå¿«å°±å®‰è£…äº†ã€‚ç„¶åLaunchä¼šåˆå§‹åŒ–åˆ›å»ºç”¨æˆ·ã€‚</p>

<p>ç›¸å…³çš„ä¸€äº›æœ‰ç”¨çš„æ–‡æ¡£ï¼š</p>

<ul>
<li><a href="https://msdn.microsoft.com/zh-cn/commandline/wsl/user-support">https://msdn.microsoft.com/zh-cn/commandline/wsl/user-support</a></li>
<li>æƒé™ç›¸å…³ <a href="https://github.com/Microsoft/WSL/issues/81">https://github.com/Microsoft/WSL/issues/81</a></li>
</ul>


<h4>å®‰è£…mintty</h4>

<ul>
<li><a href="https://superuser.com/questions/1110045/windows-10-bash-and-mintty">https://superuser.com/questions/1110045/windows-10-bash-and-mintty</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/22033219">https://zhuanlan.zhihu.com/p/22033219</a></li>
</ul>


<p>CMDæ–¹å¼æ“ä½œUbuntuå¤ªéš¾å—äº†ï¼Œminttyæ“ä½œå°±åƒSecurtCRTä¸€æ ·ï¼Œç®€å•æ–¹ä¾¿ã€‚å®‰è£… <a href="https://github.com/mintty/wsltty">wsltty-1.8.0-install</a> ï¼Œä½¿ç”¨minttyæ¥è¿è¡Œubuntuã€‚</p>

<p>é»˜è®¤minttyçš„é…ç½®æ”¾åœ¨ <code>%APPDATA%\wsltty</code>ã€‚åœ¨å­ç›®å½•themeä¸‹å¯ä»¥ <a href="http://ciembor.github.io/4bit/">http://ciembor.github.io/4bit/</a> ä¸‹è½½ä¸€ä¸ªä¸»é¢˜æ”¾åˆ°è¯¥ç›®å½•ä¸‹ï¼Œç„¶ååœ¨minttyé…ç½®é¡µé¢é€‰æ‹©è¯¥ä¸»é¢˜ã€‚</p>

<h4>ç³»ç»Ÿæ–‡ä»¶</h4>

<ul>
<li><a href="https://github.com/Microsoft/WSL/issues/402">https://github.com/Microsoft/WSL/issues/402</a></li>
</ul>


<p>rootæŒ‚è½½ç‚¹ï¼š<code>C:\Users\&lt;user&gt;\AppData\Local\lxss</code> or <code>C:\Users\&lt;username&gt;\AppData\Local\Packages\CanonicalGroupLimited.UbuntuonWindows_79rhkp1fndgsc\LocalState</code></p>

<h2>å®‰è£…Jekyll</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># https://superuser.com/questions/116625/recursively-change-owner-windows-7
</span><span class='line'>#takeown /f "C:\path\to\folder" /r
</span><span class='line'>#icacls "C:\path\to\folder" /reset /T
</span><span class='line'>ç”¨powershellç®¡ç†å‘˜æƒé™ "æ"æƒ
</span><span class='line'>PS E:\winsegit\octopress&gt; takeown /F . /R
</span><span class='line'>ä¿®æ”¹å°±æ—§ç³»ç»Ÿçš„æ–‡ä»¶å±æ€§ï¼š
</span><span class='line'>PS E:\winsegit\octopress&gt; cacls *.* /T /G Everyone:F
</span><span class='line'>
</span><span class='line'>sudo apt-get update
</span><span class='line'>sudo apt-get install ruby-bundler
</span><span class='line'>sudo apt-get install ruby-dev
</span><span class='line'>sudo apt-get install make
</span><span class='line'>sudo apt-get install gcc
</span><span class='line'>bundle install
</span><span class='line'>
</span><span class='line'>sudo gem update
</span><span class='line'>sudo gem uninstall rake
</span><span class='line'>sudo gem install rake -v 10.5.0
</span><span class='line'># sudo apt-get install nodejs
</span><span class='line'>   
</span><span class='line'>rake preview
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~/winsegit/octopress$ rake preview
</span><span class='line'>/usr/lib/ruby/vendor_ruby/bundler/shared_helpers.rb:78: warning: Insecure world writable dir /mnt/c/Windows/System32 in PATH, mode 040777
</span><span class='line'>Starting to watch source with Jekyll and Compass. Starting Rack on port 4000
</span><span class='line'>/usr/lib/ruby/vendor_ruby/bundler/shared_helpers.rb:78: warning: Insecure world writable dir /mnt/c/Windows/System32 in PATH, mode 040777
</span><span class='line'>/usr/lib/ruby/vendor_ruby/bundler/shared_helpers.rb:78: warning: Insecure world writable dir /mnt/c/Windows/System32 in PATH, mode 040777
</span><span class='line'>/var/lib/gems/2.3.0/gems/liquid-2.6.1/lib/liquid/htmltags.rb:43: warning: key "index0" is duplicated and overwritten on line 46
</span><span class='line'>[2017-10-29 22:48:09] INFO  WEBrick 1.3.1
</span><span class='line'>[2017-10-29 22:48:09] INFO  ruby 2.3.1 (2016-04-26) [x86_64-linux-gnu]
</span><span class='line'>[2017-10-29 22:48:09] INFO  WEBrick::HTTPServer#start: pid=39 port=4000
</span><span class='line'>Configuration file: /mnt/e/winsegit/octopress/_config.yml
</span><span class='line'>            Source: source
</span><span class='line'>       Destination: public
</span><span class='line'>      Generating...
</span><span class='line'>                    done.
</span><span class='line'>                  </span></code></pre></td></tr></table></div></figure>


<p>ä¸Šé¢warningæç¤ºä¹Ÿæœ‰å¯¹åº”çš„Issueï¼Œä½†ä¹Ÿæ²¡æ‰€è°“æš‚æ—¶ä¸ç†ï¼š <a href="https://github.com/Microsoft/WSL/issues/1426">https://github.com/Microsoft/WSL/issues/1426</a></p>

<p>UPDATE 2023å¹´11æœˆ18æ—¥09:22:51 (WSL1 + rvm)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
<span class='line-number'>180</span>
<span class='line-number'>181</span>
<span class='line-number'>182</span>
<span class='line-number'>183</span>
<span class='line-number'>184</span>
<span class='line-number'>185</span>
<span class='line-number'>186</span>
<span class='line-number'>187</span>
<span class='line-number'>188</span>
<span class='line-number'>189</span>
<span class='line-number'>190</span>
<span class='line-number'>191</span>
<span class='line-number'>192</span>
<span class='line-number'>193</span>
<span class='line-number'>194</span>
<span class='line-number'>195</span>
<span class='line-number'>196</span>
<span class='line-number'>197</span>
<span class='line-number'>198</span>
<span class='line-number'>199</span>
<span class='line-number'>200</span>
<span class='line-number'>201</span>
<span class='line-number'>202</span>
<span class='line-number'>203</span>
<span class='line-number'>204</span>
<span class='line-number'>205</span>
<span class='line-number'>206</span>
<span class='line-number'>207</span>
<span class='line-number'>208</span>
<span class='line-number'>209</span>
<span class='line-number'>210</span>
<span class='line-number'>211</span>
<span class='line-number'>212</span>
<span class='line-number'>213</span>
<span class='line-number'>214</span>
<span class='line-number'>215</span>
<span class='line-number'>216</span>
<span class='line-number'>217</span>
<span class='line-number'>218</span>
<span class='line-number'>219</span>
<span class='line-number'>220</span>
<span class='line-number'>221</span>
<span class='line-number'>222</span>
<span class='line-number'>223</span>
<span class='line-number'>224</span>
<span class='line-number'>225</span>
<span class='line-number'>226</span>
<span class='line-number'>227</span>
<span class='line-number'>228</span>
<span class='line-number'>229</span>
<span class='line-number'>230</span>
<span class='line-number'>231</span>
<span class='line-number'>232</span>
<span class='line-number'>233</span>
<span class='line-number'>234</span>
<span class='line-number'>235</span>
<span class='line-number'>236</span>
<span class='line-number'>237</span>
<span class='line-number'>238</span>
<span class='line-number'>239</span>
<span class='line-number'>240</span>
<span class='line-number'>241</span>
<span class='line-number'>242</span>
<span class='line-number'>243</span>
<span class='line-number'>244</span>
<span class='line-number'>245</span>
<span class='line-number'>246</span>
<span class='line-number'>247</span>
<span class='line-number'>248</span>
<span class='line-number'>249</span>
<span class='line-number'>250</span>
<span class='line-number'>251</span>
<span class='line-number'>252</span>
<span class='line-number'>253</span>
<span class='line-number'>254</span>
<span class='line-number'>255</span>
<span class='line-number'>256</span>
<span class='line-number'>257</span>
<span class='line-number'>258</span>
<span class='line-number'>259</span>
<span class='line-number'>260</span>
<span class='line-number'>261</span>
<span class='line-number'>262</span>
<span class='line-number'>263</span>
<span class='line-number'>264</span>
<span class='line-number'>265</span>
<span class='line-number'>266</span>
<span class='line-number'>267</span>
<span class='line-number'>268</span>
<span class='line-number'>269</span>
<span class='line-number'>270</span>
<span class='line-number'>271</span>
<span class='line-number'>272</span>
<span class='line-number'>273</span>
<span class='line-number'>274</span>
<span class='line-number'>275</span>
<span class='line-number'>276</span>
<span class='line-number'>277</span>
<span class='line-number'>278</span>
<span class='line-number'>279</span>
<span class='line-number'>280</span>
<span class='line-number'>281</span>
<span class='line-number'>282</span>
<span class='line-number'>283</span>
<span class='line-number'>284</span>
<span class='line-number'>285</span>
<span class='line-number'>286</span>
<span class='line-number'>287</span>
<span class='line-number'>288</span>
<span class='line-number'>289</span>
<span class='line-number'>290</span>
<span class='line-number'>291</span>
<span class='line-number'>292</span>
<span class='line-number'>293</span>
<span class='line-number'>294</span>
<span class='line-number'>295</span>
<span class='line-number'>296</span>
<span class='line-number'>297</span>
<span class='line-number'>298</span>
<span class='line-number'>299</span>
<span class='line-number'>300</span>
<span class='line-number'>301</span>
<span class='line-number'>302</span>
<span class='line-number'>303</span>
<span class='line-number'>304</span>
<span class='line-number'>305</span>
<span class='line-number'>306</span>
<span class='line-number'>307</span>
<span class='line-number'>308</span>
<span class='line-number'>309</span>
<span class='line-number'>310</span>
<span class='line-number'>311</span>
<span class='line-number'>312</span>
<span class='line-number'>313</span>
<span class='line-number'>314</span>
<span class='line-number'>315</span>
<span class='line-number'>316</span>
<span class='line-number'>317</span>
<span class='line-number'>318</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>winse@DESKTOP-BR4MG38:octopress$ sudo apt install make gcc -y
</span><span class='line'>[sudo] password for winse:
</span><span class='line'>Reading package lists... Done
</span><span class='line'>Building dependency tree... Done
</span><span class='line'>Reading state information... Done
</span><span class='line'>gcc is already the newest version (4:11.2.0-1ubuntu1).
</span><span class='line'>gcc set to manually installed.
</span><span class='line'>make is already the newest version (4.3-4.1build1).
</span><span class='line'>make set to manually installed.
</span><span class='line'>0 upgraded, 0 newly installed, 0 to remove and 101 not upgraded.
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-BR4MG38:octopress$ gpg --keyserver hkp://keyserver.ubuntu.com --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 7D2BAF1CF37B13E2069D6956105BD0E739499BDB
</span><span class='line'>gpg: key 105BD0E739499BDB: 2 duplicate signatures removed
</span><span class='line'>gpg: /home/winse/.gnupg/trustdb.gpg: trustdb created
</span><span class='line'>gpg: key 105BD0E739499BDB: public key "Piotr Kuczynski &lt;piotr.kuczynski@gmail.com&gt;" imported
</span><span class='line'>gpg: key 3804BB82D39DC0E3: public key "Michal Papis (RVM signing) &lt;mpapis@gmail.com&gt;" imported
</span><span class='line'>gpg: Total number processed: 2
</span><span class='line'>gpg:               imported: 2
</span><span class='line'>winse@DESKTOP-BR4MG38:octopress$ curl -sSL https://get.rvm.io | bash -s stable
</span><span class='line'>Downloading https://github.com/rvm/rvm/archive/1.29.12.tar.gz
</span><span class='line'>Downloading https://github.com/rvm/rvm/releases/download/1.29.12/1.29.12.tar.gz.asc
</span><span class='line'>gpg: Signature made Sat 16 Jan 2021 02:46:22 AM CST
</span><span class='line'>gpg:                using RSA key 7D2BAF1CF37B13E2069D6956105BD0E739499BDB
</span><span class='line'>gpg: Good signature from "Piotr Kuczynski &lt;piotr.kuczynski@gmail.com&gt;" [unknown]
</span><span class='line'>gpg: WARNING: This key is not certified with a trusted signature!
</span><span class='line'>gpg:          There is no indication that the signature belongs to the owner.
</span><span class='line'>Primary key fingerprint: 7D2B AF1C F37B 13E2 069D  6956 105B D0E7 3949 9BDB
</span><span class='line'>GPG verified '/home/winse/.rvm/archives/rvm-1.29.12.tgz'
</span><span class='line'>Installing RVM to /home/winse/.rvm/
</span><span class='line'>    RVM PATH line found in /home/winse/.bashrc.
</span><span class='line'>    RVM PATH line not found for Zsh, rerun this command with '--auto-dotfiles' flag to fix it.
</span><span class='line'>    RVM sourcing line found in /home/winse/.bash_profile.
</span><span class='line'>    RVM sourcing line not found for Zsh, rerun this command with '--auto-dotfiles' flag to fix it.
</span><span class='line'>Installation of RVM in /home/winse/.rvm/ is almost complete:
</span><span class='line'>
</span><span class='line'>  * To start using RVM you need to run `source /home/winse/.rvm/scripts/rvm`
</span><span class='line'>    in all your open shell windows, in rare cases you need to reopen all shell windows.
</span><span class='line'>Thanks for installing RVM ğŸ™
</span><span class='line'>Please consider donating to our open collective to help us maintain RVM.
</span><span class='line'>
</span><span class='line'>ğŸ‘‰  Donate: https://opencollective.com/rvm/donate
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-BR4MG38:octopress$
</span><span class='line'>
</span><span class='line'>##-&gt; @see https://github.com/rvm/rvm/issues/4764#issuecomment-624796884
</span><span class='line'>  Open your terminal
</span><span class='line'>  run /etc/apt/sources.list using vi /etc/apt/sources.list (It is possible that you can't save this file, and might get "permission denied" error. SO, in that case, open this file with sudo vi /etc/apt/sources.list)
</span><span class='line'>  after opening it, go to the end of file and paste this line:
</span><span class='line'>  deb http://security.ubuntu.com/ubuntu bionic-security main
</span><span class='line'>  save this file by typing :wq
</span><span class='line'>  now, paste this command in terminal:
</span><span class='line'>  sudo apt update && apt-cache policy libssl1.0-dev
</span><span class='line'>  You will see an update like libssl1.0-dev: Installed: (none) Candidate: 1.0.2n-1ubuntu5.3 Version table: 1.0.2n-1ubuntu5.3 500 500 http://security.ubuntu.com/ubuntu bionic-security/main amd64 Packages
</span><span class='line'>  then, run this command:
</span><span class='line'>  sudo apt-get install libssl1.0-dev
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-BR4MG38:~$ sudo apt update && apt-cache policy libssl1.0-dev
</span><span class='line'>Hit:1 http://security.ubuntu.com/ubuntu jammy-security InRelease
</span><span class='line'>Hit:2 http://archive.ubuntu.com/ubuntu jammy InRelease
</span><span class='line'>Get:3 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [119 kB]
</span><span class='line'>Get:4 http://security.ubuntu.com/ubuntu bionic-security InRelease [88.7 kB]
</span><span class='line'>Hit:5 http://archive.ubuntu.com/ubuntu jammy-backports InRelease
</span><span class='line'>Err:4 http://security.ubuntu.com/ubuntu bionic-security InRelease
</span><span class='line'>  The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 3B4FE6ACC0B21F32
</span><span class='line'>Get:6 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [1,162 kB]
</span><span class='line'>Get:7 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [998 kB]
</span><span class='line'>Reading package lists... Done
</span><span class='line'>W: GPG error: http://security.ubuntu.com/ubuntu bionic-security InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 3B4FE6ACC0B21F32
</span><span class='line'>E: The repository 'http://security.ubuntu.com/ubuntu bionic-security InRelease' is not signed.
</span><span class='line'>N: Updating from such a repository can't be done securely, and is therefore disabled by default.
</span><span class='line'>N: See apt-secure(8) manpage for repository creation and user configuration details.
</span><span class='line'>
</span><span class='line'>##--&gt; @see https://askubuntu.com/questions/943539/the-following-signatures-couldnt-be-verified-because-the-public-key-is-not-avai
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-BR4MG38:~$ sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 3B4FE6ACC0B21F32
</span><span class='line'>Warning: apt-key is deprecated. Manage keyring files in trusted.gpg.d instead (see apt-key(8)).
</span><span class='line'>Executing: /tmp/apt-key-gpghome.Ak5EisV4UJ/gpg.1.sh --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 3B4FE6ACC0B21F32
</span><span class='line'>gpg: key 3B4FE6ACC0B21F32: public key "Ubuntu Archive Automatic Signing Key (2012) &lt;ftpmaster@ubuntu.com&gt;" imported
</span><span class='line'>gpg: Total number processed: 1
</span><span class='line'>gpg:               imported: 1
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-BR4MG38:~$ sudo apt update && apt-cache policy libssl1.0-dev
</span><span class='line'>Hit:1 http://archive.ubuntu.com/ubuntu jammy InRelease
</span><span class='line'>Hit:2 http://archive.ubuntu.com/ubuntu jammy-updates InRelease
</span><span class='line'>Hit:3 http://archive.ubuntu.com/ubuntu jammy-backports InRelease
</span><span class='line'>Hit:4 http://security.ubuntu.com/ubuntu jammy-security InRelease
</span><span class='line'>Hit:5 http://security.ubuntu.com/ubuntu bionic-security InRelease
</span><span class='line'>Reading package lists... Done
</span><span class='line'>Building dependency tree... Done
</span><span class='line'>Reading state information... Done
</span><span class='line'>103 packages can be upgraded. Run 'apt list --upgradable' to see them.
</span><span class='line'>W: http://security.ubuntu.com/ubuntu/dists/bionic-security/InRelease: Key is stored in legacy trusted.gpg keyring (/etc/apt/trusted.gpg), see the DEPRECATION section in apt-key(8) for details.
</span><span class='line'>libssl1.0-dev:
</span><span class='line'>  Installed: (none)
</span><span class='line'>  Candidate: 1.0.2n-1ubuntu5.13
</span><span class='line'>  Version table:
</span><span class='line'>     1.0.2n-1ubuntu5.13 500
</span><span class='line'>        500 http://security.ubuntu.com/ubuntu bionic-security/main amd64 Packages
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-BR4MG38:~$ sudo apt-get install libssl1.0-dev
</span><span class='line'>Reading package lists... Done
</span><span class='line'>Building dependency tree... Done
</span><span class='line'>Reading state information... Done
</span><span class='line'>The following additional packages will be installed:
</span><span class='line'>  libssl1.0.0
</span><span class='line'>The following NEW packages will be installed:
</span><span class='line'>  libssl1.0-dev libssl1.0.0
</span><span class='line'>0 upgraded, 2 newly installed, 0 to remove and 103 not upgraded.
</span><span class='line'>Need to get 2,455 kB of archives.
</span><span class='line'>After this operation, 10.8 MB of additional disk space will be used.
</span><span class='line'>Do you want to continue? [Y/n] y
</span><span class='line'>Get:1 http://security.ubuntu.com/ubuntu bionic-security/main amd64 libssl1.0.0 amd64 1.0.2n-1ubuntu5.13 [1,089 kB]
</span><span class='line'>Get:2 http://security.ubuntu.com/ubuntu bionic-security/main amd64 libssl1.0-dev amd64 1.0.2n-1ubuntu5.13 [1,366 kB]
</span><span class='line'>Fetched 2,455 kB in 4s (665 kB/s)
</span><span class='line'>Preconfiguring packages ...
</span><span class='line'>Selecting previously unselected package libssl1.0.0:amd64.
</span><span class='line'>(Reading database ... 29956 files and directories currently installed.)
</span><span class='line'>Preparing to unpack .../libssl1.0.0_1.0.2n-1ubuntu5.13_amd64.deb ...
</span><span class='line'>Unpacking libssl1.0.0:amd64 (1.0.2n-1ubuntu5.13) ...
</span><span class='line'>Selecting previously unselected package libssl1.0-dev:amd64.
</span><span class='line'>Preparing to unpack .../libssl1.0-dev_1.0.2n-1ubuntu5.13_amd64.deb ...
</span><span class='line'>Unpacking libssl1.0-dev:amd64 (1.0.2n-1ubuntu5.13) ...
</span><span class='line'>Setting up libssl1.0.0:amd64 (1.0.2n-1ubuntu5.13) ...
</span><span class='line'>Setting up libssl1.0-dev:amd64 (1.0.2n-1ubuntu5.13) ...
</span><span class='line'>Processing triggers for libc-bin (2.35-0ubuntu3.1) ...
</span><span class='line'>winse@DESKTOP-BR4MG38:~$
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-BR4MG38:octopress$ rvm install 2.3
</span><span class='line'>Searching for binary rubies, this might take some time.
</span><span class='line'>No binary rubies available for: ubuntu/22.04/x86_64/ruby-2.3.8.
</span><span class='line'>Continuing with compilation. Please read 'rvm help mount' to get more information on binary rubies.
</span><span class='line'>Checking requirements for ubuntu.
</span><span class='line'>Requirements installation successful.
</span><span class='line'>Installing Ruby from source to: /home/winse/.rvm/rubies/ruby-2.3.8, this may take a while depending on your cpu(s)...
</span><span class='line'>ruby-2.3.8 - #downloading ruby-2.3.8, this may take a while depending on your connection...
</span><span class='line'>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
</span><span class='line'>                                 Dload  Upload   Total   Spent    Left  Speed
</span><span class='line'>100 13.7M  100 13.7M    0     0  3149k      0  0:00:04  0:00:04 --:--:-- 3149k
</span><span class='line'>ruby-2.3.8 - #extracting ruby-2.3.8 to /home/winse/.rvm/src/ruby-2.3.8.....
</span><span class='line'>ruby-2.3.8 - #configuring..........................................................
</span><span class='line'>ruby-2.3.8 - #post-configuration..
</span><span class='line'>ruby-2.3.8 - #compiling.............................................................................................................................................................................................................................................
</span><span class='line'>ruby-2.3.8 - #installing..............
</span><span class='line'>ruby-2.3.8 - #making binaries executable..
</span><span class='line'>ruby-2.3.8 - #downloading rubygems-3.0.9
</span><span class='line'>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
</span><span class='line'>                                 Dload  Upload   Total   Spent    Left  Speed
</span><span class='line'>100  865k  100  865k    0     0   701k      0  0:00:01  0:00:01 --:--:--  701k
</span><span class='line'>No checksum for downloaded archive, recording checksum in user configuration.
</span><span class='line'>ruby-2.3.8 - #extracting rubygems-3.0.9.....
</span><span class='line'>ruby-2.3.8 - #removing old rubygems........
</span><span class='line'>ruby-2.3.8 - #installing rubygems-3.0.9................................................................
</span><span class='line'>ruby-2.3.8 - #gemset created /home/winse/.rvm/gems/ruby-2.3.8@global
</span><span class='line'>ruby-2.3.8 - #importing gemset /home/winse/.rvm/gemsets/global.gems..............................there was an error installing gem rubygems-bundler
</span><span class='line'>.............................
</span><span class='line'>ruby-2.3.8 - #generating global wrappers........
</span><span class='line'>ruby-2.3.8 - #gemset created /home/winse/.rvm/gems/ruby-2.3.8
</span><span class='line'>ruby-2.3.8 - #importing gemsetfile /home/winse/.rvm/gemsets/default.gems evaluated to empty gem list
</span><span class='line'>ruby-2.3.8 - #generating default wrappers........
</span><span class='line'>ruby-2.3.8 - #adjusting #shebangs for (gem irb erb ri rdoc testrb rake).
</span><span class='line'>Install of ruby-2.3.8 - #complete
</span><span class='line'>Ruby was built without documentation, to build it run: rvm docs generate-ri
</span><span class='line'>winse@DESKTOP-BR4MG38:octopress$
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-BR4MG38:octopress$ rvm list
</span><span class='line'>   ruby-2.3.8 [ x86_64 ]
</span><span class='line'>
</span><span class='line'># Default ruby not set. Try 'rvm alias create default &lt;ruby&gt;'.
</span><span class='line'>
</span><span class='line'># =&gt; - current
</span><span class='line'># =* - current && default
</span><span class='line'>#  * - default
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-BR4MG38:octopress$
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-BR4MG38:octopress$ bash --login
</span><span class='line'>winse@DESKTOP-BR4MG38:octopress$ rvm use 2.3.8 --default
</span><span class='line'>Using /home/winse/.rvm/gems/ruby-2.3.8
</span><span class='line'>
</span><span class='line'>##--&gt; @see https://mirrors.tuna.tsinghua.edu.cn/help/rubygems/
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-BR4MG38:octopress$ unset HTTPS_PROXY
</span><span class='line'>winse@DESKTOP-BR4MG38:octopress$ bundle config mirror.https://rubygems.org https://mirrors.tuna.tsinghua.edu.cn/rubygems
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-BR4MG38:octopress$ bundle install
</span><span class='line'>Fetching source index from https://mirrors.tuna.tsinghua.edu.cn/rubygems/
</span><span class='line'>Resolving dependencies...
</span><span class='line'>Fetching rake 10.5.0
</span><span class='line'>Installing rake 10.5.0
</span><span class='line'>Fetching RedCloth 4.2.9
</span><span class='line'>Installing RedCloth 4.2.9 with native extensions
</span><span class='line'>Fetching bigdecimal 1.3.2
</span><span class='line'>Installing bigdecimal 1.3.2 with native extensions
</span><span class='line'>Fetching blankslate 2.1.2.4
</span><span class='line'>Installing blankslate 2.1.2.4
</span><span class='line'>Using bundler 1.17.3
</span><span class='line'>Fetching timers 1.1.0
</span><span class='line'>Installing timers 1.1.0
</span><span class='line'>Fetching celluloid 0.15.2
</span><span class='line'>Installing celluloid 0.15.2
</span><span class='line'>Fetching chunky_png 1.3.1
</span><span class='line'>Installing chunky_png 1.3.1
</span><span class='line'>Fetching fast-stemmer 1.0.2
</span><span class='line'>Installing fast-stemmer 1.0.2 with native extensions
</span><span class='line'>Fetching classifier 1.3.4
</span><span class='line'>Installing classifier 1.3.4
</span><span class='line'>Fetching coffee-script-source 1.7.1
</span><span class='line'>Installing coffee-script-source 1.7.1
</span><span class='line'>Fetching execjs 2.2.1
</span><span class='line'>Installing execjs 2.2.1
</span><span class='line'>Fetching coffee-script 2.3.0
</span><span class='line'>Installing coffee-script 2.3.0
</span><span class='line'>Fetching colorator 0.1
</span><span class='line'>Installing colorator 0.1
</span><span class='line'>Fetching fssm 0.2.10
</span><span class='line'>Installing fssm 0.2.10
</span><span class='line'>Fetching sass 3.2.19
</span><span class='line'>Installing sass 3.2.19
</span><span class='line'>Fetching compass 0.12.6
</span><span class='line'>Installing compass 0.12.6
</span><span class='line'>Fetching ffi 1.9.3
</span><span class='line'>Installing ffi 1.9.3 with native extensions
</span><span class='line'>Fetching tilt 1.4.1
</span><span class='line'>Installing tilt 1.4.1
</span><span class='line'>Fetching haml 4.0.5
</span><span class='line'>Installing haml 4.0.5
</span><span class='line'>Fetching jekyll-coffeescript 1.0.0
</span><span class='line'>Installing jekyll-coffeescript 1.0.0
</span><span class='line'>Fetching jekyll-gist 1.1.0
</span><span class='line'>Installing jekyll-gist 1.1.0
</span><span class='line'>Fetching jekyll-paginate 1.0.0
</span><span class='line'>Installing jekyll-paginate 1.0.0
</span><span class='line'>Fetching jekyll-sass-converter 1.0.0
</span><span class='line'>Installing jekyll-sass-converter 1.0.0
</span><span class='line'>Fetching rb-fsevent 0.9.4
</span><span class='line'>Installing rb-fsevent 0.9.4
</span><span class='line'>Fetching rb-inotify 0.9.5
</span><span class='line'>Installing rb-inotify 0.9.5
</span><span class='line'>Fetching listen 2.7.9
</span><span class='line'>Installing listen 2.7.9
</span><span class='line'>Fetching jekyll-watch 1.0.0
</span><span class='line'>Installing jekyll-watch 1.0.0
</span><span class='line'>Fetching kramdown 1.4.0
</span><span class='line'>Installing kramdown 1.4.0
</span><span class='line'>Fetching liquid 2.6.1
</span><span class='line'>Installing liquid 2.6.1
</span><span class='line'>Fetching mercenary 0.3.4
</span><span class='line'>Installing mercenary 0.3.4
</span><span class='line'>Fetching posix-spawn 0.3.8
</span><span class='line'>Installing posix-spawn 0.3.8 with native extensions
</span><span class='line'>Fetching yajl-ruby 1.1.0
</span><span class='line'>Installing yajl-ruby 1.1.0 with native extensions
</span><span class='line'>Fetching pygments.rb 0.6.0
</span><span class='line'>Installing pygments.rb 0.6.0
</span><span class='line'>Fetching redcarpet 3.1.2
</span><span class='line'>Installing redcarpet 3.1.2 with native extensions
</span><span class='line'>Fetching safe_yaml 1.0.4
</span><span class='line'>Installing safe_yaml 1.0.4
</span><span class='line'>Fetching parslet 1.5.0
</span><span class='line'>Installing parslet 1.5.0
</span><span class='line'>Fetching toml 0.1.1
</span><span class='line'>Installing toml 0.1.1
</span><span class='line'>Fetching jekyll 2.1.1
</span><span class='line'>Installing jekyll 2.1.1
</span><span class='line'>Fetching jekyll-date-format 1.0.0
</span><span class='line'>Installing jekyll-date-format 1.0.0
</span><span class='line'>Fetching jekyll-page-hooks 1.3.0
</span><span class='line'>Installing jekyll-page-hooks 1.3.0
</span><span class='line'>Fetching jekyll-sitemap 0.5.0
</span><span class='line'>Installing jekyll-sitemap 0.5.0
</span><span class='line'>Fetching json 1.8.2
</span><span class='line'>Installing json 1.8.2 with native extensions
</span><span class='line'>Fetching rack 1.5.2
</span><span class='line'>Installing rack 1.5.2
</span><span class='line'>Fetching rack-protection 1.5.3
</span><span class='line'>Installing rack-protection 1.5.3
</span><span class='line'>Fetching rdiscount 2.1.7.1
</span><span class='line'>Installing rdiscount 2.1.7.1 with native extensions
</span><span class='line'>Fetching rubypants 0.2.0
</span><span class='line'>Installing rubypants 0.2.0
</span><span class='line'>Fetching sass-globbing 1.0.0
</span><span class='line'>Installing sass-globbing 1.0.0
</span><span class='line'>Fetching sinatra 1.4.5
</span><span class='line'>Installing sinatra 1.4.5
</span><span class='line'>Fetching stringex 1.4.0
</span><span class='line'>Installing stringex 1.4.0
</span><span class='line'>Bundle complete! 16 Gemfile dependencies, 50 gems now installed.
</span><span class='line'>Use `bundle info [gemname]` to see where a bundled gem is installed.
</span><span class='line'>Post-install message from haml:
</span><span class='line'>
</span><span class='line'>HEADS UP! Haml 4.0 has many improvements, but also has changes that may break
</span><span class='line'>your application:
</span><span class='line'>
</span><span class='line'>* Support for Ruby 1.8.6 dropped
</span><span class='line'>* Support for Rails 2 dropped
</span><span class='line'>* Sass filter now always outputs &lt;style&gt; tags
</span><span class='line'>* Data attributes are now hyphenated, not underscored
</span><span class='line'>* html2haml utility moved to the html2haml gem
</span><span class='line'>* Textile and Maruku filters moved to the haml-contrib gem
</span><span class='line'>
</span><span class='line'>For more info see:
</span><span class='line'>
</span><span class='line'>http://rubydoc.info/github/haml/haml/file/CHANGELOG.md
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-BR4MG38:octopress$
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-BR4MG38:octopress$ rake preview
</span><span class='line'>Starting to watch source with Jekyll and Compass. Starting Rack on port 14000
</span><span class='line'>/home/winse/.rvm/gems/ruby-2.3.8/gems/liquid-2.6.1/lib/liquid/htmltags.rb:43: warning: key "index0" is duplicated and overwritten on line 46
</span><span class='line'>[2023-11-18 09:42:44] INFO  WEBrick 1.3.1
</span><span class='line'>[2023-11-18 09:42:44] INFO  ruby 2.3.8 (2018-10-18) [x86_64-linux]
</span><span class='line'>[2023-11-18 09:42:44] INFO  WEBrick::HTTPServer#start: pid=24150 port=14000
</span><span class='line'>Configuration file: /mnt/e/winsegit/octopress/_config.yml
</span><span class='line'>            Source: source
</span><span class='line'>       Destination: public
</span><span class='line'>      Generating...
</span><span class='line'>                    done.
</span></code></pre></td></tr></table></div></figure>


<p>UPDATE 2021-05-25 24:09 (wsl-linux + rvm)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo apt-get update
</span><span class='line'>sudo apt-get install make
</span><span class='line'>sudo apt-get install gcc
</span><span class='line'>
</span><span class='line'>## https://ruby-china.org/wiki/rvm-guide
</span><span class='line'>
</span><span class='line'>winse@LAPTOP-I9ECVAQ4:e$ gpg --keyserver hkp://pool.sks-keyservers.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 7D2BAF1CF37B13E2069D6956105BD0E739499BDB
</span><span class='line'>
</span><span class='line'># curl -sSL https://get.rvm.io | bash -s stable
</span><span class='line'># https://raw.githubusercontent.com/rvm/rvm/master/binscripts/rvm-installer
</span><span class='line'>winse@LAPTOP-I9ECVAQ4:e$ cat rvm-installer.txt | bash -s stable 
</span><span class='line'>
</span><span class='line'>winse@LAPTOP-I9ECVAQ4:e$ echo "ruby_url=https://cache.ruby-china.com/pub/ruby" &gt; ~/.rvm/user/db
</span><span class='line'>
</span><span class='line'>
</span><span class='line'># ä¾èµ–å®‰è£…
</span><span class='line'>## https://www.garron.me/en/linux/install-ruby-2-3-3-ubuntu.html
</span><span class='line'>Edit this file /etc/apt/sources.list and add this line to the end of it.
</span><span class='line'>
</span><span class='line'>deb http://security.ubuntu.com/ubuntu bionic-security main
</span><span class='line'>
</span><span class='line'>After that run:
</span><span class='line'>
</span><span class='line'>sudo apt update && apt-cache policy libssl1.0-dev
</span><span class='line'>
</span><span class='line'>Finally,
</span><span class='line'>
</span><span class='line'>sudo apt-get install libssl1.0-dev
</span><span class='line'>
</span><span class='line'>##END
</span><span class='line'>
</span><span class='line'>winse@LAPTOP-I9ECVAQ4:~$ rvm install 2.3
</span><span class='line'>
</span><span class='line'>winse@LAPTOP-I9ECVAQ4:~$ rvm list
</span><span class='line'>
</span><span class='line'>winse@LAPTOP-I9ECVAQ4:~$ bash --login
</span><span class='line'>winse@LAPTOP-I9ECVAQ4:~$ rvm use 2.3.8 --default
</span><span class='line'>Using /home/winse/.rvm/gems/ruby-2.3.8
</span><span class='line'>
</span><span class='line'>## 
</span><span class='line'>winse@LAPTOP-I9ECVAQ4:octopress$ bundle install
</span><span class='line'>
</span><span class='line'>winse@LAPTOP-I9ECVAQ4:octopress$ rake preview
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-BR4MG38:~$ ln -s /mnt/e/local/npp/notepad++.exe text
</span></code></pre></td></tr></table></div></figure>


<h2>å®‰è£…docker</h2>

<ul>
<li><a href="https://docs.docker.com/engine/installation/linux/docker-ce/ubuntu/#install-docker-ce-1">https://docs.docker.com/engine/installation/linux/docker-ce/ubuntu/#install-docker-ce-1</a></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>winse@DESKTOP-ADH7K1Q:~$ uname -r
</span><span class='line'>4.4.0-43-Microsoft
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~$ uname -a
</span><span class='line'>Linux DESKTOP-ADH7K1Q 4.4.0-43-Microsoft #1-Microsoft Wed Dec 31 14:42:53 PST 2014 x86_64 x86_64 x86_64 GNU/Linux
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~$  sudo apt-get install \
</span><span class='line'>     apt-transport-https \
</span><span class='line'>     ca-certificates \
</span><span class='line'>     curl \
</span><span class='line'>     software-properties-common
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~$ lsb_release -cs
</span><span class='line'>xenial
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
</span><span class='line'>OK
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~$ sudo add-apt-repository \
</span><span class='line'>   "deb [arch=amd64] https://download.docker.com/linux/ubuntu \
</span><span class='line'>   $(lsb_release -cs) \
</span><span class='line'>   stable"
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~$ sudo apt-get update
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~$ sudo apt-get install docker-ce
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~$ sudo service docker start
</span><span class='line'> * Starting Docker: docker                                                                                                                     [ OK ]
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~$ sudo docker images
</span><span class='line'>REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~$ sudo docker ps
</span><span class='line'>CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~$
</span></code></pre></td></tr></table></div></figure>


<h2>è¿è¡Œwindowsç³»ç»Ÿåº”ç”¨</h2>

<ul>
<li><a href="https://www.howtogeek.com/285082/how-to-run-windows-programs-from-windows-10s-bash-shell/">https://www.howtogeek.com/285082/how-to-run-windows-programs-from-windows-10s-bash-shell/</a></li>
<li><a href="https://github.com/Microsoft/WSL/issues/333">https://github.com/Microsoft/WSL/issues/333</a></li>
<li><a href="https://msdn.microsoft.com/en-us/commandline/wsl/interop">https://msdn.microsoft.com/en-us/commandline/wsl/interop</a></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>winse@DESKTOP-ADH7K1Q:~$ ln -s /mnt/e/local/usr/share/npp/notepad++.exe text
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~$ cp -r ../winse-cygwin/new_post.sh ./
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~$ cat new_post.sh
</span><span class='line'>cd ~/winsegit/octopress/
</span><span class='line'>rake new_post["$1"] | tail -1 | awk -F: '{print $2}' | while read line
</span><span class='line'>do
</span><span class='line'>name=${line#source/_posts/}
</span><span class='line'>newpath=source/_stash/$name
</span><span class='line'>mv $line $newpath
</span><span class='line'>
</span><span class='line'>echo -e "\n\n--END" &gt;&gt;$newpath
</span><span class='line'>
</span><span class='line'>~/text $newpath &
</span><span class='line'>done
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~$ ./new_post.sh "windows run ubuntu"
</span><span class='line'>/usr/lib/ruby/vendor_ruby/bundler/shared_helpers.rb:78: warning: Insecure world writable dir /mnt/c in PATH, mode 040777
</span><span class='line'>mkdir -p source/_posts
</span></code></pre></td></tr></table></div></figure>


<h2>é‡æ–°é…ç½®git</h2>

<p>ç”¨powershellä¿®æ”¹åŸæ¥çš„æƒé™åï¼Œç„¶åç”¨shellæ¥è¿›è¡Œè®¾ç½®ã€‚</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#powershell
</span><span class='line'>takeown /F . /R
</span><span class='line'>cacls *.* /T /G Everyone:F
</span><span class='line'>
</span><span class='line'>#ubuntu shell
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~$ cp -r ../winse-cygwin/.ssh ./
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~$ cd .ssh
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~/.ssh$ chmod 600 id_rsa authorized_keys
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~/.ssh$ chmod 644 id_rsa.pub config
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~/winsegit/octopress/_deploy$ rm -rf *
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~/winsegit/octopress/_deploy$ git clone git@github.com:winse/winse.github.com.git ./
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~/winsegit/octopress$ git config --global user.email winseliu@qq.com
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~/winsegit/octopress$ git config --global user.name winse
</span><span class='line'>
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~/winsegit/octopress$ rake preview
</span><span class='line'>winse@DESKTOP-ADH7K1Q:~/winsegit/octopress$ sh public.git.sh
</span></code></pre></td></tr></table></div></figure>


<p>&ndash;END</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/10/28/application-run-do-double-click-on-centos7/">åœ¨Cenots7åŒå‡»è¿è¡Œç¨‹åº</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2017-10-28T22:58:20+08:00" pubdate data-updated="true">Sat 2017-10-28 22:58</time>
		
        
		
      </p>
    
  </header>



  <div class="entry-content"><p>Linuxæœ¬æ¥å°±æ˜¯ä½œä¸ºæœåŠ¡å™¨æ¥è¿è¡Œçš„ï¼ŒåŒå‡»è¿è¡Œç¨‹åºçš„éœ€æ±‚æ¯”è¾ƒå°‘ã€‚ä½†æ˜¯è¿˜æ˜¯æœ‰ä¸€äº›ï¼ŒåŒæ—¶ä¹Ÿæ²¡æœ‰Windowsæ¡Œé¢å¿«æ·æ–¹å¼é‚£ä¹ˆçš„æ–¹ä¾¿ã€‚</p>

<p>åœ¨Centos7ä¸­å»ºç«‹&#8221;å¿«æ·æ–¹å¼&#8221;åŒå‡»è¿è¡Œï¼Œéœ€è¦å»ºç«‹ä¸€ä¸ªdesktopç±»å‹çš„æ–‡ä»¶ï¼š</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[root@k8s ~] cat ~/Desktop/Cassandra.desktop
</span><span class='line'>[Desktop Entry]
</span><span class='line'>Name=Cassandra
</span><span class='line'>Comment=Launch Cassandra
</span><span class='line'>Exec=su - hadoop /home/hadoop/apache-cassandra-2.2.10/bin/cassandra -f
</span><span class='line'>Terminal=true
</span><span class='line'>Type=Application
</span></code></pre></td></tr></table></div></figure>


<p>å³é”®åˆ›å»ºå¿«æ·çš„æ–¹å¼ï¼Œåœ¨Centos7ä¸Šé¢æ²¡æœ‰æ‰¾åˆ°ã€‚</p>

<blockquote><p>In Gnome :
- right click on the desktop and &lsquo;create launcher&rsquo;
- browse to the script location and give a name</p></blockquote>

<h2>å‚è€ƒ</h2>

<ul>
<li><a href="https://unix.stackexchange.com/questions/189777/how-to-launch-shell-script-with-double-click-in-centos-7">https://unix.stackexchange.com/questions/189777/how-to-launch-shell-script-with-double-click-in-centos-7</a></li>
<li><a href="https://askubuntu.com/questions/138908/how-to-execute-a-script-just-by-double-clicking-like-exe-files-in-windows">https://askubuntu.com/questions/138908/how-to-execute-a-script-just-by-double-clicking-like-exe-files-in-windows</a></li>
</ul>


<p>&ndash;END</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/10/28/flamegraph-display-how-disk-be-used/">ä½¿ç”¨FlamegraphæŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2017-10-28T19:08:14+08:00" pubdate data-updated="true">Sat 2017-10-28 19:08</time>
		
        
		
      </p>
    
  </header>



  <div class="entry-content"><p>ä»¥å‰æœ‰ä½¿ç”¨FlameGraphåšJavaç¨‹åºçš„å †æ ˆï¼ˆçƒ­ç‚¹ä»£ç ï¼‰çš„æ˜¾ç¤ºã€‚å…¶å®ç£ç›˜ä¹Ÿå¯ä»¥ä½¿ç”¨ç±»ä¼¼çš„æ–¹å¼æ¥æ˜¾ç¤ºæŸ¥çœ‹å ç”¨æƒ…å†µï¼Œæ‰¾å‡ºæ²¡ç”¨çš„æ•°æ®ã€‚</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ git clone https://github.com/brendangregg/FlameGraph.git
</span><span class='line'>
</span><span class='line'>#ä½¿ç”¨ç®¡ç†å‘˜æƒé™è¿è¡Œ
</span><span class='line'>winse@Lenovo-PC /cygdrive/e/git/FlameGraph
</span><span class='line'>$ ./files.pl /cygdrive/c/ | ./flamegraph.pl --hash --countname=bytes &gt; /cygdrive/r/c.svg
</span></code></pre></td></tr></table></div></figure>


<p>ç„¶åæµè§ˆå™¨æŸ¥çœ‹å³å¯ï¼Œä¸»è¦è¿˜æ˜¯æŸ¥çœ‹å ç”¨æ¯”ã€‚ï¼ˆä½†æ˜¯ä¸ä¸€å®šæ‰€æœ‰æ–‡ä»¶éƒ½åŒ…æ‹¬åœ¨SVGé‡Œé¢ï¼‰ã€‚</p>

<p>å½“ç„¶ï¼Œé»˜è®¤å®˜ç½‘æä¾›çš„ files.pl æ˜¯è·å–æ‰€æœ‰çš„ç›®å½•ã€‚æˆ‘ä»¬å¯ä»¥åšä¸‹å±‚çº§æ§åˆ¶ï¼Œä»£ç ä¿®æ”¹å¦‚ä¸‹ï¼š</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ git diff
</span><span class='line'>diff --git a/files.pl b/files.pl
</span><span class='line'>index 27654be..5d1012e 100755
</span><span class='line'>--- a/files.pl
</span><span class='line'>+++ b/files.pl
</span><span class='line'>@@ -29,7 +29,16 @@ sub usage {
</span><span class='line'> usage() if @ARGV == 0 or $ARGV[0] eq "--help" or $ARGV[0] eq "-h";
</span><span class='line'>
</span><span class='line'> foreach my $dir (@ARGV) {
</span><span class='line'>-    find(\&wanted, $dir);
</span><span class='line'>+    find({
</span><span class='line'>+       preprocess =&gt; \&preprocess,
</span><span class='line'>+       wanted =&gt; \&wanted,
</span><span class='line'>+    }, $dir);
</span><span class='line'>+}
</span><span class='line'>+
</span><span class='line'>+sub preprocess {
</span><span class='line'>+       my $depth = $File::Find::dir =~ tr[/][];
</span><span class='line'>+       return @_ if $depth &lt; 8;
</span><span class='line'>+       return ;
</span><span class='line'> }
</span><span class='line'>
</span><span class='line'> sub wanted {
</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/blogs/flamegraph_disk.png" alt="" /></p>

<p>ä¸‹åˆ—çš„æ–‡ä»¶å¤¹å¯ä»¥æ’æŸ¥ä¸‹è¿›è¡Œå¤„ç†ï¼š</p>

<ul>
<li>C:\pagefile.sys C:\swapfile.sys : ç³»ç»Ÿå±æ€§-é«˜çº§-æ€§èƒ½é€‰é¡¹-è™šæ‹Ÿå†…å­˜</li>
<li>C:\hiberfil.sys : powercfg -h -zie 60% ; powercfg.exe /hibernate off</li>
<li>C:\ProgramData\Package Cache</li>
</ul>


<h2>å‚è€ƒ</h2>

<ul>
<li><a href="http://www.brendangregg.com/blog/2016-01-20/ebpf-offcpu-flame-graph.html">http://www.brendangregg.com/blog/2016-01-20/ebpf-offcpu-flame-graph.html</a></li>
<li><a href="https://support.microsoft.com/en-us/help/920730/how-to-disable-and-re-enable-hibernation-on-a-computer-that-is-running">https://support.microsoft.com/en-us/help/920730/how-to-disable-and-re-enable-hibernation-on-a-computer-that-is-running</a></li>
<li><a href="http://www.intowindows.com/how-to-reduce-hibernate-file-size-in-windows-7/">http://www.intowindows.com/how-to-reduce-hibernate-file-size-in-windows-7/</a></li>
<li><a href="http://www.brendangregg.com/blog/2017-02-05/file-system-flame-graph.html">http://www.brendangregg.com/blog/2017-02-05/file-system-flame-graph.html</a></li>
</ul>


<p>&ndash;END</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/10/08/docker-network-via-macvlan/">Dockerå¤šä¸»æœºç½‘ç»œé…ç½® - Macvlan</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2017-10-08T10:27:54+08:00" pubdate data-updated="true">Sun 2017-10-08 10:27</time>
		
        
		
      </p>
    
  </header>



  <div class="entry-content"><h2>å‚è€ƒ</h2>

<ul>
<li><a href="https://docs.docker.com/engine/userguide/networking/get-started-macvlan/#macvlan-bridge-mode-example-usage">Get started with Macvlan network driver</a></li>
<li><a href="https://github.com/alfredhuang211/study-docker-doc/blob/master/docker%E8%B7%A8%E4%B8%BB%E6%9C%BAmacvlan%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE.md">dockerè·¨ä¸»æœºmacvlanç½‘ç»œé…ç½®</a></li>
<li><a href="https://blog.jessfraz.com/post/ips-for-all-the-things/">ip static</a></li>
<li><a href="https://stackoverflow.com/questions/35742807/docker-1-10-containers-ip-in-lan/39285950#39285950">Docker 1.12+ container&rsquo;s IP in LAN</a></li>
<li><a href="http://hustcat.github.io/docker-macvlan/">Dockerè‡ªå®šä¹‰ç½‘ç»œâ€”â€”MacVLAN</a> è¿™ç¯‡å†…å®¹æœ‰ç‚¹ç±»ä¼¼pipeworkã€‚</li>
</ul>


<blockquote><p>Note: In Macvlan you are not able to ping or communicate with the default namespace IP address. For example, if you create a container and try to ping the Docker hostâ€™s eth0 it will not work. That traffic is explicitly filtered by the kernel modules themselves to offer additional provider isolation and security.</p></blockquote>

<h2>ä¸»æœº</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[root@kube-master140 ~]# ip addr show ens33
</span><span class='line'>2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000
</span><span class='line'>    link/ether 00:0c:29:40:2d:15 brd ff:ff:ff:ff:ff:ff
</span><span class='line'>    inet 192.168.191.140/24 brd 192.168.191.255 scope global dynamic ens33
</span><span class='line'>       valid_lft 1765sec preferred_lft 1765sec
</span><span class='line'>    inet6 fe80::1186:2fe5:9ee5:8790/64 scope link 
</span><span class='line'>       valid_lft forever preferred_lft forever
</span><span class='line'>
</span><span class='line'>[root@kube-worker141 ~]# ip addr show ens33
</span><span class='line'>2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000
</span><span class='line'>    link/ether 00:0c:29:2e:67:4d brd ff:ff:ff:ff:ff:ff
</span><span class='line'>    inet 192.168.191.141/24 brd 192.168.191.255 scope global dynamic ens33
</span><span class='line'>       valid_lft 1779sec preferred_lft 1779sec
</span><span class='line'>    inet6 fe80::dd23:1df6:b37:efae/64 scope link 
</span><span class='line'>       valid_lft forever preferred_lft forever</span></code></pre></td></tr></table></div></figure>


<h2>åˆ›å»ºç½‘ç»œ</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[root@kube-worker141 ~]# docker network create \
</span><span class='line'>-d macvlan \
</span><span class='line'>--subnet=192.168.191.0/24 \
</span><span class='line'>--gateway=192.168.191.2 \
</span><span class='line'>-o parent=ens33 pub_net
</span><span class='line'>4370998ed03024bc0057a894f1280d5b0fcdba526fd9e8da612a3abb0dbc884b
</span><span class='line'>
</span><span class='line'>[root@kube-worker141 ~]# docker network list 
</span><span class='line'>NETWORK ID          NAME                DRIVER              SCOPE
</span><span class='line'>eee9236a36ba        bridge              bridge              local               
</span><span class='line'>ddc7f59215c1        host                host                local               
</span><span class='line'>d8dc7fbc40a6        none                null                local               
</span><span class='line'>4370998ed030        pub_net             macvlan             local               
</span><span class='line'>
</span><span class='line'>[root@kube-worker141 ~]# docker network inspect pub_net
</span><span class='line'>...</span></code></pre></td></tr></table></div></figure>


<h2>ä½¿ç”¨</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>docker rm -f $( docker ps -a | grep -v IMAGE | awk '{print $1}' ) 
</span><span class='line'>
</span><span class='line'>[root@kube-worker141 ~]# docker run --net=pub_net --ip=192.168.191.200 --name c200 -tid busybox /bin/sh
</span><span class='line'>2e0a2ede40e80a2f1739330bb3a6c45b91ea08d78d26d165ad13945bedbea40f
</span><span class='line'>
</span><span class='line'>[root@kube-worker141 ~]# docker ps 
</span><span class='line'>CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
</span><span class='line'>2e0a2ede40e8        busybox             "/bin/sh"           13 seconds ago      Up 11 seconds                           c200
</span><span class='line'>[root@kube-worker141 ~]# docker exec c200 ifconfig 
</span><span class='line'>eth0      Link encap:Ethernet  HWaddr 02:42:C0:A8:BF:C8  
</span><span class='line'>          inet addr:192.168.191.200  Bcast:0.0.0.0  Mask:255.255.255.0
</span><span class='line'>          inet6 addr: fe80::42:c0ff:fea8:bfc8/64 Scope:Link
</span><span class='line'>          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
</span><span class='line'>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
</span><span class='line'>          TX packets:8 errors:0 dropped:0 overruns:0 carrier:0
</span><span class='line'>          collisions:0 txqueuelen:0 
</span><span class='line'>          RX bytes:0 (0.0 B)  TX bytes:648 (648.0 B)
</span><span class='line'>
</span><span class='line'>lo        Link encap:Local Loopback  
</span><span class='line'>          inet addr:127.0.0.1  Mask:255.0.0.0
</span><span class='line'>          inet6 addr: ::1/128 Scope:Host
</span><span class='line'>          UP LOOPBACK RUNNING  MTU:65536  Metric:1
</span><span class='line'>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
</span><span class='line'>          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
</span><span class='line'>          collisions:0 txqueuelen:1 
</span><span class='line'>          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
</span><span class='line'>
</span><span class='line'>[root@kube-worker141 ~]# docker exec c200 route -n
</span><span class='line'>Kernel IP routing table
</span><span class='line'>Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
</span><span class='line'>0.0.0.0         192.168.191.2   0.0.0.0         UG    0      0        0 eth0
</span><span class='line'>192.168.191.0   0.0.0.0         255.255.255.0   U     0      0        0 eth0
</span><span class='line'>[root@kube-worker141 ~]# docker exec c200 ping baidu.com 
</span><span class='line'>PING baidu.com (111.13.101.208): 56 data bytes
</span><span class='line'>64 bytes from 111.13.101.208: seq=0 ttl=128 time=45.029 ms
</span><span class='line'>64 bytes from 111.13.101.208: seq=1 ttl=128 time=44.616 ms
</span><span class='line'>
</span><span class='line'>#201
</span><span class='line'>[root@kube-worker141 ~]# docker run --net=pub_net --ip=192.168.191.201 -tid busybox /bin/sh 
</span><span class='line'>c8cfd3443f2b7b3973a06470cb95442eadface8d89c8cb1749ad73ebbd7e9e39
</span><span class='line'>
</span><span class='line'>##æœ¬åœ°å®¹å™¨äº’é€š: 
</span><span class='line'>#: HOST141-200 ping HOST141-201
</span><span class='line'>[root@kube-worker141 ~]# docker exec c200 ping -W 10 192.168.191.201
</span><span class='line'>PING 192.168.191.201 (192.168.191.201): 56 data bytes
</span><span class='line'>64 bytes from 192.168.191.201: seq=0 ttl=64 time=0.523 ms
</span><span class='line'>
</span><span class='line'>#210 
</span><span class='line'>[root@kube-master ~]# docker run --net=pub_net --ip=192.168.191.210 -tid busybox /bin/sh 
</span><span class='line'>7929c136c3dbc646b68b3b7302e8525a25fe2f583db2246fea0da85a448b7b78
</span><span class='line'>
</span><span class='line'>##Bè®¿é—®Aä¸»æœºçš„å®¹å™¨: 
</span><span class='line'>#: HOST140 ping HOST141-201 
</span><span class='line'>[root@kube-master140 ~]# ping 192.168.191.201 
</span><span class='line'>PING 192.168.191.201 (192.168.191.201) 56(84) bytes of data.
</span><span class='line'>64 bytes from 192.168.191.201: icmp_seq=1 ttl=64 time=1.44 ms
</span><span class='line'>
</span><span class='line'>##Aä¸»æœºå®¹å™¨è®¿é—®Bä¸»æœºå®¹å™¨: 
</span><span class='line'>#: HOST141-200 ping HOST140-210
</span><span class='line'>[root@kube-worker141 ~]# docker exec c200 ping -W 10 192.168.191.210
</span><span class='line'>PING 192.168.191.210 (192.168.191.210): 56 data bytes
</span><span class='line'>64 bytes from 192.168.191.210: seq=0 ttl=64 time=2.049 ms
</span><span class='line'>64 bytes from 192.168.191.210: seq=1 ttl=64 time=0.993 ms
</span><span class='line'>
</span><span class='line'>#ä¸»æœºä¸æ‰€åœ¨å®¹å™¨äº’ç›¸ä¸èƒ½è®¿é—® (--!): 
</span><span class='line'>#: HOST141 ping HOST141-200
</span><span class='line'>[root@kube-worker141 ~]# ping 192.168.191.200
</span><span class='line'>PING 192.168.191.200 (192.168.191.200) 56(84) bytes of data.
</span><span class='line'>From 192.168.191.141 icmp_seq=1 Destination Host Unreachable
</span><span class='line'>From 192.168.191.141 icmp_seq=2 Destination Host Unreachable
</span><span class='line'>#: HOST141-200 ping HOST141
</span><span class='line'>[root@kube-worker1 ~]# docker exec c200 ping 192.168.191.141
</span></code></pre></td></tr></table></div></figure>


<p>é’ˆå¯¹ä¸»æœºä¸æœ¬æœºå®¹å™¨ä¸èƒ½äº’é€šçš„é—®é¢˜ï¼Œå¯ä»¥å¢åŠ ä¸€å¼ é»˜è®¤çš„ç½‘å¡ï¼š<a href="https://success.docker.com/KBase/Multiple_Docker_Networks">Multiple Docker Networks</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#å…ˆé€šè¿‡é»˜è®¤ç½‘ç»œåˆ›å»º
</span><span class='line'>[root@kube-worker1 ~]# docker run --name c200 -tid busybox /bin/sh                                   
</span><span class='line'>47b7c1813b95cbec471b1a6de6a870e5537cfa70d54120873a5edb4e444b373b
</span><span class='line'>#ç„¶åè¿æ¥pub_netï¼
</span><span class='line'>[root@kube-worker1 ~]# docker network connect --ip=192.168.191.200 pub_net c200        
</span><span class='line'>[root@kube-worker1 ~]# docker exec c200 ip a
</span><span class='line'>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue qlen 1
</span><span class='line'>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
</span><span class='line'>    inet 127.0.0.1/8 scope host lo
</span><span class='line'>       valid_lft forever preferred_lft forever
</span><span class='line'>    inet6 ::1/128 scope host 
</span><span class='line'>       valid_lft forever preferred_lft forever
</span><span class='line'>14: eth0@if15: &lt;BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN&gt; mtu 1500 qdisc noqueue 
</span><span class='line'>    link/ether 02:42:ac:12:00:02 brd ff:ff:ff:ff:ff:ff
</span><span class='line'>    inet 172.18.0.2/16 scope global eth0
</span><span class='line'>       valid_lft forever preferred_lft forever
</span><span class='line'>    inet6 fe80::42:acff:fe12:2/64 scope link 
</span><span class='line'>       valid_lft forever preferred_lft forever
</span><span class='line'>16: eth1@if2: &lt;BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN&gt; mtu 1500 qdisc noqueue 
</span><span class='line'>    link/ether 02:42:c0:a8:bf:c8 brd ff:ff:ff:ff:ff:ff
</span><span class='line'>    inet 192.168.191.200/24 scope global eth1
</span><span class='line'>       valid_lft forever preferred_lft forever
</span><span class='line'>    inet6 fe80::42:c0ff:fea8:bfc8/64 scope link 
</span><span class='line'>       valid_lft forever preferred_lft forever
</span><span class='line'>       </span></code></pre></td></tr></table></div></figure>


<p>æ–¹å¼1ï¼š</p>

<p>ä¸ä¸»æœºçš„é€šä¿¡ï¼Œé€šè¿‡ 172.18.0.0/24 çš„ç½‘ç»œã€‚å…¶ä»–çš„é€šè¿‡ 192.168.191.0/24 ã€‚è¿˜æ˜¯æ„Ÿè§‰æœ‰ç‚¹é¸¡è‚‹ï¼ï¼</p>

<p>æ–¹å¼2ï¼š</p>

<p>å¢åŠ routeï¼š</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#route add -host $container_ip gw $lan_router_ip $if_device_nic2
</span><span class='line'>
</span><span class='line'>[root@kube-worker1 ~]# route add -net 192.168.191.200 gw 172.18.0.1 netmask 255.255.255.255 dev docker0
</span><span class='line'>[root@kube-worker1 ~]# route -n
</span><span class='line'>Kernel IP routing table
</span><span class='line'>Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
</span><span class='line'>0.0.0.0         192.168.191.2   0.0.0.0         UG    100    0        0 ens33
</span><span class='line'>172.17.3.0      192.168.191.140 255.255.255.0   UG    100    0        0 ens33
</span><span class='line'>172.17.4.0      0.0.0.0         255.255.255.0   U     425    0        0 kbr0
</span><span class='line'>172.18.0.0      0.0.0.0         255.255.0.0     U     0      0        0 docker0
</span><span class='line'>192.168.191.0   0.0.0.0         255.255.255.0   U     100    0        0 ens33
</span><span class='line'>192.168.191.200 172.18.0.1      255.255.255.255 UGH   0      0        0 docker0
</span><span class='line'>[root@kube-worker1 ~]# ping 192.168.191.200
</span><span class='line'>PING 192.168.191.200 (192.168.191.200) 56(84) bytes of data.
</span><span class='line'>64 bytes from 192.168.191.200: icmp_seq=1 ttl=64 time=0.239 ms
</span><span class='line'>64 bytes from 192.168.191.200: icmp_seq=2 ttl=64 time=0.106 ms
</span><span class='line'>^C
</span><span class='line'>--- 192.168.191.200 ping statistics ---
</span><span class='line'>2 packets transmitted, 2 received, 0% packet loss, time 1000ms
</span><span class='line'>rtt min/avg/max/mdev = 0.106/0.172/0.239/0.067 ms
</span></code></pre></td></tr></table></div></figure>


<p>é€šè¿‡æ“ä½œä¸pipeworkæ¯”è¾ƒï¼Œäº’æœ‰ä¼˜åŠ£ï¼š</p>

<ul>
<li>pipeworkä¼šåˆ›å»ºç½‘å¡ï¼Œç„¶åæ‰€æœ‰çš„ipéƒ½æ˜¯äº’é€šçš„ï¼Œä½†æ˜¯ç»‘å®šã€è¿˜å¾—æŠŠä¸»æœºçš„ipé…ç½®åˆ°br0ä¸Šã€‚</li>
<li>è€Œdocker-networkçš„æ–¹å¼ä¸ä¸»æœºäº’é€šéœ€è¦åšé¢å¤–çš„é…ç½®ã€‚</li>
</ul>


<p>&ndash;END</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/10">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/8">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>ä½›çˆ·</h1>
  <p>æ¥ä¹‹ä¸æ˜“, ä¸”ç­‰ä¸”çæƒœ. <br>å¾—ä¹‹æˆ‘å¹¸; ä¸å¾—<span style="display:none">-äº‰-å¤äº‰-ä¸”ä¸å¾—</span>, å‘½ä¹Ÿ, ä¹äº«å¤©å‘½, ç¦ä¹Ÿ. </p>
  <p><a href="https://github.com/winse"><i class="fa fa-github-alt">winse</i></a>&nbsp;&nbsp;<a href="http://weibo.com/winseliu"><i class="fa fa-weibo">winseliu</i></a></p>
</section>
<section>



</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2023/11/18/reinstall-redmine-on-respberry2/">Reinstall Redmine on Respberry2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/04/09/dingtalk-with-openai/">é’‰é’‰ç¾¤æœºå™¨äººå¯¹æ¥ChatGPT</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/03/26/clash-on-raspberry4/">æ ‘è“æ´¾4å®‰è£…Clash</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/03/25/reinstall-raspberry2/">é‡æ–°æŠ˜è…¾raspberry2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/03/25/mirror-request/">è¯·æ±‚å¤åˆ¶/é•œåƒ</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/03/18/wechat-on-openai/">å¾®ä¿¡å¯¹æ¥OpenAI</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/02/01/git-reset-hard/">è®°git Reset &#8211;hard</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/02/01/register-openai/">æ³¨å†ŒOpenAI</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Categories</h1>

<!-- key -->
	 
	<ul role="list">
		
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/hadoop/'>hadoop</a> (68) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/efficity/'>efficity</a> (23) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/java/'>java</a> (16) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/k8s/'>k8s</a> (15) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/docker/'>docker</a> (15) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/spark/'>spark</a> (13) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/puppet/'>puppet</a> (11) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/blog/'>blog</a> (11) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/hive/'>hive</a> (8) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/redis/'>redis</a> (7) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/jekyll/'>jekyll</a> (7) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/nginx/'>nginx</a> (6) 
		</li>
		
		
		<li style="clear:both; width: 1px; margin: 0; padding: 0;"></li>
		<li class="category"><a href="/blog/archives">All categories</a> (236)</li>
	</ul>
	
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/winse">@winse</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'winse',
            count: 4,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
<!--
  <h1>Softs, I&#8217;m using</h1>
  <ul>
    <li class="post">
		<a href="http://hadoop.apache.org/releases.html">hadoop-2.6.3</a>
	</li>
	<li class="post">
		<a href="https://issues.apache.org/jira/browse/HBASE/?selectedTab=com.atlassian.jira.jira-projects-plugin:changelog-panel">hbase-0.96.0</a>
	</li>
	<li class="post">
		<a href="https://hive.apache.org/downloads.html">hive-1.2.1</a>
	</li>
	<li class="post">
		<a href="https://issues.apache.org/jira/browse/TEZ/?selectedTab=com.atlassian.jira.jira-projects-plugin:summary-panel">tez-0.7.0</a>
    </li>
  </ul>
&#8211;>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2024 - Winse Liu -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>

<script>

var time=location.pathname.substring(6).substring(0,11);
var eName=location.pathname.substring(17);
var gitalk = new Gitalk({
  clientID: 'c14f68eac6330d15d984',
  clientSecret: '73b7c1fffa98e299ff0cdd332821201933858e6e',
  repo: 'winse.github.com',
  owner: 'winse',
  admin: ['winse'],
  id: eName,
  labels: ['Gitalk', time],
  body: "http://winse.github.io" + location.pathname,
  createIssueManually: true,
  
  // facebook-like distraction free mode
  distractionFreeMode: false
})

gitalk.render('gitalk-container')

</script>



<script>
/*
$.ajax({
  type: "POST",
  url: "http://log.winseliu.com:20000",
  data: JSON.stringify({
    title: document.title,
    location: JSON.stringify(location),
    referrer: document.referrer,
    userAgent: navigator.userAgent
  }),
  contentType: "application/json; charset=utf-8",
  dataType: "json"
});
*/
</script>









</body>
</html>
