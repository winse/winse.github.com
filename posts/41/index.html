
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Winse Blog</title>
  <meta name="author" content="Winse Liu">

  
  <meta name="description" content="Git的每次提交都有一个唯一的ID与之对应，所有的TAG/Branch/Master/HEAD等等，都是一个软链接/别名而已！这个是理解好Git的基础！ 提交最佳实践 commit 只改一件事情。
如果一个文档有多个变更，使用git add --patch只选择文档中的部分变更进入stage。 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://winse.github.io/posts/41">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="/atom.xml" rel="alternate" title="Winse Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//cdn.bootcss.com/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/libs/jquery.toc.min.js" type="text/javascript"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<!--
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
-->

<script src="/javascripts/generate-toc.js" type="text/javascript"></script>


  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-43198550-1', 'auto');
  ga('send', 'pageview');

</script>



</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Winse Blog</a></h1>
  
    <h2>走走停停, 熙熙攘攘, 忙忙碌碌, 不知何畏.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:winse.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="站内搜索"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/blog/archives/updated.html">Updated</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/03/30/git-cheatsheet/">GIT操作记录手册</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-30T22:15:11+08:00" pubdate data-updated="true">Sun 2014-03-30 22:15</time>
		
        
		
      </p>
    
  </header>


  <div class="entry-content"><p>Git的每次提交都有一个<strong>唯一的ID</strong>与之对应，所有的TAG/Branch/Master/HEAD等等，都是一个<strong>软链接/别名</strong>而已！这个是理解好Git的基础！</p>

<h2>提交最佳实践</h2>

<ul>
<li>commit 只改一件事情。</li>
<li>如果一个文档有多个变更，使用<code>git add --patch</code>只选择文档中的<strong>部分变更</strong>进入stage。具体怎么使用，键入命令后在输入<code>?</code></li>
<li>写清楚 commit message</li>
</ul>


<h2>配置</h2>

<h3>内建的图形化 git：</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gitk</span></code></pre></td></tr></table></div></figure>


<h3>git服务器</h3>

<p>搭建git服务器也很方便，有很多web-server的版本，我试用了下<a href="http://www.scm-manager.org/download/">scm-manager</a>使用挺简单的！
如果已经有了SVN的服务器，可以直接使用git-svn检出到本地！！</p>

<h3>配置环境</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git config --global user.email "XXX"
</span><span class='line'>git config --global user.name "XXX"</span></code></pre></td></tr></table></div></figure>


<h3>换行（\r\n）提交检出均不转换</h3>

<p>基本上都在windows操作系统上工作，不需要进行转换！</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git config --global core.autocrlf false</span></code></pre></td></tr></table></div></figure>


<ul>
<li>true 提交时转换为LF，检出时转换为CRLF</li>
<li>input 提交时转换为LF，检出时不转换</li>
<li>false 提交检出均不转换</li>
</ul>


<h3>core.safecrlf</h3>

<ul>
<li>true 拒绝提交包含混合换行符的文件</li>
<li>false 允许提交包含混合换行符的文件</li>
<li>warn 提交包含混合换行符的文件时给出警告</li>
</ul>


<h3>默认分支</h3>

<p>.git/config如下的内容：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[branch "master"]
</span><span class='line'>    remote = origin
</span><span class='line'>    merge = refs/heads/master</span></code></pre></td></tr></table></div></figure>


<p>这等于告诉git两件事:
1. 当你处于master branch, 默认的remote就是origin。
2. 当你在master branch上使用git pull时，没有指定remote和branch，那么git就会采用默认的remote（也就是origin）来merge在master branch上所有的改变</p>

<p>如果不想或者不会编辑config文件的话，可以在bush上输入如下命令行：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ git config branch.master.remote origin 
</span><span class='line'>$ git config branch.master.merge refs/heads/master </span></code></pre></td></tr></table></div></figure>


<p>之后再重新git pull下。最后git push你的代码，到此步顺利完成时，则可以在Github上看到你新建的仓库以及你提交到仓库中文件了OK。</p>

<h3>修改默认Git编辑器</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>$ git config core.editor vim
</span><span class='line'>
</span><span class='line'>$ git config --global core.editor vi
</span><span class='line'>git config --global core.editor "vim"
</span><span class='line'>export GIT_EDITOR=vim</span></code></pre></td></tr></table></div></figure>


<h2>常用基本操作</h2>

<table>
<thead>
<tr>
<th style="text-align:left;"> 操作                                          </th>
<th style="text-align:left;"> 说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;"> git init                                      </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git init &ndash;bare                               </td>
<td style="text-align:left;"> 服务端使用bare（空架子，赤裸）的方式</td>
</tr>
<tr>
<td style="text-align:left;"> git status                                    </td>
<td style="text-align:left;"> 使用git打的最多的就是status命令，查看状态的同时会提示下一步的操作！</td>
</tr>
<tr>
<td style="text-align:left;"> git diff                                      </td>
<td style="text-align:left;"> 工作空间和index/stage进行对比</td>
</tr>
<tr>
<td style="text-align:left;"> git diff &ndash;cached                             </td>
<td style="text-align:left;"> index/stage与本地仓库进行对比</td>
</tr>
<tr>
<td style="text-align:left;"><strong>增加到变更(index/stage)</strong>                    </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git add .                                     </td>
<td style="text-align:left;"> 将当前目录添加到git仓库中，常用命令！</td>
</tr>
<tr>
<td style="text-align:left;"> git add -A                                    </td>
<td style="text-align:left;"> 添加所有改动的文档</td>
</tr>
<tr>
<td style="text-align:left;"> git add -u                                    </td>
<td style="text-align:left;"> 只加修改过的文件,新增的文件不加入</td>
</tr>
<tr>
<td style="text-align:left;"> git rm &ndash;cached <file>&hellip;                     </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"><strong>添加到本地库</strong>                               </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git commit                                    </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git commit -m &ldquo;msg&rdquo;                           </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git commit -a                                 </td>
<td style="text-align:left;"> -a是把所有的修改的（tracked）文件都commit</td>
</tr>
<tr>
<td style="text-align:left;"> git commit &ndash;amend -m &ldquo;commit message.&rdquo;       </td>
<td style="text-align:left;"> 未push到远程分支的提交，快捷的回退再提交。修补提交（修补最近一次的提交而不创建新的提交），可结合git add使用！</td>
</tr>
<tr>
<td style="text-align:left;"> git commit -v                                 </td>
<td style="text-align:left;"> -v 可以看到文件哪些内容被修改</td>
</tr>
<tr>
<td style="text-align:left;"> git commit -m &lsquo;v1.2.0-final&rsquo; &ndash;allow-empty    </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git reset                                     </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git reset HEAD^                               </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git reset &ndash;hard HEAD^                        </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git checkout file                             </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git checkout &ndash;orphan <branchname>; git rm &ndash;cached -r . </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git rebase                                    </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git merge                                     </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"><strong>日志</strong>                                       </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git log                                       </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git log &ndash;oneline &ndash;decorate &ndash;graph          </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git log &ndash;stat                                </td>
<td style="text-align:left;"> 查看提交信息及更新的文件</td>
</tr>
<tr>
<td style="text-align:left;"> git log &ndash;stat -p -1 &ndash;format=raw             </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git log -3 <file-name>                        </td>
<td style="text-align:left;"> 文件的最近3次提交的历史版本记录</td>
</tr>
<tr>
<td style="text-align:left;"> git log &ndash;stat -2                             </td>
<td style="text-align:left;"> 查看最近两次的提交描述及修改文件信息。&ndash;stat 每次提交的简略的统计信息</td>
</tr>
<tr>
<td style="text-align:left;"> git log -p -2                                 </td>
<td style="text-align:left;"> 展开显示每次提交的内容差异，类似git show功能。 -p 选项展开显示每次提交的内容差异，用 -2 则仅显示最近的两次更新</td>
</tr>
<tr>
<td style="text-align:left;"> git log &ndash;name-status                         </td>
<td style="text-align:left;"> 仅显示文件的D/M/A的状态</td>
</tr>
<tr>
<td style="text-align:left;"> git log &ndash;summary                             </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git log &ndash;dirstat -5                          </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git log &ndash;pretty=format:&ldquo;%h %s&rdquo; &ndash;graph       </td>
<td style="text-align:left;">  git log &ndash;pretty=format:&ldquo;%h - %an, %ar : %s&rdquo;</td>
</tr>
<tr>
<td style="text-align:left;"> git log &ndash;pretty=oneline                      </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git reflog                                    </td>
<td style="text-align:left;"> 查看本地操作历史。 ref log</td>
</tr>
<tr>
<td style="text-align:left;"> git show                                      </td>
<td style="text-align:left;"> 查看某版本文件的内容，版本库中最新提交的diff！</td>
</tr>
<tr>
<td style="text-align:left;"> git show master:index.md                      </td>
<td style="text-align:left;"> 查看历史版本的文件内容</td>
</tr>
<tr>
<td style="text-align:left;"> git show &lt;哈希值:文件目录/文件>               </td>
<td style="text-align:left;"> 查看内容</td>
</tr>
<tr>
<td style="text-align:left;"> git cat-file                                  </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"><strong>分支</strong>                                       </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git branch                                    </td>
<td style="text-align:left;"> 查看本地分支</td>
</tr>
<tr>
<td style="text-align:left;"> git branch <branch>                           </td>
<td style="text-align:left;"> 添加新分支，新分支创建后不会自动切换！！</td>
</tr>
<tr>
<td style="text-align:left;"> git branch &ndash;set-upstream branch-name origin/branch-name      </td>
<td style="text-align:left;"> * 建立本地分支和远程分支的关联</td>
</tr>
<tr>
<td style="text-align:left;"> git branch -a                                 </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git branch &ndash;list &ndash;merged                    </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git branch -r                                 </td>
<td style="text-align:left;"> 查看远程分支</td>
</tr>
<tr>
<td style="text-align:left;"> git checkout &ndash;orphan <new-branch>            </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git checkout <branch>                         </td>
<td style="text-align:left;"> 切换分支</td>
</tr>
<tr>
<td style="text-align:left;"> git checkout -b [new_branch_name]             </td>
<td style="text-align:left;"> 创建新分支并立即切换到新分支。git checkout -b branch-name origin/branch-name，本地和远程分支的名称最好一致</td>
</tr>
<tr>
<td style="text-align:left;"> git branch -d branch_name                     </td>
<td style="text-align:left;"> -d选项只能删除已经参与了合并的分支，对于未有合并的分支是无法删除的。如果想强制删除一个分支，可以使用-D选项</td>
</tr>
<tr>
<td style="text-align:left;"> git branch -d -r remote_name/branch_name      </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git merge origin/local-branch                 </td>
<td style="text-align:left;"> 本地分支与主分支合并</td>
</tr>
<tr>
<td style="text-align:left;"><strong>推/拉</strong>                                      </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git pull                                      </td>
<td style="text-align:left;"> * 等价于git fetch &amp;&amp; git merge</td>
</tr>
<tr>
<td style="text-align:left;"> git fetch                                     </td>
<td style="text-align:left;"> 先把git的东西fetch到你本地然后merge后再push</td>
</tr>
<tr>
<td style="text-align:left;"> git push &ndash;rebase                             </td>
<td style="text-align:left;"> *</td>
</tr>
<tr>
<td style="text-align:left;"> git push                                      </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git push &ndash;set-upstream origin <branch>       </td>
<td style="text-align:left;"> To push the current branch and set the remote as upstream</td>
</tr>
<tr>
<td style="text-align:left;"> git push origin branch-name                   </td>
<td style="text-align:left;"> 创建远程分支(本地分支push到远程)，从本地推送分支。如果推送失败，先用git pull抓取远程的新提交</td>
</tr>
<tr>
<td style="text-align:left;"> git push -u origin master                     </td>
<td style="text-align:left;"> 将代码从本地回传到仓库</td>
</tr>
<tr>
<td style="text-align:left;"> git push origin test:master                   </td>
<td style="text-align:left;"> 提交本地test分支作为远程的master分支</td>
</tr>
<tr>
<td style="text-align:left;"> git push -f                                   </td>
<td style="text-align:left;"> * 强推(&ndash;force)，即利用强覆盖方式用你本地的代码替代git仓库内的内容，这种方式不建议使用。</td>
</tr>
<tr>
<td style="text-align:left;"> git pull [remoteName] [localBranchName]       </td>
<td style="text-align:left;"> 获取远程版本库提交与本地提交进行合并</td>
</tr>
<tr>
<td style="text-align:left;"> git push [remoteName] [localBranchName]       </td>
<td style="text-align:left;"> 提交、推送远程仓库</td>
</tr>
<tr>
<td style="text-align:left;"> git push &ndash;tags                               </td>
<td style="text-align:left;"> 提交时带上标签信息</td>
</tr>
<tr>
<td style="text-align:left;"> git push <git-url> master                     </td>
<td style="text-align:left;"> 把本地仓库提交到远程仓库的master分支中</td>
</tr>
<tr>
<td style="text-align:left;"> git push origin :branch_name                  </td>
<td style="text-align:left;"> 删除远端分支,(如果:左边的分支为空，那么将删除:右边的远程的分支。)远程的test将被删除，但是本地还会保存的，不用担心。</td>
</tr>
<tr>
<td style="text-align:left;"> git push origin :/refs/tags/tagname           </td>
<td style="text-align:left;"> 删除远端标签</td>
</tr>
<tr>
<td style="text-align:left;"> git clone <a href="http://path/to/git.git">http://path/to/git.git</a>              </td>
<td style="text-align:left;"> clone的内容会放在当前目录下的新目录</td>
</tr>
<tr>
<td style="text-align:left;"> git clone &ndash;branch <remote-branch> <git-url>  </td>
<td style="text-align:left;"> 获取指定分支，检出远程版本的分支。 git clone &ndash;branch unity /d/winsegit/hello helloclone</td>
</tr>
<tr>
<td style="text-align:left;"><strong>TAG</strong>                                        </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git tag                                       </td>
<td style="text-align:left;"> 查看标签</td>
</tr>
<tr>
<td style="text-align:left;"> git tag <tag>                                 </td>
<td style="text-align:left;"> 添加标签</td>
</tr>
<tr>
<td style="text-align:left;"> git tag -d <tag>                              </td>
<td style="text-align:left;"> 删除标签</td>
</tr>
<tr>
<td style="text-align:left;"> git tag -r                                    </td>
<td style="text-align:left;"> 查看远程标签</td>
</tr>
<tr>
<td style="text-align:left;"> git show <tag>                                </td>
<td style="text-align:left;"> 查看标签的信息</td>
</tr>
<tr>
<td style="text-align:left;"> git tag -a <tag> <msg>                        </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"><strong>REMOTE</strong>                                     </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git remote [show]                             </td>
<td style="text-align:left;"> 查看远程仓库</td>
</tr>
<tr>
<td style="text-align:left;"> git remote -v                                 </td>
<td style="text-align:left;"> 查看远程仓库</td>
</tr>
<tr>
<td style="text-align:left;"> git remote add [name] [url]                   </td>
<td style="text-align:left;"> 添加远程仓库</td>
</tr>
<tr>
<td style="text-align:left;"> git remote set-url &ndash;push[name][newUrl]       </td>
<td style="text-align:left;"> 修改远程仓库</td>
</tr>
<tr>
<td style="text-align:left;"> git remote show origin                        </td>
<td style="text-align:left;"> 远程库origin的详细信息。缺省值推送分支，有哪些远端分支还没有同步到本地，哪些已同步到本地的远端分支在远端服务器上已被删除，git pull 时将自动合并哪些分支！</td>
</tr>
<tr>
<td style="text-align:left;"> git remote show <remote-name>                 </td>
<td style="text-align:left;"> 远程版本信息查看</td>
</tr>
<tr>
<td style="text-align:left;"> git remote add origin <git-url>               </td>
<td style="text-align:left;"> 设置仓库</td>
</tr>
<tr>
<td style="text-align:left;"> git remote rm [name]                          </td>
<td style="text-align:left;"> 删除远程仓库</td>
</tr>
<tr>
<td style="text-align:left;"><strong>文件列表</strong>                                   </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;">git ls-tree &ndash;name-only  -rt <SHA-ID></td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"><strong>打包</strong>                                       </td>
<td></td>
</tr>
<tr>
<td style="text-align:left;"> git archive &ndash;format tar &ndash;output <tar> master</td>
<td style="text-align:left;"> 将 master以tar格式打包到指定文件 $ git archive -o load.tar master</td>
</tr>
</tbody>
</table>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ git config core.filemode false
</span><span class='line'>
</span><span class='line'>git config --get core.filemode
</span><span class='line'>
</span><span class='line'>git config --global core.filemode false
</span><span class='line'>git config --global core.autocrlf false
</span><span class='line'>
</span><span class='line'>cat .git/config
</span><span class='line'>.gitconfig
</span><span class='line'>
</span><span class='line'>git ls-files</span></code></pre></td></tr></table></div></figure>


<h2>按功能点完整的操作步骤</h2>

<h3>查看指定版本文件内容</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Administrator@WINSELIU /e/git/hello (master)
</span><span class='line'>$ git ls-tree master
</span><span class='line'>100644 blob 139b30f9054cf77bd2eeabcebaf6ca3f32cd1d50    abc
</span><span class='line'>
</span><span class='line'>Administrator@WINSELIU /e/git/hello (master)
</span><span class='line'>$ git cat-file -p 139b30f9054cf77bd2eeabcebaf6ca3f32cd1d50</span></code></pre></td></tr></table></div></figure>


<h3>回归指定的版本文件</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># 通过上面的命令得到该文件的版本
</span><span class='line'>winse@Lenovo-PC ~/esw/git
</span><span class='line'>$ git checkout 4179d96 esw/DTA/ISMI_CU/docs/测试/省汇聚平台/dta/kettle/file/hive2mysql.ktr
</span></code></pre></td></tr></table></div></figure>


<h3>查看提交版本的指定文件内容</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git log abc  # 获取文件提交ID
</span><span class='line'>git cat-file -p &lt;commit-id&gt;  # 获取treeID
</span><span class='line'>git cat-file -p &lt;tree-id&gt;  # 获取当前tree的列表
</span><span class='line'>git cat-file -p &lt;file-blob-id&gt;</span></code></pre></td></tr></table></div></figure>


<h3>根据格式输出日志</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ git log --pretty=oneline
</span><span class='line'>$ git log --pretty=short
</span><span class='line'>$ git log --pretty=format:'%h was %an, %ar, message: %s'
</span><span class='line'>$ git log --pretty=format:'%h : %s' --graph
</span><span class='line'>$ git log --pretty=format:'%h : %s' --topo-order --graph
</span><span class='line'>$ git log --pretty=format:'%h : %s' --date-order --graph
</span><span class='line'>
</span><span class='line'># https://stackoverflow.com/questions/1441010/the-shortest-possible-output-from-git-log-containing-author-and-date
</span><span class='line'>git log --pretty=format:"%h%x09%an%x09%ad%x09%s"
</span><span class='line'>pretty = format:%C(auto,yellow)%h%C(auto,magenta)% G? %C(auto,blue)%&gt;(12,trunc)%ad %C(auto,green)%&lt;(7,trunc)%aN%C(auto,reset)%s%C(auto,red)% gD% D
</span><span class='line'>
</span><span class='line'>git log --pretty=format:'%h %ad %s | %an' --date=short  
</span></code></pre></td></tr></table></div></figure>


<p>你也可用‘medium&#8217;,&lsquo;full&rsquo;,&lsquo;fuller&rsquo;,&lsquo;email&rsquo; 或‘raw&#8217;. 如果这些格式不完全符合你的相求， 你也可以用‘&ndash;pretty=format&#8217;参数(参见：git log)来创建你自己的&#8221;格式“.</p>

<h3>本地提交后再次修改</h3>

<p><strong>修改注释</strong></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git commit --amend </span></code></pre></td></tr></table></div></figure>


<p><strong>内容修改</strong></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'> # edit file
</span><span class='line'>git add file
</span><span class='line'>git commit --amend</span></code></pre></td></tr></table></div></figure>


<p><strong>提交了不该提交的，并撤回</strong></p>

<p>刚刚提交的不完整，想修改一些东西，加到刚才的提交中</p>

<p>commit -> modify -> add -> amend</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git reset HEAD^
</span><span class='line'>git status
</span><span class='line'>cat abc
</span><span class='line'>git diff
</span><span class='line'>git commit -a -m "for test reset"
</span><span class='line'>git log
</span><span class='line'>git diff
</span><span class='line'>
</span><span class='line'>vi abc
</span><span class='line'>git add abc
</span><span class='line'>git commit --amend
</span><span class='line'>
</span><span class='line'>git status
</span><span class='line'>git diff
</span><span class='line'>git show master:abc
</span><span class='line'>git log</span></code></pre></td></tr></table></div></figure>


<h3>没有push到远程库的提交，本地可以做的事情</h3>

<ul>
<li>git reset: 用于回溯，回到原来的提交节点，然后可以merge多次提交合并为一个</li>
<li>git rebase <origin>：在origin分支的基础上，合并当前分支上的提交，形成线性提交历史。 会把当前分支的提交保存为patch，然后切到origin分支应用patch，形成线性的提交，common-origin-current。</li>
</ul>


<p>rebase冲突处理时，使用git add &amp;&amp; git rebase &ndash;continue。如果你使用了git add &amp;&amp; git commit，那么当前冲突使用git rebase &ndash;skip即可。</p>

<h3>处理本地和服务器之间冲突的方式</h3>

<ul>
<li>以本地为主。 git push -f</li>
<li>归并merge。 git pull 或者 git fetch &amp;&amp; git merge</li>
<li></li>
</ul>


<p>从stash恢复出现冲突，可以先提交，然后在pop，最后处理冲突。一般提交到本地index中的数据才是自己想要的，从stash中获取的数据只是临时的，可以直接用HEAD的数据内容覆盖，省去处理冲突的时间。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ git add -u
</span><span class='line'>$ git commit -m 'update XXXX'
</span><span class='line'>$ git stash pop
</span><span class='line'>
</span><span class='line'>$ git status | grep 'both modified'  | grep ' ssh-config' | awk -F: '{print $2}' | while read line ; do git show HEAD:"$line" &gt; "$line" ; done
</span></code></pre></td></tr></table></div></figure>


<h3>从Github远程服务上拿其他分支：</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Administrator@WINSELIU /e/git/to-markdown (master)
</span><span class='line'>$ git branch -r
</span><span class='line'>  origin/HEAD -&gt; origin/master
</span><span class='line'>  origin/gh-pages
</span><span class='line'>  origin/jquery
</span><span class='line'>  origin/master
</span><span class='line'>
</span><span class='line'>$ git checkout -b jquery origin/jquery</span></code></pre></td></tr></table></div></figure>


<h3>把本地的git项目发布到Github</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>touch README.md
</span><span class='line'>git init
</span><span class='line'>git add README.md
</span><span class='line'>git commit -m "first commit"
</span><span class='line'>git remote add origin git@github.com:winse/flickr-uploader.git
</span><span class='line'>git push -u origin master</span></code></pre></td></tr></table></div></figure>


<p>Push an existing repository from the command line：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git remote add origin git@github.com:winse/flickr-uploader.git
</span><span class='line'>git push -u origin master</span></code></pre></td></tr></table></div></figure>


<p>如果已经存在remote origin，使用下面的方式修改远程的地址：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Administrator@WINSELIU /d/winsegit/flickr_uploader/chrome (master)
</span><span class='line'>$ git remote set-url --add origin  git@github.com:winse/flickr-uploader.git
</span><span class='line'>
</span><span class='line'>Administrator@WINSELIU /d/winsegit/flickr_uploader/chrome (master)
</span><span class='line'>$ git remote show origin
</span><span class='line'>Warning: Permanently added 'github.com,192.30.252.128' (RSA) to the list of known hosts.
</span><span class='line'>* remote origin
</span><span class='line'>  Fetch URL: git@github.com:winse/flickr-uploader.git
</span><span class='line'>  Push  URL: git@github.com:winse/flickr-uploader.git
</span><span class='line'>  HEAD branch: (unknown)</span></code></pre></td></tr></table></div></figure>


<h3>reset后撤回</h3>

<p>可能存在已经更新的数据，先提交到临时缓存区</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git stash</span></code></pre></td></tr></table></div></figure>


<p>然后通过reflog得到需要撤回到的版本号</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ git reflog
</span><span class='line'>ef9ccf7 HEAD@{0}: reset: moving to HEAD^^
</span><span class='line'>4f317fe HEAD@{1}: commit (amend): 2015-03-04 d</span></code></pre></td></tr></table></div></figure>


<p>仍然使用reset回退</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git reset --hard 4f317fe
</span><span class='line'>git stash pop
</span><span class='line'># 处理冲突
</span><span class='line'># git add 冲突文件
</span><span class='line'>git reset</span></code></pre></td></tr></table></div></figure>


<p>强制回退所有的操作：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git reset --hard
</span><span class='line'>git clean -fd
</span></code></pre></td></tr></table></div></figure>


<p>强制检出新版本：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git fetch --all
</span><span class='line'>git reset --hard origin/master
</span></code></pre></td></tr></table></div></figure>


<h3>git查看本地领先远程的提交</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Administrator@WINSELIU /d/winsegit/winse.github.com (master)
</span><span class='line'>$ git status
</span><span class='line'># On branch master
</span><span class='line'># Your branch is ahead of 'origin/master' by 2 commits.
</span><span class='line'>#   (use "git push" to publish your local commits)
</span><span class='line'>#
</span><span class='line'># Changes not staged for commit:
</span><span class='line'>#   (use "git add &lt;file&gt;..." to update what will be committed)
</span><span class='line'>#   (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)
</span><span class='line'>#
</span><span class='line'>#       modified:   about.md
</span><span class='line'>#       modified:   blog/_posts/2014-01-21-monitoring-mobile-networks.md
</span><span class='line'>#
</span><span class='line'># Untracked files:
</span><span class='line'>#   (use "git add &lt;file&gt;..." to include in what will be committed)
</span><span class='line'>#
</span><span class='line'>#       default.html
</span><span class='line'>no changes added to commit (use "git add" and/or "git commit -a")
</span><span class='line'>
</span><span class='line'>Administrator@WINSELIU /d/winsegit/winse.github.com (master)
</span><span class='line'>$ git log --oneline --decorate -5
</span><span class='line'>0425ec5 (HEAD, master) 增加日志Github修改历史功能
</span><span class='line'>f3a4a58 把TAG定位到首页，并分页以及按照年分类
</span><span class='line'>d5097e3 (origin/master, origin/HEAD) plugins disabled in github page!
</span><span class='line'>e75d62b test
</span><span class='line'>876dd42 修复根目录下的md不能通过npp-windows请求编辑的BUG
</span><span class='line'>
</span><span class='line'>Administrator@WINSELIU /d/winsegit/winse.github.com (master)
</span><span class='line'>$ git cherry
</span><span class='line'>+ f3a4a58cfead3aa76e4b92de3342bee5970accb7
</span><span class='line'>+ 0425ec548aa4e3dd29cd6fbfa1b656543e85058e</span></code></pre></td></tr></table></div></figure>


<h3>找回游离的提交</h3>

<p><strong>绑定到新分支</strong></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git reflog # 查看本地操作历史
</span><span class='line'>git branch head23 HEAD@{23} # 把分支head23指向/绑定到游离的提交</span></code></pre></td></tr></table></div></figure>


<p>git的版本都是从分支开始查找的，如果没有被分支管理的提交就游离在版本库中！
所以在reset重新修改时，最好建立分支然后再提交！
如果发现类似的提交问题，就需要尽快的修复，不然提交的ID找不到就S了！</p>

<blockquote><p>那些老的提交会被丢弃。 如果运行垃圾收集命令(pruning garbage collection), 这些被丢弃的提交就会删除. （请查看 git gc)</p></blockquote>

<p><strong>重置HEAD</strong></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git reset --hard HEAD@{23}</span></code></pre></td></tr></table></div></figure>


<h3>删除提交</h3>

<p>删除提交E：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ git tag F
</span><span class='line'>$ git tag E HEAD^
</span><span class='line'>$ git tag D HEAD^^
</span><span class='line'>$ git checkout D
</span><span class='line'>$ git cherry-pick master # 把master-patch应用到TAG-D
</span><span class='line'># fix conflicts
</span><span class='line'>$ git status # 提交
</span><span class='line'>$ git checkout master # checkout到master分支
</span><span class='line'>$ git reset --hard HEAD@{1} # 重置master到删除E后的提交
</span></code></pre></td></tr></table></div></figure>


<h3>Git浏览特定版本的文件列表</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git ls-tree --name-only  -rt &lt;SHA-ID&gt;</span></code></pre></td></tr></table></div></figure>


<h3>删除没有被git track的文件</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># 删除 untracked files
</span><span class='line'>git clean -f
</span><span class='line'># 连 untracked 的目录也一起删掉
</span><span class='line'>git clean -fd # -f force branch switch/ignore unmerged entries， -d if you have new directory
</span><span class='line'># 连 gitignore 的untrack 文件/目录也一起删掉 （慎用，一般这个是用来删掉编译出来的 .o之类的文件用的）
</span><span class='line'>git clean -x -fd
</span><span class='line'>
</span><span class='line'># 在用上述 git clean 前，建议加上 -n 参数来先看看会删掉哪些文件，防止重要文件被误删
</span><span class='line'>git clean -nxfd
</span><span class='line'>
</span><span class='line'>git reset --hard ( or git reset then back to 1. )
</span><span class='line'>git checkout . ( or specify with file names )
</span><span class='line'>git reset --hard ( or git reset then back to 3. )</span></code></pre></td></tr></table></div></figure>


<h3>检出SVN项目</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Administrator@ZGC-20130605LYE /e/git
</span><span class='line'>$ git svn clone http://chrome-hosts-manager.googlecode.com/svn/trunk/</span></code></pre></td></tr></table></div></figure>


<p><a href="http://www.worldhello.net/2010/02/01/339.html">http://www.worldhello.net/2010/02/01/339.html</a>下面提到的有意思：</p>

<blockquote><p>Git-svn 是 Subversion 的最佳伴侣，可以用 Git 来操作 Subversion 版本库。这带来一个非常有意思的副产品——部分检出：
可以用 git-svn 来对 Subversion 代码库的任何目录进行克隆，克隆出来的是一个git版本库
可以在部分克隆的版本库中用 Git 进行本地提交。
部分克隆版本库中的本地提交可以提交到上游 Subversion 版本库的相应目录中</p></blockquote>

<p>如果需要密码的，使用方面的方式会报错<strong>git-svn died signal 11</strong>。可以先init，然后在fetch。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Kevin@Kevin-PC /cygdrive/d/dta-git
</span><span class='line'>$ git svn init URL --username=NAME
</span><span class='line'>Initialized empty Git repository in /cygdrive/d/dta-git/.git/
</span><span class='line'>
</span><span class='line'>$ git svn fetch
</span><span class='line'>Authentication realm: &lt;https://IP:PORT&gt; Subversion Repositories
</span><span class='line'>Password for 'NAME':
</span><span class='line'># 输入密码后，ctrl+c退出后再重新下载
</span><span class='line'>
</span><span class='line'>$ git svn fetch &gt; fetch.log 2&gt;&1</span></code></pre></td></tr></table></div></figure>


<ul>
<li><a href="http://rongjih.blog.163.com/blog/static/3357446120107111449543/">如何将SVN仓库转换为Git仓库 </a></li>
</ul>


<h3>Github添加项目主页github page(gh-pages)</h3>

<p>提交后就可以访问了<a href="http://winse.github.io/flickr-uploader/popup.html">页面</a>了。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Administrator@WINSELIU /d/winsegit/flickr_uploader/chrome (master)
</span><span class='line'>$ git branch -a
</span><span class='line'>* master
</span><span class='line'>  remotes/origin/master
</span><span class='line'>
</span><span class='line'>Administrator@WINSELIU /d/winsegit/flickr_uploader/chrome (master)
</span><span class='line'>$ git push origin master:gh-pages
</span><span class='line'>Warning: Permanently added 'github.com,192.30.252.128' (RSA) to the list of known hosts.
</span><span class='line'>Total 0 (delta 0), reused 0 (delta 0)
</span><span class='line'>To git@github.com:winse/flickr-uploader.git
</span><span class='line'> * [new branch]      master -&gt; gh-pages
</span><span class='line'>
</span><span class='line'>Administrator@WINSELIU /d/winsegit/flickr_uploader/chrome (master)
</span><span class='line'>$ git branch -a
</span><span class='line'>* master
</span><span class='line'>  remotes/origin/gh-pages
</span><span class='line'>  remotes/origin/master
</span></code></pre></td></tr></table></div></figure>


<p><strong><a href="https://help.github.com/articles/creating-project-pages-manually">Creating Project Pages manually</a></strong></p>

<blockquote><pre><code>  cd repository

  git checkout --orphan gh-pages
  # Creates our branch, without any parents (it's an orphan!)
  # Switched to a new branch 'gh-pages'

  git rm -rf .
  # Remove all files from the old working tree
  # rm '.gitignore'

  echo "My GitHub Page" &gt; index.html
  git add index.html
  git commit -a -m "First pages commit"
  git push origin gh-pages
</code></pre></blockquote>

<h3>子模块操作</h3>

<p><a href="http://josephjiang.com/entry.php?id=342">git-submodule教程！</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Administrator@WINSELIU /d/winsegit/jae_winse (master)
</span><span class='line'>$ git submodule add git@github.com:winse/flickr-uploader.git src/main/webapp/flickr
</span><span class='line'>
</span><span class='line'>Administrator@WINSELIU /d/winsegit/jae_winse (master)
</span><span class='line'>$ git submodule status
</span><span class='line'> 635090c5a754eebf5ce6566b7f8c65446b764f51 src/main/webapp/flickr (heads/master)
</span><span class='line'>
</span><span class='line'>Administrator@WINSELIU /d/winsegit/jae_winse (master)
</span><span class='line'>$ git commit -m "add submodule"
</span><span class='line'>[master c7dc8c7] add submodule
</span><span class='line'>warning: LF will be replaced by CRLF in .gitmodules.
</span><span class='line'>The file will have its original line endings in your working directory.
</span><span class='line'> 2 files changed, 4 insertions(+)
</span><span class='line'> create mode 100644 .gitmodules
</span><span class='line'> create mode 160000 src/main/webapp/flickr</span></code></pre></td></tr></table></div></figure>


<p>如：$ git submodule add git://github.com/soberh/ui-libs.git src/main/webapp/ui-libs</p>

<p>初始化子模块：$ git submodule init &mdash;-只在首次检出仓库时运行一次就行</p>

<p>更新子模块：$ git submodule update &mdash;-每次更新或切换分支后都需要运行一下</p>

<p>删除子模块：（分4步走哦）</p>

<ol>
<li>$ git rm &ndash;cached [path]</li>
<li>编辑“.gitmodules”文件，将子模块的相关配置节点删除掉</li>
<li>编辑“.git/config”文件，将子模块的相关配置节点删除掉</li>
<li>手动删除子模块残留的目录</li>
</ol>


<h3>检出(Checkout)仓库的一部分内容</h3>

<p>;; ADD 2018-5-27</p>

<p>类似SVN检出子目录的功能。在git里面叫做 <code>Sparse checkout</code> (稀疏的检出)。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>: 先初始化一个git空仓库
</span><span class='line'>$ mkdir hello-scala-mapreduce
</span><span class='line'>$ cd hello-scala-mapreduce/
</span><span class='line'>$ git init
</span><span class='line'>Initialized empty Git repository in /mnt/f/temp/hello-scala-mapreduce/.git/
</span><span class='line'>
</span><span class='line'>: 关联远程仓库
</span><span class='line'>$ git remote add -f origin https://github.com/winse/helloworld.git
</span><span class='line'>Updating origin
</span><span class='line'>remote: Counting objects: 290, done.
</span><span class='line'>remote: Total 290 (delta 0), reused 0 (delta 0), pack-reused 290
</span><span class='line'>Receiving objects: 100% (290/290), 761.75 KiB | 326.00 KiB/s, done.
</span><span class='line'>Resolving deltas: 100% (49/49), done.
</span><span class='line'>From https://github.com/winse/helloworld
</span><span class='line'> * [new branch]      hello      -&gt; origin/hello
</span><span class='line'> * [new branch]      javaweb    -&gt; origin/javaweb
</span><span class='line'> * [new branch]      master     -&gt; origin/master
</span><span class='line'>
</span><span class='line'>: 开启Sparse Checkout模式
</span><span class='line'>$ git config core.sparsecheckout true
</span><span class='line'>: 指定需要检出的子目录/文件
</span><span class='line'>$ echo HelloScalaMapReduce &gt; .git/info/sparse-checkout
</span><span class='line'>
</span><span class='line'>$ git pull origin hello
</span><span class='line'>From https://github.com/winse/helloworld
</span><span class='line'> * branch            hello      -&gt; FETCH_HEAD
</span><span class='line'>$ ls
</span><span class='line'>HelloScalaMapReduce
</span></code></pre></td></tr></table></div></figure>


<h2>其他偶尔使用命令</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git diff --check # 检查行尾有没有多余的空白
</span><span class='line'>git remote prune &lt;remotename&gt;
</span><span class='line'>git ls-remote --heads origin
</span><span class='line'>git gc --prune=now
</span><span class='line'>git ls-remote --heads &lt;remote-name&gt;
</span><span class='line'>git rm -r --cached *</span></code></pre></td></tr></table></div></figure>


<h2>参考</h2>

<ul>
<li><a href="http://blog.csdn.net/trochiluses/article/details/8996431">回溯 与 合并:git rebase与git reset</a></li>
<li><a href="http://ihower.tw/git/">git教程的一个站点</a></li>
<li><a href="http://ihower.tw/git/basic.html">git基本操作</a></li>
<li><a href="http://ihower.tw/git/vcs.html">版本管理介绍</a></li>
<li><a href="http://blog.csdn.net/ithomer/article/details/7529841">速查表</a></li>
<li><a href="http://git-scm.com/book/zh/Git-%E5%9F%BA%E7%A1%80-%E6%9F%A5%E7%9C%8B%E6%8F%90%E4%BA%A4%E5%8E%86%E5%8F%B2">Git 基础 - 查看提交历史</a></li>
<li><a href="http://gitbook.liuhui998.com/3_4.html">查看历史 －Git日志</a></li>
<li><p><a href="https://git-scm.com/book/zh/v2/Git-%E5%9F%BA%E7%A1%80-%E6%9F%A5%E7%9C%8B%E6%8F%90%E4%BA%A4%E5%8E%86%E5%8F%B2">https://git-scm.com/book/zh/v2/Git-%E5%9F%BA%E7%A1%80-%E6%9F%A5%E7%9C%8B%E6%8F%90%E4%BA%A4%E5%8E%86%E5%8F%B2</a></p></li>
<li><p><a href="http://git-scm.com/book/zh/Git-%E5%B7%A5%E5%85%B7-%E9%87%8D%E5%86%99%E5%8E%86%E5%8F%B2">http://git-scm.com/book/zh/Git-%E5%B7%A5%E5%85%B7-%E9%87%8D%E5%86%99%E5%8E%86%E5%8F%B2</a></p></li>
<li><a href="http://ihower.tw/blog/archives/2622">http://ihower.tw/blog/archives/2622</a></li>
<li><a href="http://git-scm.com/docs/git-rebase">http://git-scm.com/docs/git-rebase</a></li>
<li><a href="http://xiewenbo.iteye.com/blog/1285693">http://xiewenbo.iteye.com/blog/1285693</a></li>
<li><a href="http://gitready.com/">http://gitready.com/</a></li>
<li><a href="http://git-scm.com/book/zh/Git-%E5%9F%BA%E7%A1%80-%E6%9F%A5%E7%9C%8B%E6%8F%90%E4%BA%A4%E5%8E%86%E5%8F%B2">http://git-scm.com/book/zh/Git-%E5%9F%BA%E7%A1%80-%E6%9F%A5%E7%9C%8B%E6%8F%90%E4%BA%A4%E5%8E%86%E5%8F%B2</a></li>
<li><a href="http://josephjiang.com/entry.php?id=342">http://josephjiang.com/entry.php?id=342</a> git-submodule没有更好的教程了</li>
<li><a href="http://www.cnblogs.com/william9/archive/2012/09/01/2666767.html">http://www.cnblogs.com/william9/archive/2012/09/01/2666767.html</a></li>
<li><a href="http://marklodato.github.io/visual-git-guide/index-zh-cn.html">http://marklodato.github.io/visual-git-guide/index-zh-cn.html</a></li>
<li><a href="http://www.16kan.com/question/detail/321093.html">http://www.16kan.com/question/detail/321093.html</a></li>
<li><a href="http://gitbook.liuhui998.com/3_4.html">http://gitbook.liuhui998.com/3_4.html</a></li>
<li><a href="http://www.bootcss.com/p/git-guide/">http://www.bootcss.com/p/git-guide/</a></li>
<li><a href="http://blog.csdn.net/ithomer/article/details/7529022">http://blog.csdn.net/ithomer/article/details/7529022</a></li>
<li><a href="http://git-scm.com/book/zh/Git-%E5%88%86%E6%94%AF-%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF">http://git-scm.com/book/zh/Git-%E5%88%86%E6%94%AF-%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF</a></li>
<li><a href="http://git-scm.com/book/zh/Git-%E5%9F%BA%E7%A1%80-%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8">http://git-scm.com/book/zh/Git-%E5%9F%BA%E7%A1%80-%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8</a></li>
<li><a href="http://blog.csdn.net/trochiluses/article/details/14517379">http://blog.csdn.net/trochiluses/article/details/14517379</a></li>
</ul>


<p>&ndash;END</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/03/20/jekyll-tag-per-page/">Jekyll按照tag分页面</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-20T06:21:36+08:00" pubdate data-updated="true">Thu 2014-03-20 06:21</time>
		
        
		
      </p>
    
  </header>


  <div class="entry-content"><h2>单页实现</h2>

<p>从jekll-bootstrap检出的代码中，<code>tags.html</code>实现了标签的显示。但是所有的标签和日志列表都码在一个文件里面，总感觉有点太拥挤。</p>

<pre><code>&lt;div class="page-header"&gt;
    &lt;h1&gt;{{ page.title }} {% if page.tagline %} &lt;small&gt;{{ page.tagline }}&lt;/small&gt;{% endif %}&lt;/h1&gt;
&lt;/div&gt;

&lt;ul class="tag_box inline"&gt;
    {% assign tags_list = site.tags %}  

    {% if tags_list.first[0] == null %}
        {% for tag in tags_list %} 
        &lt;li&gt;&lt;a href="#{{ tag }}-ref"&gt;{{ tag }} &lt;span&gt;{{ site.tags[tag].size }}&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
        {% endfor %}
    {% else %}
        {% for tag in tags_list %} 
        &lt;li&gt;&lt;a href="#{{ tag[0] }}-ref"&gt;{{ tag[0] }} &lt;span&gt;{{ tag[1].size }}&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
        {% endfor %}
    {% endif %}

    {% assign tags_list = nil %}
&lt;/ul&gt;

{% for tag in site.tags %} 
&lt;h2 id="{{ tag[0] }}-ref"&gt;{{ tag[0] }}&lt;/h2&gt;
&lt;ul class="index"&gt;
    {% assign pages_list = tag[1] %}  

    {% if site.JB.pages_list.provider == "custom" %}
        {% include custom/pages_list %}
    {% else %}
        {% for node in pages_list %}
            {% if node.title != null %}
                {% if group == null or group == node.group %}
                    {% if page.url == node.url %}
                    &lt;li class="active"&gt;
                        &lt;a href="{{ BASE_PATH }}{{ node.url }}" class="active"&gt;{{ node.title | xml_escape }}&lt;/a&gt;
                        &lt;span&gt;&lt;time datetime="{{ node.date | date: "%Y-%m-%d" }}"&gt;{{ node.date | date: "%Y/%m/%d" }}&lt;/time&gt;&lt;/span&gt;
                    &lt;/li&gt;
                    {% else %}
                    &lt;li&gt;
                        &lt;a href="{{ BASE_PATH }}{{ node.url }}" class="active"&gt;{{ node.title | xml_escape }}&lt;/a&gt;
                        &lt;span&gt;&lt;time datetime="{{ node.date | date: "%Y-%m-%d" }}"&gt;{{ node.date | date: "%Y/%m/%d" }}&lt;/time&gt;&lt;/span&gt;
                    &lt;/li&gt;
                    {% endif %}
                {% endif %}
            {% endif %}
        {% endfor %}
    {% endif %}

    {% assign pages_list = nil %}
    {% assign group = nil %}   
&lt;/ul&gt;
{% endfor %}
</code></pre>

<h2>插件实现分页面</h2>

<p>找了一些资料，使用plugin的方式可以生成文件，以及页面的自定义标签。在<code>_plugins</code>目录下新增<code>jekyll-tag-page.rb</code> :</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>module Jekyll
</span><span class='line'>
</span><span class='line'>  class TagPage &lt; Page
</span><span class='line'>      def initialize(site, base, dir, tag)
</span><span class='line'>          @site = site
</span><span class='line'>          @base = base
</span><span class='line'>          @dir = dir
</span><span class='line'>          @name = 'index.html'
</span><span class='line'>
</span><span class='line'>          self.process(@name)
</span><span class='line'>          self.read_yaml(File.join(base, '_layouts'), 'tag_index.html')
</span><span class='line'>
</span><span class='line'>          self.data['tags'] = tag
</span><span class='line'>      end
</span><span class='line'>  end
</span><span class='line'>
</span><span class='line'>  class TagPageGenerator &lt; Generator
</span><span class='line'>      safe true
</span><span class='line'>
</span><span class='line'>      def generate(site)
</span><span class='line'>          if site.layouts.key? 'tag_index'
</span><span class='line'>              dir = site.config['tag_dir'] || 'tags'
</span><span class='line'>              site.tags.keys.each do |tag|
</span><span class='line'>                  site.pages &lt;&lt; TagPage.new(site, site.source, File.join(dir, tag), tag)
</span><span class='line'>              end
</span><span class='line'>          end
</span><span class='line'>      end
</span><span class='line'>  end
</span><span class='line'>end
</span></code></pre></td></tr></table></div></figure>


<p>生成插件为每个TAG生成了一个页面，<code>_layout</code>模板设置为tag_index.html，在模板中可以根据当前页面的tags过滤并只显示该tag的日志列表。文件默认保存到<code>tags/TAG</code>目录下。</p>

<pre><code>{% for tag in site.tags %} 
    {% if page.tags == tag[0] %}
    &lt;h2&gt;{{ tag[0] }}&lt;/h2&gt;
    &lt;ul class="index"&gt;
        {% assign pages_list = tag[1] %}  

        {% for node in pages_list %}
            {% if node.title != null %}
            &lt;li&gt;
                &lt;a href="{{ BASE_PATH }}{{ node.url }}"&gt;{{ node.title | xml_escape }}&lt;/a&gt;
                &lt;span&gt;&lt;time datetime="{{ node.date | date: "%Y-%m-%d" }}"&gt;{{ node.date | date: "%Y/%m/%d" }}&lt;/time&gt;&lt;/span&gt;
            &lt;/li&gt;
            {% endif %}
        {% endfor %}

        {% assign pages_list = nil %}
    &lt;/ul&gt;
    {% endif %}
{% endfor %}
</code></pre>

<h2>使用脚本生成目录和md文件来实现</h2>

<p>但是由于github不支持自定义插件功能，也就是说，就算我提交了<code>_plugin</code>的代码也是无效的。<strong>最终最后的实现</strong>，使用Shell脚本在tags目录下生成文件夹和内容：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd $tools/../tags
</span><span class='line'>
</span><span class='line'>find * -type d -exec rm -rf {} +
</span><span class='line'>
</span><span class='line'>for tag in `cat tags`; do 
</span><span class='line'>mkdir $tag
</span><span class='line'>cat &gt; $tag/index.md &lt;&lt;EOF
</span><span class='line'>---
</span><span class='line'>layout: tag
</span><span class='line'>categories: [$tag]
</span><span class='line'>---
</span><span class='line'>
</span><span class='line'>EOF
</span><span class='line'>done;
</span></code></pre></td></tr></table></div></figure>


<p>脚本列表tags文件内容生成目录和index.md文件。</p>

<p>layout模板tag.html页面代码如下：</p>

<pre><code>&lt;h3&gt;Tag: {{ page.categories[-1] }}&lt;/h3&gt;
&lt;ul class="archive-list"&gt;

{% for tag in site.tags %}
{% if page.categories[-1] == tag[0] %}

{% assign pages_list = tag[1] %} 
{% for node in pages_list %}
    {% if node.title != null %}
        &lt;li class="archive"&gt;
            &lt;span&gt;
                &lt;time datetime="{{ node.date | date: "%Y-%m-%d" }}"&gt;
                    {{ node.date | date: "%Y/%m/%d" }}
                &lt;/time&gt;
            &lt;/span&gt;
            &lt;a href="{{ BASE_PATH }}{{ node.url }}" class="archive-link"&gt;{{ node.title | xml_escape }}&lt;/a&gt;
        &lt;/li&gt;
    {% endif %}
{% endfor %}
{% assign pages_list = nil %} 

{% endif %}
{% endfor %}

&lt;/ul&gt;
</code></pre>

<p>&ndash;END</p>

<h1>参考</h1>

<ul>
<li><a href="https://github.com/shopify/liquid/wiki/liquid-for-designers">liquid页面渲染语言</a></li>
</ul>


<p>&ndash;END</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/03/18/jekyll-edit-link-in-web-page/">Jekyll页面添加编辑按钮</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-18T05:56:53+08:00" pubdate data-updated="true">Tue 2014-03-18 05:56</time>
		
        
		
      </p>
    
  </header>


  <div class="entry-content"><p>近期把其他博客的日志导出成Markdown后导入到自己的blog。想在本地预览后，看到不好的地方就进行修改，想法是美好的，现实是残酷的！<strong>找文件太麻烦</strong>了，定位到了文件夹，还需要找文件。反正就是觉得很不爽！最终通过<a href="https://gist.github.com/4548d6c182f8162497fa.git">自定义URL协议的方式完美的解决</a>。</p>

<h3>尝试ActiveXObject</h3>

<p>IE下可以通过<a href="http://iask.sina.com.cn/b/8583473.html?sudaref=www.google.com.hk&amp;retcode=0">ActiveXObject调用本地的程序</a>打开文件。尽管局限于IE，但是如果能实现的话将就下也OK的。
理所当然认为IE下是没有问题，就找chrome下能否执行<a href="http://stackoverflow.com/questions/7022568/javascript-activexobject-in-firefox-or-chrome-not-ie">ActiveXObject的兼容对象</a>。</p>

<p>在chrome下，没啥很好的替代实现。同时在IE11下，ActiveXObject调用shell对象报<a href="http://www.cnblogs.com/dongyongjing/archive/2007/04/18/718629.html"><strong>automation服务器不能创建对象</strong></a>，需要额外开启功能、降低IE的安全性等等，也很麻烦！！</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>function callShellApplication(){
</span><span class='line'>  var objShell = new ActiveXObject("WScript.shell");
</span><span class='line'>  objShell.run('"C:\Program Files (x86)\wkhtmltopdf\wkhtmltopdf.exe" "c:\PDFTestPage.html" "c:\TEST.pdf"');
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h3>尝试Flash</h3>

<p>有想过使用flash解决，毕竟剪贴板复制功能的<code>ZeroClipboard.swf</code>是那么的完美^_^。但是<a href="http://www.cnblogs.com/yao/archive/2008/01/02/1022721.html">swf不能执行exe程序</a>，没办法只能再寻求其他办法。</p>

<h3>自定义URL协议</h3>

<p>最后看到了<a href="http://hi.baidu.com/pluto632/item/5007737da31344326f29f666"><strong>URL Protocol的实现方式</strong></a>，是的哦，Github-Windows、以及QQ等这些网页的工具不都是调用系统的程序吗？！</p>

<p>然后试着按照网页的教程，试着弄弄！<del>又是一个新鲜事物，有挑战的事情做起来就更有激情！</del></p>

<p>添加注册表项<code>reg-npp-windows.bat</code>：（可以先导出github-windows的注册表项参考。这里使用用bat来实现，注册脚本中可以通过<strong>相对路径</strong>指向执行的程序）</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>set NPP_APP=%~dp0npp-windows.bat
</span><span class='line'>set NPP_ARG=%%1
</span><span class='line'>
</span><span class='line'>set "NPP_CMD=\"%NPP_APP%\" \"%NPP_ARG%\""
</span><span class='line'>
</span><span class='line'>reg add "HKEY_CLASSES_ROOT\npp-windows" /f
</span><span class='line'>reg add "HKEY_CLASSES_ROOT\npp-windows" /ve /t REG_SZ /d "URL:npp-windows Protocol" /f
</span><span class='line'>reg add "HKEY_CLASSES_ROOT\npp-windows" /v "URL Protocol" /t REG_SZ /d "" /f
</span><span class='line'>
</span><span class='line'>reg add "HKEY_CLASSES_ROOT\npp-windows\DefaultIcon"  /f
</span><span class='line'>reg add "HKEY_CLASSES_ROOT\npp-windows\DefaultIcon"  /ve /t REG_SZ /d "" /f
</span><span class='line'>
</span><span class='line'>reg add "HKEY_CLASSES_ROOT\npp-windows\shell" /f
</span><span class='line'>reg add "HKEY_CLASSES_ROOT\npp-windows\shell\open" /f
</span><span class='line'>reg add "HKEY_CLASSES_ROOT\npp-windows\shell\open\command" /f
</span><span class='line'>reg add "HKEY_CLASSES_ROOT\npp-windows\shell\open\command" /ve /t REG_SZ /d "%NPP_CMD%" /f
</span><span class='line'>
</span><span class='line'>pause
</span></code></pre></td></tr></table></div></figure>


<p>点击URL真正调用的是<code>npp-windows.bat</code>命令（即上面的注册脚本的<code>NPP_APP</code>）:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>@echo off
</span><span class='line'>
</span><span class='line'>set fileRelativePath=%1
</span><span class='line'>set filepath="%~dp0..\..\..\%fileRelativePath:~17,-1%"
</span><span class='line'>
</span><span class='line'>start D:\local\usr\npp\notepad++.exe %filepath%
</span><span class='line'>exit
</span></code></pre></td></tr></table></div></figure>


<p><code>start</code>命令新起一个子进程打开程序，这样可以启动后面的程序，同时关闭/退出掉黑窗口！
请求参数有整个url加上双引号，如<code>"npp-windows://e/about.md"</code>。数字<code>17,-1</code>获取真正的路径。由于根下的文件会被自动加反斜杠<code>"npp-windows://about.md/"</code>，所以加上<code>e/</code>进行修复。</p>

<p>在网页使用链接，然后加上<code>npp-windows</code>的协议就可以打开文件进行修改编辑了。</p>

<pre><code>&lt;a class="shellExecuteLink" href="npp-windows://e/{{ page.path }}" title="本地编辑"&gt;&lt;i class="icon-edit"&gt; &lt;/i&gt;&lt;/a&gt;
</code></pre>

<p>对BAT的命令相当的迷惑：</p>

<ul>
<li><code>"D:\local\usr\npp\notepad++.exe" "%~dp0..\..\..\%fileRelativePath:~17,-1%"</code> OK</li>
<li><code>start D:\local\usr\npp\notepad++.exe "%~dp0..\..\..\%fileRelativePath:~17,-1%"</code> OK</li>
<li><code>start "D:\local\usr\npp\notepad++.exe" "%~dp0..\..\..\%fileRelativePath:~17,-1%"</code> 弹出<strong>Windows无法打开此文件</strong>的框</li>
</ul>


<h3>闪黑窗口优化尝试</h3>

<p>功能已经实现了，但是仍然有一个黑窗口一闪而过！</p>

<p>爱折腾的程序员啊！！</p>

<p>找啊找，发现<strong>vbs可以后台执行命令</strong>。直接在命令行是可以执行<strong>npp-windows.vbs</strong>的，同时那种不弹窗的效果也是自己想要的！！但把vbs作为url-protocol协议的执行程序时，点击页面链接却没一点反应！但是运行bat和exe程序是没有问题的。</p>

<p>其实windows下的bat和vbs程序都是可以转成exe的。
下载了<a href="http://www.abyssmedia.com/scriptcryptor/">ScriptCryptor Compiler</a><a href="http://www.sdbeta.com/uploads/soft/131002/1-131002113S7.rar">破解版</a>，把vbs转成exe后就可以被url-protocol调用了，且没有闪窗的现象了！</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Dim CurrPath
</span><span class='line'>CurrPath=WScript.Createobject("Scripting.FileSystemObject").GetFile(Wscript.ScriptFullName).ParentFolder.Path
</span><span class='line'>
</span><span class='line'>Dim fileRelativePath
</span><span class='line'>fileRelativePath=WScript.Arguments(0)
</span><span class='line'>
</span><span class='line'>Dim filepath
</span><span class='line'>filepath=Mid(fileRelativePath,17)
</span><span class='line'>
</span><span class='line'>Dim Wsh
</span><span class='line'>Set Wsh = WScript.CreateObject("WScript.Shell")
</span><span class='line'>
</span><span class='line'>Wsh.Run "D:\local\usr\npp\notepad++.exe " + CurrPath + "\..\..\..\" + filepath,0,True
</span><span class='line'>
</span><span class='line'>Set Wsh=NoThing
</span><span class='line'>WScript.quit
</span></code></pre></td></tr></table></div></figure>


<p>同时上面的vbs程序有一个与bat同样的问题：在<strong>文件</strong>没有关闭的前，vbs程序是一直等待的！如果使用这种方式，编辑很多文件就会存在很多进程。</p>

<p>而直接在<code>Wsh.Run</code>后面加上<code>start</code>前缀就报<strong>系统找不到指定的文件</strong>的错误！整来整去最后还是调用bat文件，解决主进程一直等待的问题。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Dim CurrPath
</span><span class='line'>CurrPath=WScript.Createobject("Scripting.FileSystemObject").GetFile(Wscript.ScriptFullName).ParentFolder.Path
</span><span class='line'>
</span><span class='line'>Dim fileRelativePath
</span><span class='line'>fileRelativePath=WScript.Arguments(0)
</span><span class='line'>
</span><span class='line'>Dim Wsh
</span><span class='line'>Set Wsh = WScript.CreateObject("WScript.Shell")
</span><span class='line'>
</span><span class='line'>Wsh.Run CurrPath + "\npp-windows.bat """ + fileRelativePath + """",0,True
</span><span class='line'>
</span><span class='line'>Set Wsh=NoThing
</span><span class='line'>WScript.quit
</span></code></pre></td></tr></table></div></figure>


<p>然后修改<strong>添加注册表项的命令</strong>reg-npp-windows.bat，重新覆盖注册下就可以了。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>set NPP_APP=%~dp0npp-windows.vbs.exe</span></code></pre></td></tr></table></div></figure>


<p>尽管没有黑窗口了闪现，但是速度慢了很多！！
两种方式换着用呗，修改也简单： 改下程序的名字，重新注册下就行了。</p>

<h2>其他</h2>

<p>URL-protocol的用户选择设置会被chrome缓冲，可以通过<code>C:\Users\Administrator\AppData\Local\Google\Chrome\User Data\Local State</code>文件的<code>protocol_handler</code>节点来修改。</p>

<h2>参考</h2>

<ul>
<li><a href="http://stackoverflow.com/questions/15351508/using-a-wscript-shell-activex-to-execute-a-command-line">Using a WScript.shell activeX to execute a command line</a></li>
<li><a href="http://huagenli.iteye.com/blog/552447">在html中利用WScript.Shell启用本地程序</a></li>
<li><a href="http://blog.csdn.net/insidekernel/article/details/2033175">通过网页链接打开应用程序客户端的两种实现方式</a></li>
<li><a href="http://hi.baidu.com/pluto632/item/5007737da31344326f29f666">浏览器打开本地程序，全面支持ie,firefox,opera,chrome,自定义url protocol</a></li>
<li><a href="http://blog.csdn.net/lockelk/article/details/7541374">自定义URL Protocol调用Winfrom程序（exe）并实现传值——类似网页链接调用QQ、旺旺</a></li>
<li><a href="http://www.cnblogs.com/zjneter/archive/2008/01/08/1030066.html">自定义URL Protocol Handler</a></li>
<li><a href="https://github.com/shopify/liquid/wiki/liquid-for-designers">liquid页面渲染语言</a></li>
</ul>


<p>&ndash;END</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/03/15/tomcat-batch-startup/">Tomcat源码阅读-批处理解读</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-15T18:03:03+08:00" pubdate data-updated="true">Sat 2014-03-15 18:03</time>
		
        
		
      </p>
    
  </header>


  <div class="entry-content"><h3>常用Tomcat批处理文件</h3>

<p>在windows系统下，双击bin/startup.bat即可启动tomcat。但核心的批处理文件是<strong>catalina.bat</strong>，最终调用的就是catalina.bat文件。</p>

<p>version.bat、shutdown.bat、startup.bat、configtest.bat都只是增加version/stop/start/configtest命令参数，然后调用catalina.bat批处理文件。</p>

<h3>catalina.bat</h3>

<p>批处理文件中最重要的非catalina.bat莫属了！包含非常多的操作！</p>

<h4>1 关闭优化</h4>

<p><strong> Suppress(止住) Terminate batch job on CTRL+C </strong></p>

<p>在第一个参数<code>%1</code>为run操作时，同时拥有%TEMP%目录写权限，执行<code>call "%~f0" %* &lt;"%TEMP%\%~nx0.Y"</code>，好像也就是调用自身，如果检测到<code>"%TEMP%\%~nx0.run"</code>存在就跳到脚本主体去执行。完成后退出。<strong>Tomcat7才加上的！</strong></p>

<p>在按了CTRL+C后，<strong>去掉提示用户确认操作</strong>！！！对比下Tomcat6和Tomcat7一切都明白了！在命令行里面调用call的重定向输入<code>%TEMP%\%~nx0.Y</code>的就是Y！！就是提示行的输入啊！</p>

<blockquote><p>Suppress anoying Terminate batch job prompt when hitting CTRL+C. Note however that it leaves the file named yes in the bin directory</p>

<p>git-svn-id: <a href="https://svn.apache.org/repos/asf/tomcat/trunk@922223">https://svn.apache.org/repos/asf/tomcat/trunk@922223</a> 13f79535-47bb-0310-9956-ffa450edef68</p></blockquote>

<h4>2 验证主目录</h4>

<ul>
<li><p>获取CATALINA_HOME</p>

<ul>
<li>CATALINA_HOME环境变量存在</li>
<li>当前目录<code>%cd%</code>，如果<code>%CATALINA_HOME%\bin\catalina.bat</code>存在，跳到<strong>验证EXECUTABLE</strong>操作</li>
<li>当前目录父目录。</li>
</ul>
</li>
<li><p>验证CATALINA_HOME</p>

<p>  如果<code>%CATALINA_HOME%\bin\catalina.bat</code>不存在，打印错误信息，退出</p></li>
<li><p>验证EXECUTABLE</p>

<p>  其实就是验证%CATALINA_HOME%\bin\catalina.bat是否存在（个人觉得相当多余，到达这一部，已经保证了catalina.bat的存在）。</p>

<p>  不存在则报错。每个文件都要获取并设置CATALINA_HOME，其实shell的sh文件也一样，每个sh文件都需要获取一遍当前dirname。</p></li>
</ul>


<h4>3 设置环境变量/参数</h4>

<ul>
<li>设置CATALINA_BASE为CATALINA_HOME（如果没定义）</li>
<li>调用setenv.bat脚本设置环境变量（如果存在）。先检测调用CATALINA_BASE目录下的，没有才调用CATALINA_HOME下的。</li>
<li>调用CATALINA_HOME下面的setclasspath.bat脚本（必须存在，否则会报错退出）</li>
<li>获取CLASSPATH，并添加bootstrap.jar</li>
<li>设置CATALINA_TMPDIR为<code>%CATALINA_BASE%\temp</code>（如果没定义）</li>
<li>如果tomcat-juli.jar存在则添加到CLASSPATH</li>
<li>把<code>%LOGGING_CONFIG%</code>加入JAVA_OPTS

<ol>
<li> <code>%LOGGING_CONFIG%</code></li>
<li> <code>-Dnop</code></li>
<li> <code>-Djava.util.logging.config.file="%CATALINA_BASE%\conf\logging.properties"</code></li>
</ol>
</li>
<li>把<code>%LOGGING_MANAGER%</code>加入JAVA_OPTS

<ol>
<li> <code>%LOGGING_MANAGER%</code></li>
<li> <code>-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager</code></li>
</ol>
</li>
<li>输出环境变量信息</li>
</ul>


<h4>4 组装执行命令</h4>

<p>接下来的变量直接牵涉到怎么去运行tomcat！ 这些变量包括： MAINCLASS、ACTION、JDPA、_EXECJAVA、SECURITY_POLICY_FILE</p>

<ul>
<li><p>MAINCLASS设置了Java调用的主类org.apache.catalina.startup.Bootstrap</p>

<p>  除了version直接调用org.apache.catalina.util.ServerInfo外，其他命令的入口都是这个类。</p></li>
<li><p>ACTION默认的操作为start</p>

<p>  另外命令对应是stop/configtest。</p></li>
<li><p>JDPA(<a href="http://www.ibm.com/developerworks/cn/java/j-lo-jpda1/">Java Platform Debugger Architecture</a>)</p>

<p>  使用<code>jpda [start|run|stop|configtest]</code>即可启用远程调试功能。默认为<code>-agentlib:jdwp=transport=dt_socket,address=8000,server=y,suspend=n</code>。也可以通过JPDA_TRANSPORT，JPDA_ADDRESS，JPDA_SUSPEND环境变量来指定部分参数，或者直接指定JPDA_OPTS完整的JPDA选项。</p></li>
<li><p>_EXECJAVA： 默认为<code>%_RUNJAVA%</code>，debug时设置为<code>%_RUNJDB%</code>，start时指定TITLE设置为<code>start "%TITLE%" %_RUNJAVA%</code>。</p></li>
<li>SECURITY_POLICY_FILE： debug/run/start后跟<code>-security</code>时，设置为<code>%CATALINA_BASE%\conf\catalina.policy</code> [TODO]</li>
</ul>


<p>最后就是_EXECJAVA、Jpda、Security进行组合来执行调用Java类，<code>ACTION</code>作为最后一个参数传给java的main方法。</p>

<p><strong>其他一些参数可以通过JAVA_OPTS，CATALINA_OPTS环境变量指定。</strong></p>

<hr />

<h3>其他注意点</h3>

<ul>
<li><p>如果第一个参数为debug命令，一定要用JDK！</p>

<p>  在打印输出信息的时刻，会输出JAVA_HOME，而不是JRE_HOME</p>

<p>  看到的一些不足：
在打印信息的时刻，%1判断是否为debug。接下来检测取出jpda，再判读其他执行操作（debug/run/start/configtest/stop/version）。
但是呢，jdpa后不能跟debug的！执行了<code>catalina.bat debug</code>会调用jdb，而 -agentlib:jdwp不在jdb允许的选项之列！</p></li>
<li><p>网上很多教程都是，安装tomcat都会去设置环境变量！</p>

<p>  JAVA_HOME和TOMCAT_HOME的环境变量（全局），其实可以在startup.bat中设置即可（本地）。这样，可以很好的运行多个不同版本的tomcat。</p></li>
<li><p>run和start的区别</p>

<p>  start命令会<code>start %_RUNJAVA%</code>另起一个进程，而run是直接调用<code>%_RUNJAVA%</code>。
在windows系统start命令会弹出一个新窗口，但是在linux下面start会在调用的时刻添加<code>&amp;</code>后台运行，打印的信息都得去日志文件中查看。</p></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/03/14/jekyll-page-implement-navigate/">Jekyll页面实现上/下一篇文章导航</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-14T08:03:23+08:00" pubdate data-updated="true">Fri 2014-03-14 08:03</time>
		
        
		
      </p>
    
  </header>


  <div class="entry-content"><p>在博客页面在内容会有上一遍和下一遍文章的链接。
在jekyll的page对象包含上下篇的引用 <a href="http://jekyllbootstrap.com/api/template-data-api.html">Template Data Api</a> ，只需要在页面进行展示即可。</p>

<p>默认主题中jekyll-bootstrap的twitter主题中包含上下篇文章的实现如下：</p>

<pre><code>&lt;hr&gt;
&lt;div class="pagination"&gt;
  &lt;ul&gt;
  {% if page.previous %}
    &lt;li class="prev"&gt;&lt;a href="{{ BASE_PATH }}{{ page.previous.url }}" title="{{ page.previous.title }}"&gt;&amp;larr; Previous&lt;/a&gt;&lt;/li&gt;
  {% else %}
    &lt;li class="prev disabled"&gt;&lt;a&gt;&amp;larr; Previous&lt;/a&gt;&lt;/li&gt;
  {% endif %}
    &lt;li&gt;&lt;a href="{{ BASE_PATH }}{{ site.JB.archive_path }}"&gt;Archive&lt;/a&gt;&lt;/li&gt;
  {% if page.next %}
    &lt;li class="next"&gt;&lt;a href="{{ BASE_PATH }}{{ page.next.url }}" title="{{ page.next.title }}"&gt;Next &amp;rarr;&lt;/a&gt;&lt;/li&gt;
  {% else %}
    &lt;li class="next disabled"&gt;&lt;a&gt;Next &amp;rarr;&lt;/a&gt;
  {% endif %}
  &lt;/ul&gt;
&lt;/div&gt;
&lt;hr&gt;
</code></pre>

<p><strong>注意点</strong></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{ % highlight % }{ % endhighlight % }
</span><span class='line'>
</span><span class='line'># 用于直接输出liquid标签源码，但是raw不能嵌套使用
</span><span class='line'>{ % raw % } { % endraw % }</span></code></pre></td></tr></table></div></figure>


<h2>参考</h2>

<ul>
<li><a href="http://docs.shopify.com/themes/liquid-basics/output#date">liquid-date output</a></li>
<li><a href="http://joshbranchaud.com/blog/2012/12/24/Date-Formatting-in-Jekyll.html">日期格式化</a></li>
<li><a href="http://blog.segmentfault.com/skyinlayer/1190000000406013">使用Jekyll在Github上搭建个人博客</a></li>
<li><a href="http://blog.segmentfault.com/skyinlayer/1190000000406015">分页</a></li>
<li><a href="http://jser.me/2013/07/28/%E6%97%A7blog%E8%BF%81%E7%A7%BB%E5%88%B0jekyll%2Bgithub.html">旧blog迁移到jekyll+github</a></li>
<li><a href="http://jekyllrb.com/docs/variables/">jekyll可以使用的参数</a></li>
<li><a href="https://github.com/shopify/liquid/wiki/liquid-for-designers">liquid页面渲染语言</a></li>
<li><a href="http://www.open-open.com/lib/view/open1361323129134.html">javascript-liquid</a></li>
</ul>


<p>&ndash;END</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/42">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/40">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>佛爷</h1>
  <p>来之不易, 且等且珍惜. <br>得之我幸; 不得<span style="display:none">-争-复争-且不得</span>, 命也, 乐享天命, 福也. </p>
  <p><a href="https://github.com/winse"><i class="fa fa-github-alt">winse</i></a>&nbsp;&nbsp;<a href="http://weibo.com/winseliu"><i class="fa fa-weibo">winseliu</i></a></p>
</section>
<section>
  <h1><a class='category' href='/blog/categories/recommend/'>Recommend</a></h1>
	<ul role="list">
		
			<li class="post">
				<a href="/blog/2023/11/18/reinstall-redmine-on-respberry2/">Reinstall Redmine on Respberry2</a>
			</li>
		
			<li class="post">
				<a href="/blog/2023/03/25/reinstall-raspberry2/">重新折腾raspberry2</a>
			</li>
		
			<li class="post">
				<a href="/blog/2023/03/25/mirror-request/">请求复制/镜像</a>
			</li>
		
			<li class="post">
				<a href="/blog/2022/07/24/xinchuang-install-postgres/">信创环境迁移浅析-以Postgres为例</a>
			</li>
		
			<li class="post">
				<a href="/blog/2021/12/08/recommand-blogs/">认真的博客</a>
			</li>
		
			<li class="post">
				<a href="/blog/2017/10/30/windows-run-ubuntu/">Windows Run Ubuntu</a>
			</li>
		
			<li class="post">
				<a href="/blog/2017/09/18/redmine-deploy-and-install-plugins/">Redmine部署以及插件安装</a>
			</li>
		
			<li class="post">
				<a href="/blog/2015/09/13/review-linux-101-hacks/">【linux 101 Hacks】读后感</a>
			</li>
		
			<li class="post">
				<a href="/blog/2013/09/19/let-shell-command-efficient/">让敲Shell命令高效起来</a>
			</li>
		
	</ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2023/11/18/reinstall-redmine-on-respberry2/">Reinstall Redmine on Respberry2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/04/09/dingtalk-with-openai/">钉钉群机器人对接ChatGPT</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/03/26/clash-on-raspberry4/">树莓派4安装Clash</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/03/25/reinstall-raspberry2/">重新折腾raspberry2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/03/25/mirror-request/">请求复制/镜像</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/03/18/wechat-on-openai/">微信对接OpenAI</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/02/01/git-reset-hard/">记git Reset &#8211;hard</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/02/01/register-openai/">注册OpenAI</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Categories</h1>

	 
	<ul role="list">
		
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/0/'>0</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/alluxio/'>alluxio</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/android/'>android</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/bigdata/'>bigdata</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/blabla/'>blabla</a> (7) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/books/'>books</a> (6) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/clash/'>clash</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/debug/'>debug</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/deprecated/'>deprecated</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/devops/'>devops</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/docker/'>docker</a> (16) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/elasticsearch/'>elasticsearch</a> (3) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/es/'>es</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/flume/'>flume</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/ganglia/'>ganglia</a> (5) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/git/'>git</a> (4) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/good-series-1/'>good-series-1</a> (9) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/hadoop/'>hadoop</a> (44) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/hbase/'>hbase</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/hive/'>hive</a> (8) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/hole/'>hole</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/java/'>java</a> (13) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/jekyll/'>jekyll</a> (8) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/jenkins/'>jenkins</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/jeykll/'>jeykll</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/k2/'>k2</a> (2) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/k8s/'>k8s</a> (15) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/kafka/'>kafka</a> (3) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/kubeadm/'>kubeadm</a> (3) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/logstash/'>logstash</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/map/'>map</a> (2) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/nfs/'>nfs</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/nginx/'>nginx</a> (5) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/openai/'>openai</a> (3) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/openeuler/'>openeuler</a> (2) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/openvpn/'>openvpn</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/puppet/'>puppet</a> (11) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/r4a/'>r4a</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/raspberry/'>raspberry</a> (5) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/recommend/'>recommend</a> (18) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/redis/'>redis</a> (7) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/redmine/'>redmine</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/respberry2/'>respberry2</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/scala/'>scala</a> (4) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/shell/'>shell</a> (4) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/spark/'>spark</a> (13) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/staf/'>staf</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/tachyon/'>tachyon</a> (3) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/tez/'>tez</a> (2) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/tools/'>tools</a> (71) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/topics/'>topics</a> (2) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/vagrant/'>vagrant</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/vnc/'>vnc</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/wsl/'>wsl</a> (1) 
		</li>
		 
		<li style="float:left; width:120px"> 
			<a class='category' href='/blog/categories/zookeeper/'>zookeeper</a> (1) 
		</li>
		
		
		<li style="clear:both; width: 1px; margin: 0; padding: 0;"></li>
		<li class="category"><a href="/blog/archives">All categories</a> (236)</li>
	</ul>
	
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/winse">@winse</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'winse',
            count: 4,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
<!--
  <h1>Softs, I&#8217;m using</h1>
  <ul>
    <li class="post">
		<a href="http://hadoop.apache.org/releases.html">hadoop-2.6.3</a>
	</li>
	<li class="post">
		<a href="https://issues.apache.org/jira/browse/HBASE/?selectedTab=com.atlassian.jira.jira-projects-plugin:changelog-panel">hbase-0.96.0</a>
	</li>
	<li class="post">
		<a href="https://hive.apache.org/downloads.html">hive-1.2.1</a>
	</li>
	<li class="post">
		<a href="https://issues.apache.org/jira/browse/TEZ/?selectedTab=com.atlassian.jira.jira-projects-plugin:summary-panel">tez-0.7.0</a>
    </li>
  </ul>
&#8211;>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2023 - Winse Liu -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
  <script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1253103971'%3E%3C/span%3E%3Cscript src='https://s19.cnzz.com/z_stat.php%3Fid%3D1253103971%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</p>

</footer>
  


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>

<script>

var time=location.pathname.substring(6).substring(0,11);
var eName=location.pathname.substring(17);
var gitalk = new Gitalk({
  clientID: 'c14f68eac6330d15d984',
  clientSecret: '73b7c1fffa98e299ff0cdd332821201933858e6e',
  repo: 'winse.github.com',
  owner: 'winse',
  admin: ['winse'],
  id: eName,
  labels: ['Gitalk', time],
  body: "http://winse.github.io" + location.pathname,
  createIssueManually: true,
  
  // facebook-like distraction free mode
  distractionFreeMode: false
})

gitalk.render('gitalk-container')

</script>



<script>
/*
$.ajax({
  type: "POST",
  url: "http://log.winseliu.com:20000",
  data: JSON.stringify({
    title: document.title,
    location: JSON.stringify(location),
    referrer: document.referrer,
    userAgent: navigator.userAgent
  }),
  contentType: "application/json; charset=utf-8",
  dataType: "json"
});
*/
</script>











</body>
</html>
